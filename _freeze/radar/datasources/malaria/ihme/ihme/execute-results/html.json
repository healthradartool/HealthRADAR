{
  "hash": "aa82aacc3fe2c844a2ab5984b6cb9b61",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Institute for Health Metrics and Evaluation\"\ndescription: \"The Institute for Health Metrics and Evaluation (IHME) works with collaborators around the world to develop timely, relevant, and scientifically valid evidence that illuminates the state of health everywhere.\"\ndate: 10-23-2024 # mm-dd-yyyy\nimage: \"images/ihme.jpg\"\n\ncategories:\n  - malaria\n  - epidemiology\n  - interventions\n  - country-level\n  - annual\n---\n\n\n\n\n::: {.page-tabs .panel-tabset}\n\n## Overview\n\n<h2>About the data</h2>\n\nThe [**Global Burden of Disease (GBD)**](http://www.healthdata.org/gbd/about) study, conducted by the Institute for Health Metrics and Evaluation (IHME), evaluates mortality and disability caused by 371 diseases and injuries, along with 88 risk factors across the globe. IHME meticulously collects and analyzes the data, offering insights into trends over time, the effectiveness of interventions, and disparities in the impact of malaria among different populations. The IHME provides extensive malaria data that includes prevalence, incidence, mortality rates, intervention coverage, and the overall burden of disease in 204 countries and territories, with subnational estimates for 21 regions. This comprehensive dataset is a valuable resource for policymakers, researchers, and public health professionals in developing strategies to reduce the global malaria burden and monitor progress toward elimination goals.\n\n<h2>Accessing the data</h2>\n\nThe **GBD Results Tool** enables you to download estimates from the study, along with relevant materials such as survey instruments, protocols, and summary information, are accessible on the [**IHME Data Page**](https://ghdx.healthdata.org/ihme_data) through the Global Health Data Exchange (GHDx). You can search for datasets directly or use the [**GDB Results Tool**](https://vizhub.healthdata.org/gbd-results) for more detailed queries. IHME also offers API access to interact with large datasets programmatically.\n\nSearch terms such as `\"IHME malaria deaths estimates\"`, `\"malaria prevalence\"`, `\"malaria incidence\"`, or `\"bednet usage\"` can be used to find datasets compiled by IHME related to malaria on the GHDx homepage.\n\nAlternatively, you can navigate to the Data Tools tab on the homepage. However, you will need to **create an account or sign in** to access and download data. If you do not have an account, click on **sign in** at the top of the Results tab. If you already have an account, click sign in and enter your credentials, then select **GBD results tool** under IHME Data Visualization Tools. In the results tool interface, select the choose the disease metrics and apply filters to narrow the search by `location (country/region)`, `year`, `age group`, and `sex`.\n\n![IHME GBD Results Visualization Tool Page.](images/ihme_gbd_estimates_viz.png \"IHME GBD Results Tool\")\n\nYou can also visualize data as graphs or tables before downloading. You can right-click on the title of files within the GHDx and download them. Datasets can be downloaded as `.csv` and `.xls` files from the GHDx site.\n\n<h2>What does the data look like?</h2>\n\nThe data can be downloaded from the [**GHDx IHME ITN Data Page**](https://ghdx.healthdata.org/record/ihme-data/sub-saharan-africa-insecticide-treated-bed-nets-1999-2008) as a `.xls` file. This dataset provides estimates of bed net ownership, ownership among populations at risk, bed net use in children under five in at-risk populations, and trends in the scale-up of LLIN in 44 African countries during the 1999 to 2008 period.\n\n![IHME estimates of insecticide treated bednets distributed.](images/IHME_itns_1999_to_2008.png \"IHME ITN dataset\")\n\nDatasets dowloaded as `.csv` files from the [**GDB Results Tool**](https://vizhub.healthdata.org/gbd-results) have a standard format which contains mortality, prevalence and incidence in number, percent and rate by location, sex, age, cause of injury, annual value as well as the upper and lower bounds.\n\n![IHME estimates of malaria related deaths, prevalence and incidence.](images/ihme_gbd_malaria_metrics.png \"IHME malaria metrics dataset\")\n\n<h2>Key points to consider</h2>\n\nIHME (Institute for Health Metrics and Evaluation) provides detailed data on health metrics, including estimates of disease burden such as incidence, mortality, and risk factors for malaria, which can inform transmission models. When integrating IHME data estimates into malaria transmission models, several key aspects should be considered regarding data collection, storage, and its usage to ensure accurate and effective modeling. \n\n- IHME uses statistical models and expert review to produce comprehensive Global Burden of Disease (GBD) estimates of malaria burden by country, age, and sex.\n\n- Data is updated annually or periodically depending on the source (e.g., monthly surveillance data or annual surveys).\n\n- These data might not always have the same resolution as the model. For instance, while a model may require fine-grained data at the village level or daily intervals, IHME may provide data aggregated at the national level or annually.\n\n- IHME estimates often come with uncertainty intervals due to limitations in the data sources. This uncertainty should be accounted for in model simulations, especially for stochastic models or sensitivity analyses.\n\n## Visualisations\n\n<h2>How to use this data?</h2>\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\nThese datasets can be explored to gain insights into the ownership of ITNs, distribution of LLINs, and assess the impact of malaria in Elimination 8 (E8) countries during the 2000 to 2008 period.\n\nInspect the data beforehand to understand how it is structured and identify indicators that are relevant to our analysis, we can display our data in a table as follows:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readxl)\nlibrary(tidyverse)\n\n# Load insecticide treated nets data\nihme_nets <- read_excel(path = \"data/IHME_INSECTICIDE_TREATED_BEDNETS_SUB_SAHARAN_AFRICA_1999_2008.xls\")\n\n# Pull the names of countries\nihme_nets |>  \n  pull(Country) |>  \n  unique()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"Angola\"                   \"Benin\"                   \n [3] \"Botswana\"                 \"Burkina Faso\"            \n [5] \"Burundi\"                  \"Cameroon\"                \n [7] \"Central African Republic\" \"Chad\"                    \n [9] \"Comoros\"                  \"Congo\"                   \n[11] \"Cote d'Ivoire\"            \"Dem. Rep. of Congo\"      \n[13] \"Djibouti\"                 \"Equatorial Guinea\"       \n[15] \"Eritrea\"                  \"Ethiopia\"                \n[17] \"Gabon\"                    \"Ghana\"                   \n[19] \"Guinea\"                   \"Guinea-Bissau\"           \n[21] \"Kenya\"                    \"Liberia\"                 \n[23] \"Madagascar\"               \"Malawi\"                  \n[25] \"Mali\"                     \"Mauritania\"              \n[27] \"Mozambique\"               \"Namibia\"                 \n[29] \"Niger\"                    \"Nigeria\"                 \n[31] \"Rwanda\"                   \"SaoTome & Principe\"      \n[33] \"Senegal\"                  \"Sierra Leone\"            \n[35] \"Somalia\"                  \"South Africa\"            \n[37] \"Sudan\"                    \"Swaziland\"               \n[39] \"Tanzania\"                 \"The Gambia\"              \n[41] \"Togo\"                     \"Uganda\"                  \n[43] \"Zambia\"                   \"Zimbabwe\"                \n```\n\n\n:::\n:::\n\n\n\n\nThe E8 countries are Angola, Botswana, Eswatini, Mozambique, Namibia, South Africa, Zambia and Zimbabwe. To filter the data for these countries, you can use the following code to display our data in a table as follows:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(gt)\n\n# define the E8 countries\ne8_countries <- c(\"Angola\", \"Botswana\",\"Eswatini\", \"Mozambique\", \"Namibia\", \"South Africa\", \"Zambia\",  \"Zimbabwe\")\n\nihme_nets |>  \n  mutate(Country = ifelse(Country == \"Swaziland\", \"Eswatini\", Country)) |>  \n  filter(Country %in% e8_countries) |>  \n  head() |>  \n  gt()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"gdqxzuvpsh\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#gdqxzuvpsh table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#gdqxzuvpsh thead, #gdqxzuvpsh tbody, #gdqxzuvpsh tfoot, #gdqxzuvpsh tr, #gdqxzuvpsh td, #gdqxzuvpsh th {\n  border-style: none;\n}\n\n#gdqxzuvpsh p {\n  margin: 0;\n  padding: 0;\n}\n\n#gdqxzuvpsh .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#gdqxzuvpsh .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#gdqxzuvpsh .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#gdqxzuvpsh .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#gdqxzuvpsh .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#gdqxzuvpsh .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#gdqxzuvpsh .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#gdqxzuvpsh .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#gdqxzuvpsh .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#gdqxzuvpsh .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#gdqxzuvpsh .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#gdqxzuvpsh .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#gdqxzuvpsh .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#gdqxzuvpsh .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#gdqxzuvpsh .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#gdqxzuvpsh .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#gdqxzuvpsh .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#gdqxzuvpsh .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#gdqxzuvpsh .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#gdqxzuvpsh .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#gdqxzuvpsh .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#gdqxzuvpsh .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#gdqxzuvpsh .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#gdqxzuvpsh .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#gdqxzuvpsh .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#gdqxzuvpsh .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#gdqxzuvpsh .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#gdqxzuvpsh .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#gdqxzuvpsh .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#gdqxzuvpsh .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#gdqxzuvpsh .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#gdqxzuvpsh .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#gdqxzuvpsh .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#gdqxzuvpsh .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#gdqxzuvpsh .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#gdqxzuvpsh .gt_left {\n  text-align: left;\n}\n\n#gdqxzuvpsh .gt_center {\n  text-align: center;\n}\n\n#gdqxzuvpsh .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#gdqxzuvpsh .gt_font_normal {\n  font-weight: normal;\n}\n\n#gdqxzuvpsh .gt_font_bold {\n  font-weight: bold;\n}\n\n#gdqxzuvpsh .gt_font_italic {\n  font-style: italic;\n}\n\n#gdqxzuvpsh .gt_super {\n  font-size: 65%;\n}\n\n#gdqxzuvpsh .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#gdqxzuvpsh .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#gdqxzuvpsh .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#gdqxzuvpsh .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#gdqxzuvpsh .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#gdqxzuvpsh .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#gdqxzuvpsh .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#gdqxzuvpsh .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#gdqxzuvpsh div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Country\">Country</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"ISO\">ISO</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Year\">Year</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a%-ITN-Ownership\">% ITN Ownership</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a%-ITN-Ownership-Lower-Bound\">% ITN Ownership Lower Bound</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a%-ITN-Ownership-Upper-Bound\">% ITN Ownership Upper Bound</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a%-ITN-Ownership-Pop.-At-Risk\">% ITN Ownership Pop. At Risk</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a%-ITN-Ownership-Pop.-At-Risk-Lower-Bound\">% ITN Ownership Pop. At Risk Lower Bound</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a%-ITN-Ownership-Pop.-At-Risk-Upper-Bound\">% ITN Ownership Pop. At Risk Upper Bound</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a%-ITN-Use-U5\">% ITN Use U5</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a%-ITN-Use-U5-Lower-Bound\">% ITN Use U5 Lower Bound</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a%ITN-Use-U5-Upper-Bound\">%ITN Use U5 Upper Bound</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a%-ITN-Use-U5-Pop.-At-Risk\">% ITN Use U5 Pop. At Risk</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a%-ITN-Use-U5-Pop.-At-Risk-Lower-Bound\">% ITN Use U5 Pop. At Risk Lower Bound</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a%ITN-Use-U5-Pop.-At-Risk-Upper-Bound\">%ITN Use U5 Pop. At Risk Upper Bound</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"LLINs-Distributed-Per-Capita\">LLINs Distributed Per Capita</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"LLINs-Distributed-Per-Capita-Lower-Bound\">LLINs Distributed Per Capita Lower Bound</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"LLINs-Distributed-Per-Capita-Upper-Bound\">LLINs Distributed Per Capita Upper Bound</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Country\" class=\"gt_row gt_left\">Angola</td>\n<td headers=\"ISO\" class=\"gt_row gt_left\">AGO</td>\n<td headers=\"Year\" class=\"gt_row gt_right\">1999</td>\n<td headers=\"% ITN Ownership\" class=\"gt_row gt_right\">4.205</td>\n<td headers=\"% ITN Ownership Lower Bound\" class=\"gt_row gt_right\">1.070</td>\n<td headers=\"% ITN Ownership Upper Bound\" class=\"gt_row gt_right\">8.260</td>\n<td headers=\"% ITN Ownership Pop. At Risk\" class=\"gt_row gt_right\">4.205</td>\n<td headers=\"% ITN Ownership Pop. At Risk Lower Bound\" class=\"gt_row gt_right\">1.070</td>\n<td headers=\"% ITN Ownership Pop. At Risk Upper Bound\" class=\"gt_row gt_right\">8.260</td>\n<td headers=\"% ITN Use U5\" class=\"gt_row gt_right\">1.823343</td>\n<td headers=\"% ITN Use U5 Lower Bound\" class=\"gt_row gt_right\">0.2811190</td>\n<td headers=\"%ITN Use U5 Upper Bound\" class=\"gt_row gt_right\">10.45575</td>\n<td headers=\"% ITN Use U5 Pop. At Risk\" class=\"gt_row gt_right\">1.823343</td>\n<td headers=\"% ITN Use U5 Pop. At Risk Lower Bound\" class=\"gt_row gt_right\">0.2811190</td>\n<td headers=\"%ITN Use U5 Pop. At Risk Upper Bound\" class=\"gt_row gt_right\">10.45575</td>\n<td headers=\"LLINs Distributed Per Capita\" class=\"gt_row gt_right\">0.0008978</td>\n<td headers=\"LLINs Distributed Per Capita Lower Bound\" class=\"gt_row gt_right\">0.0006312</td>\n<td headers=\"LLINs Distributed Per Capita Upper Bound\" class=\"gt_row gt_right\">0.0011968</td></tr>\n    <tr><td headers=\"Country\" class=\"gt_row gt_left\">Angola</td>\n<td headers=\"ISO\" class=\"gt_row gt_left\">AGO</td>\n<td headers=\"Year\" class=\"gt_row gt_right\">2000</td>\n<td headers=\"% ITN Ownership\" class=\"gt_row gt_right\">5.470</td>\n<td headers=\"% ITN Ownership Lower Bound\" class=\"gt_row gt_right\">2.615</td>\n<td headers=\"% ITN Ownership Upper Bound\" class=\"gt_row gt_right\">8.670</td>\n<td headers=\"% ITN Ownership Pop. At Risk\" class=\"gt_row gt_right\">5.470</td>\n<td headers=\"% ITN Ownership Pop. At Risk Lower Bound\" class=\"gt_row gt_right\">2.615</td>\n<td headers=\"% ITN Ownership Pop. At Risk Upper Bound\" class=\"gt_row gt_right\">8.670</td>\n<td headers=\"% ITN Use U5\" class=\"gt_row gt_right\">2.560483</td>\n<td headers=\"% ITN Use U5 Lower Bound\" class=\"gt_row gt_right\">0.5011920</td>\n<td headers=\"%ITN Use U5 Upper Bound\" class=\"gt_row gt_right\">11.92120</td>\n<td headers=\"% ITN Use U5 Pop. At Risk\" class=\"gt_row gt_right\">2.560483</td>\n<td headers=\"% ITN Use U5 Pop. At Risk Lower Bound\" class=\"gt_row gt_right\">0.5011920</td>\n<td headers=\"%ITN Use U5 Pop. At Risk Upper Bound\" class=\"gt_row gt_right\">11.92120</td>\n<td headers=\"LLINs Distributed Per Capita\" class=\"gt_row gt_right\">0.0009440</td>\n<td headers=\"LLINs Distributed Per Capita Lower Bound\" class=\"gt_row gt_right\">0.0006260</td>\n<td headers=\"LLINs Distributed Per Capita Upper Bound\" class=\"gt_row gt_right\">0.0012728</td></tr>\n    <tr><td headers=\"Country\" class=\"gt_row gt_left\">Angola</td>\n<td headers=\"ISO\" class=\"gt_row gt_left\">AGO</td>\n<td headers=\"Year\" class=\"gt_row gt_right\">2001</td>\n<td headers=\"% ITN Ownership\" class=\"gt_row gt_right\">6.960</td>\n<td headers=\"% ITN Ownership Lower Bound\" class=\"gt_row gt_right\">4.295</td>\n<td headers=\"% ITN Ownership Upper Bound\" class=\"gt_row gt_right\">9.735</td>\n<td headers=\"% ITN Ownership Pop. At Risk\" class=\"gt_row gt_right\">6.960</td>\n<td headers=\"% ITN Ownership Pop. At Risk Lower Bound\" class=\"gt_row gt_right\">4.295</td>\n<td headers=\"% ITN Ownership Pop. At Risk Upper Bound\" class=\"gt_row gt_right\">9.735</td>\n<td headers=\"% ITN Use U5\" class=\"gt_row gt_right\">3.370769</td>\n<td headers=\"% ITN Use U5 Lower Bound\" class=\"gt_row gt_right\">0.7293910</td>\n<td headers=\"%ITN Use U5 Upper Bound\" class=\"gt_row gt_right\">14.14694</td>\n<td headers=\"% ITN Use U5 Pop. At Risk\" class=\"gt_row gt_right\">3.370770</td>\n<td headers=\"% ITN Use U5 Pop. At Risk Lower Bound\" class=\"gt_row gt_right\">0.7293910</td>\n<td headers=\"%ITN Use U5 Pop. At Risk Upper Bound\" class=\"gt_row gt_right\">14.14694</td>\n<td headers=\"LLINs Distributed Per Capita\" class=\"gt_row gt_right\">0.0009652</td>\n<td headers=\"LLINs Distributed Per Capita Lower Bound\" class=\"gt_row gt_right\">0.0006216</td>\n<td headers=\"LLINs Distributed Per Capita Upper Bound\" class=\"gt_row gt_right\">0.0013144</td></tr>\n    <tr><td headers=\"Country\" class=\"gt_row gt_left\">Angola</td>\n<td headers=\"ISO\" class=\"gt_row gt_left\">AGO</td>\n<td headers=\"Year\" class=\"gt_row gt_right\">2002</td>\n<td headers=\"% ITN Ownership\" class=\"gt_row gt_right\">6.795</td>\n<td headers=\"% ITN Ownership Lower Bound\" class=\"gt_row gt_right\">3.620</td>\n<td headers=\"% ITN Ownership Upper Bound\" class=\"gt_row gt_right\">10.220</td>\n<td headers=\"% ITN Ownership Pop. At Risk\" class=\"gt_row gt_right\">6.795</td>\n<td headers=\"% ITN Ownership Pop. At Risk Lower Bound\" class=\"gt_row gt_right\">3.620</td>\n<td headers=\"% ITN Ownership Pop. At Risk Upper Bound\" class=\"gt_row gt_right\">10.220</td>\n<td headers=\"% ITN Use U5\" class=\"gt_row gt_right\">3.264936</td>\n<td headers=\"% ITN Use U5 Lower Bound\" class=\"gt_row gt_right\">0.6668079</td>\n<td headers=\"%ITN Use U5 Upper Bound\" class=\"gt_row gt_right\">14.27508</td>\n<td headers=\"% ITN Use U5 Pop. At Risk\" class=\"gt_row gt_right\">3.264936</td>\n<td headers=\"% ITN Use U5 Pop. At Risk Lower Bound\" class=\"gt_row gt_right\">0.6668079</td>\n<td headers=\"%ITN Use U5 Pop. At Risk Upper Bound\" class=\"gt_row gt_right\">14.27508</td>\n<td headers=\"LLINs Distributed Per Capita\" class=\"gt_row gt_right\">0.0009839</td>\n<td headers=\"LLINs Distributed Per Capita Lower Bound\" class=\"gt_row gt_right\">0.0006222</td>\n<td headers=\"LLINs Distributed Per Capita Upper Bound\" class=\"gt_row gt_right\">0.0013374</td></tr>\n    <tr><td headers=\"Country\" class=\"gt_row gt_left\">Angola</td>\n<td headers=\"ISO\" class=\"gt_row gt_left\">AGO</td>\n<td headers=\"Year\" class=\"gt_row gt_right\">2003</td>\n<td headers=\"% ITN Ownership\" class=\"gt_row gt_right\">5.930</td>\n<td headers=\"% ITN Ownership Lower Bound\" class=\"gt_row gt_right\">2.405</td>\n<td headers=\"% ITN Ownership Upper Bound\" class=\"gt_row gt_right\">10.160</td>\n<td headers=\"% ITN Ownership Pop. At Risk\" class=\"gt_row gt_right\">5.930</td>\n<td headers=\"% ITN Ownership Pop. At Risk Lower Bound\" class=\"gt_row gt_right\">2.405</td>\n<td headers=\"% ITN Ownership Pop. At Risk Upper Bound\" class=\"gt_row gt_right\">10.160</td>\n<td headers=\"% ITN Use U5\" class=\"gt_row gt_right\">2.777820</td>\n<td headers=\"% ITN Use U5 Lower Bound\" class=\"gt_row gt_right\">0.5249189</td>\n<td headers=\"%ITN Use U5 Upper Bound\" class=\"gt_row gt_right\">13.33062</td>\n<td headers=\"% ITN Use U5 Pop. At Risk\" class=\"gt_row gt_right\">2.777820</td>\n<td headers=\"% ITN Use U5 Pop. At Risk Lower Bound\" class=\"gt_row gt_right\">0.5249189</td>\n<td headers=\"%ITN Use U5 Pop. At Risk Upper Bound\" class=\"gt_row gt_right\">13.33062</td>\n<td headers=\"LLINs Distributed Per Capita\" class=\"gt_row gt_right\">0.0010066</td>\n<td headers=\"LLINs Distributed Per Capita Lower Bound\" class=\"gt_row gt_right\">0.0006548</td>\n<td headers=\"LLINs Distributed Per Capita Upper Bound\" class=\"gt_row gt_right\">0.0013854</td></tr>\n    <tr><td headers=\"Country\" class=\"gt_row gt_left\">Angola</td>\n<td headers=\"ISO\" class=\"gt_row gt_left\">AGO</td>\n<td headers=\"Year\" class=\"gt_row gt_right\">2004</td>\n<td headers=\"% ITN Ownership\" class=\"gt_row gt_right\">5.670</td>\n<td headers=\"% ITN Ownership Lower Bound\" class=\"gt_row gt_right\">2.540</td>\n<td headers=\"% ITN Ownership Upper Bound\" class=\"gt_row gt_right\">10.095</td>\n<td headers=\"% ITN Ownership Pop. At Risk\" class=\"gt_row gt_right\">5.670</td>\n<td headers=\"% ITN Ownership Pop. At Risk Lower Bound\" class=\"gt_row gt_right\">2.540</td>\n<td headers=\"% ITN Ownership Pop. At Risk Upper Bound\" class=\"gt_row gt_right\">10.095</td>\n<td headers=\"% ITN Use U5\" class=\"gt_row gt_right\">2.642282</td>\n<td headers=\"% ITN Use U5 Lower Bound\" class=\"gt_row gt_right\">0.5099266</td>\n<td headers=\"%ITN Use U5 Upper Bound\" class=\"gt_row gt_right\">12.98258</td>\n<td headers=\"% ITN Use U5 Pop. At Risk\" class=\"gt_row gt_right\">2.642282</td>\n<td headers=\"% ITN Use U5 Pop. At Risk Lower Bound\" class=\"gt_row gt_right\">0.5099266</td>\n<td headers=\"%ITN Use U5 Pop. At Risk Upper Bound\" class=\"gt_row gt_right\">12.98258</td>\n<td headers=\"LLINs Distributed Per Capita\" class=\"gt_row gt_right\">0.0078725</td>\n<td headers=\"LLINs Distributed Per Capita Lower Bound\" class=\"gt_row gt_right\">0.0027322</td>\n<td headers=\"LLINs Distributed Per Capita Upper Bound\" class=\"gt_row gt_right\">0.0115660</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\n\n**Deaths, prevalence and incidence estimates**\n\nThis data set contains number/percents/rates of malaria deaths, prevalence and incidence in the following countries:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nobserved_cases <- read_csv(\"data/IHME-GBD_2021_DATA-05f6b66f-1.csv\", show_col_types = FALSE) \n\nobserved_cases |>  \n  pull(location_name) |>  \n  unique()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Republic of Angola\"       \"Republic of South Africa\"\n[3] \"Kingdom of Eswatini\"      \"Republic of Zambia\"      \n[5] \"Republic of Zimbabwe\"     \"Republic of Mozambique\"  \n[7] \"Republic of Botswana\"     \"Republic of Namibia\"     \n```\n\n\n:::\n:::\n\n\n\n\nWe can look at the data to identify indicators to use for analysis:\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(gt)\n\nobserved_cases |>  \n  filter(location_name == \"Republic of South Africa\") |> \n  head() |>  \n  gt()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"udewxbuwfi\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#udewxbuwfi table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#udewxbuwfi thead, #udewxbuwfi tbody, #udewxbuwfi tfoot, #udewxbuwfi tr, #udewxbuwfi td, #udewxbuwfi th {\n  border-style: none;\n}\n\n#udewxbuwfi p {\n  margin: 0;\n  padding: 0;\n}\n\n#udewxbuwfi .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#udewxbuwfi .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#udewxbuwfi .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#udewxbuwfi .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#udewxbuwfi .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#udewxbuwfi .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#udewxbuwfi .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#udewxbuwfi .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#udewxbuwfi .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#udewxbuwfi .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#udewxbuwfi .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#udewxbuwfi .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#udewxbuwfi .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#udewxbuwfi .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#udewxbuwfi .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#udewxbuwfi .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#udewxbuwfi .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#udewxbuwfi .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#udewxbuwfi .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#udewxbuwfi .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#udewxbuwfi .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#udewxbuwfi .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#udewxbuwfi .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#udewxbuwfi .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#udewxbuwfi .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#udewxbuwfi .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#udewxbuwfi .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#udewxbuwfi .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#udewxbuwfi .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#udewxbuwfi .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#udewxbuwfi .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#udewxbuwfi .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#udewxbuwfi .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#udewxbuwfi .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#udewxbuwfi .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#udewxbuwfi .gt_left {\n  text-align: left;\n}\n\n#udewxbuwfi .gt_center {\n  text-align: center;\n}\n\n#udewxbuwfi .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#udewxbuwfi .gt_font_normal {\n  font-weight: normal;\n}\n\n#udewxbuwfi .gt_font_bold {\n  font-weight: bold;\n}\n\n#udewxbuwfi .gt_font_italic {\n  font-style: italic;\n}\n\n#udewxbuwfi .gt_super {\n  font-size: 65%;\n}\n\n#udewxbuwfi .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#udewxbuwfi .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#udewxbuwfi .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#udewxbuwfi .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#udewxbuwfi .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#udewxbuwfi .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#udewxbuwfi .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#udewxbuwfi .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#udewxbuwfi div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"measure_id\">measure_id</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"measure_name\">measure_name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"location_id\">location_id</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"location_name\">location_name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"sex_id\">sex_id</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"sex_name\">sex_name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"age_id\">age_id</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"age_name\">age_name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"cause_id\">cause_id</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"cause_name\">cause_name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"metric_id\">metric_id</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"metric_name\">metric_name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"year\">year</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"val\">val</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"upper\">upper</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"lower\">lower</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"measure_id\" class=\"gt_row gt_right\">1</td>\n<td headers=\"measure_name\" class=\"gt_row gt_left\">Deaths</td>\n<td headers=\"location_id\" class=\"gt_row gt_right\">196</td>\n<td headers=\"location_name\" class=\"gt_row gt_left\">Republic of South Africa</td>\n<td headers=\"sex_id\" class=\"gt_row gt_right\">3</td>\n<td headers=\"sex_name\" class=\"gt_row gt_left\">Both</td>\n<td headers=\"age_id\" class=\"gt_row gt_right\">22</td>\n<td headers=\"age_name\" class=\"gt_row gt_left\">All ages</td>\n<td headers=\"cause_id\" class=\"gt_row gt_right\">345</td>\n<td headers=\"cause_name\" class=\"gt_row gt_left\">Malaria</td>\n<td headers=\"metric_id\" class=\"gt_row gt_right\">1</td>\n<td headers=\"metric_name\" class=\"gt_row gt_left\">Number</td>\n<td headers=\"year\" class=\"gt_row gt_right\">2000</td>\n<td headers=\"val\" class=\"gt_row gt_right\">2.147995e+01</td>\n<td headers=\"upper\" class=\"gt_row gt_right\">4.741927e+01</td>\n<td headers=\"lower\" class=\"gt_row gt_right\">7.290654e+00</td></tr>\n    <tr><td headers=\"measure_id\" class=\"gt_row gt_right\">1</td>\n<td headers=\"measure_name\" class=\"gt_row gt_left\">Deaths</td>\n<td headers=\"location_id\" class=\"gt_row gt_right\">196</td>\n<td headers=\"location_name\" class=\"gt_row gt_left\">Republic of South Africa</td>\n<td headers=\"sex_id\" class=\"gt_row gt_right\">3</td>\n<td headers=\"sex_name\" class=\"gt_row gt_left\">Both</td>\n<td headers=\"age_id\" class=\"gt_row gt_right\">22</td>\n<td headers=\"age_name\" class=\"gt_row gt_left\">All ages</td>\n<td headers=\"cause_id\" class=\"gt_row gt_right\">345</td>\n<td headers=\"cause_name\" class=\"gt_row gt_left\">Malaria</td>\n<td headers=\"metric_id\" class=\"gt_row gt_right\">2</td>\n<td headers=\"metric_name\" class=\"gt_row gt_left\">Percent</td>\n<td headers=\"year\" class=\"gt_row gt_right\">2000</td>\n<td headers=\"val\" class=\"gt_row gt_right\">4.000841e-05</td>\n<td headers=\"upper\" class=\"gt_row gt_right\">8.857476e-05</td>\n<td headers=\"lower\" class=\"gt_row gt_right\">1.354524e-05</td></tr>\n    <tr><td headers=\"measure_id\" class=\"gt_row gt_right\">1</td>\n<td headers=\"measure_name\" class=\"gt_row gt_left\">Deaths</td>\n<td headers=\"location_id\" class=\"gt_row gt_right\">196</td>\n<td headers=\"location_name\" class=\"gt_row gt_left\">Republic of South Africa</td>\n<td headers=\"sex_id\" class=\"gt_row gt_right\">3</td>\n<td headers=\"sex_name\" class=\"gt_row gt_left\">Both</td>\n<td headers=\"age_id\" class=\"gt_row gt_right\">22</td>\n<td headers=\"age_name\" class=\"gt_row gt_left\">All ages</td>\n<td headers=\"cause_id\" class=\"gt_row gt_right\">345</td>\n<td headers=\"cause_name\" class=\"gt_row gt_left\">Malaria</td>\n<td headers=\"metric_id\" class=\"gt_row gt_right\">3</td>\n<td headers=\"metric_name\" class=\"gt_row gt_left\">Rate</td>\n<td headers=\"year\" class=\"gt_row gt_right\">2000</td>\n<td headers=\"val\" class=\"gt_row gt_right\">4.731551e-02</td>\n<td headers=\"upper\" class=\"gt_row gt_right\">1.044540e-01</td>\n<td headers=\"lower\" class=\"gt_row gt_right\">1.605968e-02</td></tr>\n    <tr><td headers=\"measure_id\" class=\"gt_row gt_right\">1</td>\n<td headers=\"measure_name\" class=\"gt_row gt_left\">Deaths</td>\n<td headers=\"location_id\" class=\"gt_row gt_right\">196</td>\n<td headers=\"location_name\" class=\"gt_row gt_left\">Republic of South Africa</td>\n<td headers=\"sex_id\" class=\"gt_row gt_right\">3</td>\n<td headers=\"sex_name\" class=\"gt_row gt_left\">Both</td>\n<td headers=\"age_id\" class=\"gt_row gt_right\">22</td>\n<td headers=\"age_name\" class=\"gt_row gt_left\">All ages</td>\n<td headers=\"cause_id\" class=\"gt_row gt_right\">345</td>\n<td headers=\"cause_name\" class=\"gt_row gt_left\">Malaria</td>\n<td headers=\"metric_id\" class=\"gt_row gt_right\">1</td>\n<td headers=\"metric_name\" class=\"gt_row gt_left\">Number</td>\n<td headers=\"year\" class=\"gt_row gt_right\">2001</td>\n<td headers=\"val\" class=\"gt_row gt_right\">3.244936e+02</td>\n<td headers=\"upper\" class=\"gt_row gt_right\">7.395696e+02</td>\n<td headers=\"lower\" class=\"gt_row gt_right\">1.102811e+02</td></tr>\n    <tr><td headers=\"measure_id\" class=\"gt_row gt_right\">1</td>\n<td headers=\"measure_name\" class=\"gt_row gt_left\">Deaths</td>\n<td headers=\"location_id\" class=\"gt_row gt_right\">196</td>\n<td headers=\"location_name\" class=\"gt_row gt_left\">Republic of South Africa</td>\n<td headers=\"sex_id\" class=\"gt_row gt_right\">3</td>\n<td headers=\"sex_name\" class=\"gt_row gt_left\">Both</td>\n<td headers=\"age_id\" class=\"gt_row gt_right\">22</td>\n<td headers=\"age_name\" class=\"gt_row gt_left\">All ages</td>\n<td headers=\"cause_id\" class=\"gt_row gt_right\">345</td>\n<td headers=\"cause_name\" class=\"gt_row gt_left\">Malaria</td>\n<td headers=\"metric_id\" class=\"gt_row gt_right\">2</td>\n<td headers=\"metric_name\" class=\"gt_row gt_left\">Percent</td>\n<td headers=\"year\" class=\"gt_row gt_right\">2001</td>\n<td headers=\"val\" class=\"gt_row gt_right\">5.616515e-04</td>\n<td headers=\"upper\" class=\"gt_row gt_right\">1.284622e-03</td>\n<td headers=\"lower\" class=\"gt_row gt_right\">1.917376e-04</td></tr>\n    <tr><td headers=\"measure_id\" class=\"gt_row gt_right\">1</td>\n<td headers=\"measure_name\" class=\"gt_row gt_left\">Deaths</td>\n<td headers=\"location_id\" class=\"gt_row gt_right\">196</td>\n<td headers=\"location_name\" class=\"gt_row gt_left\">Republic of South Africa</td>\n<td headers=\"sex_id\" class=\"gt_row gt_right\">3</td>\n<td headers=\"sex_name\" class=\"gt_row gt_left\">Both</td>\n<td headers=\"age_id\" class=\"gt_row gt_right\">22</td>\n<td headers=\"age_name\" class=\"gt_row gt_left\">All ages</td>\n<td headers=\"cause_id\" class=\"gt_row gt_right\">345</td>\n<td headers=\"cause_name\" class=\"gt_row gt_left\">Malaria</td>\n<td headers=\"metric_id\" class=\"gt_row gt_right\">3</td>\n<td headers=\"metric_name\" class=\"gt_row gt_left\">Rate</td>\n<td headers=\"year\" class=\"gt_row gt_right\">2001</td>\n<td headers=\"val\" class=\"gt_row gt_right\">7.038036e-01</td>\n<td headers=\"upper\" class=\"gt_row gt_right\">1.604074e+00</td>\n<td headers=\"lower\" class=\"gt_row gt_right\">2.391920e-01</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\n<h2>How to plot this data?</h2>\n\nTo access the data used in the next two plots:\n\n1.  Navigate to the ['Sub-Saharan Africa Insecticide-Treated Bed Nets 1999-2008' page](https://ghdx.healthdata.org/record/ihme-data/sub-saharan-africa-insecticide-treated-bed-nets-1999-2008) on the IHME website.\n\n2.  Select the tab labelled 'Files (1)'.\n\n3.  Click on the link names 'Insecticide-treated bed nets (Sub-Saharan Africa) 1999-2008' to download the file.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load insecticide treated nets data\nihme_nets <- read_excel(path = \"data/IHME_INSECTICIDE_TREATED_BEDNETS_SUB_SAHARAN_AFRICA_1999_2008.xls\")\n\n# Pull the names of countries\nihme_nets |> \n  pull(Country) |> \n  unique()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"Angola\"                   \"Benin\"                   \n [3] \"Botswana\"                 \"Burkina Faso\"            \n [5] \"Burundi\"                  \"Cameroon\"                \n [7] \"Central African Republic\" \"Chad\"                    \n [9] \"Comoros\"                  \"Congo\"                   \n[11] \"Cote d'Ivoire\"            \"Dem. Rep. of Congo\"      \n[13] \"Djibouti\"                 \"Equatorial Guinea\"       \n[15] \"Eritrea\"                  \"Ethiopia\"                \n[17] \"Gabon\"                    \"Ghana\"                   \n[19] \"Guinea\"                   \"Guinea-Bissau\"           \n[21] \"Kenya\"                    \"Liberia\"                 \n[23] \"Madagascar\"               \"Malawi\"                  \n[25] \"Mali\"                     \"Mauritania\"              \n[27] \"Mozambique\"               \"Namibia\"                 \n[29] \"Niger\"                    \"Nigeria\"                 \n[31] \"Rwanda\"                   \"SaoTome & Principe\"      \n[33] \"Senegal\"                  \"Sierra Leone\"            \n[35] \"Somalia\"                  \"South Africa\"            \n[37] \"Sudan\"                    \"Swaziland\"               \n[39] \"Tanzania\"                 \"The Gambia\"              \n[41] \"Togo\"                     \"Uganda\"                  \n[43] \"Zambia\"                   \"Zimbabwe\"                \n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(gt)\n\n# define the E8 countries\ne8_countries <- c(\"Angola\", \"Botswana\",\"Eswatini\", \"Mozambique\", \"Namibia\", \"South Africa\", \"Zambia\",  \"Zimbabwe\")\n\nihme_nets |> \n  mutate(Country = ifelse(Country == \"Swaziland\", \"Eswatini\", Country)) |> \n  filter(Country %in% e8_countries) |> \n  head() |> \n  gt()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"qfqsthhxlb\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#qfqsthhxlb table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#qfqsthhxlb thead, #qfqsthhxlb tbody, #qfqsthhxlb tfoot, #qfqsthhxlb tr, #qfqsthhxlb td, #qfqsthhxlb th {\n  border-style: none;\n}\n\n#qfqsthhxlb p {\n  margin: 0;\n  padding: 0;\n}\n\n#qfqsthhxlb .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#qfqsthhxlb .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#qfqsthhxlb .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#qfqsthhxlb .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#qfqsthhxlb .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#qfqsthhxlb .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qfqsthhxlb .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#qfqsthhxlb .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#qfqsthhxlb .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#qfqsthhxlb .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#qfqsthhxlb .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#qfqsthhxlb .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#qfqsthhxlb .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#qfqsthhxlb .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#qfqsthhxlb .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#qfqsthhxlb .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#qfqsthhxlb .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#qfqsthhxlb .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#qfqsthhxlb .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qfqsthhxlb .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#qfqsthhxlb .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#qfqsthhxlb .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#qfqsthhxlb .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qfqsthhxlb .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#qfqsthhxlb .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#qfqsthhxlb .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qfqsthhxlb .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qfqsthhxlb .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#qfqsthhxlb .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qfqsthhxlb .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#qfqsthhxlb .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qfqsthhxlb .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#qfqsthhxlb .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qfqsthhxlb .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#qfqsthhxlb .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qfqsthhxlb .gt_left {\n  text-align: left;\n}\n\n#qfqsthhxlb .gt_center {\n  text-align: center;\n}\n\n#qfqsthhxlb .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#qfqsthhxlb .gt_font_normal {\n  font-weight: normal;\n}\n\n#qfqsthhxlb .gt_font_bold {\n  font-weight: bold;\n}\n\n#qfqsthhxlb .gt_font_italic {\n  font-style: italic;\n}\n\n#qfqsthhxlb .gt_super {\n  font-size: 65%;\n}\n\n#qfqsthhxlb .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#qfqsthhxlb .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#qfqsthhxlb .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#qfqsthhxlb .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#qfqsthhxlb .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#qfqsthhxlb .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#qfqsthhxlb .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#qfqsthhxlb .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#qfqsthhxlb div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Country\">Country</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"ISO\">ISO</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Year\">Year</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a%-ITN-Ownership\">% ITN Ownership</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a%-ITN-Ownership-Lower-Bound\">% ITN Ownership Lower Bound</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a%-ITN-Ownership-Upper-Bound\">% ITN Ownership Upper Bound</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a%-ITN-Ownership-Pop.-At-Risk\">% ITN Ownership Pop. At Risk</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a%-ITN-Ownership-Pop.-At-Risk-Lower-Bound\">% ITN Ownership Pop. At Risk Lower Bound</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a%-ITN-Ownership-Pop.-At-Risk-Upper-Bound\">% ITN Ownership Pop. At Risk Upper Bound</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a%-ITN-Use-U5\">% ITN Use U5</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a%-ITN-Use-U5-Lower-Bound\">% ITN Use U5 Lower Bound</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a%ITN-Use-U5-Upper-Bound\">%ITN Use U5 Upper Bound</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a%-ITN-Use-U5-Pop.-At-Risk\">% ITN Use U5 Pop. At Risk</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a%-ITN-Use-U5-Pop.-At-Risk-Lower-Bound\">% ITN Use U5 Pop. At Risk Lower Bound</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a%ITN-Use-U5-Pop.-At-Risk-Upper-Bound\">%ITN Use U5 Pop. At Risk Upper Bound</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"LLINs-Distributed-Per-Capita\">LLINs Distributed Per Capita</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"LLINs-Distributed-Per-Capita-Lower-Bound\">LLINs Distributed Per Capita Lower Bound</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"LLINs-Distributed-Per-Capita-Upper-Bound\">LLINs Distributed Per Capita Upper Bound</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Country\" class=\"gt_row gt_left\">Angola</td>\n<td headers=\"ISO\" class=\"gt_row gt_left\">AGO</td>\n<td headers=\"Year\" class=\"gt_row gt_right\">1999</td>\n<td headers=\"% ITN Ownership\" class=\"gt_row gt_right\">4.205</td>\n<td headers=\"% ITN Ownership Lower Bound\" class=\"gt_row gt_right\">1.070</td>\n<td headers=\"% ITN Ownership Upper Bound\" class=\"gt_row gt_right\">8.260</td>\n<td headers=\"% ITN Ownership Pop. At Risk\" class=\"gt_row gt_right\">4.205</td>\n<td headers=\"% ITN Ownership Pop. At Risk Lower Bound\" class=\"gt_row gt_right\">1.070</td>\n<td headers=\"% ITN Ownership Pop. At Risk Upper Bound\" class=\"gt_row gt_right\">8.260</td>\n<td headers=\"% ITN Use U5\" class=\"gt_row gt_right\">1.823343</td>\n<td headers=\"% ITN Use U5 Lower Bound\" class=\"gt_row gt_right\">0.2811190</td>\n<td headers=\"%ITN Use U5 Upper Bound\" class=\"gt_row gt_right\">10.45575</td>\n<td headers=\"% ITN Use U5 Pop. At Risk\" class=\"gt_row gt_right\">1.823343</td>\n<td headers=\"% ITN Use U5 Pop. At Risk Lower Bound\" class=\"gt_row gt_right\">0.2811190</td>\n<td headers=\"%ITN Use U5 Pop. At Risk Upper Bound\" class=\"gt_row gt_right\">10.45575</td>\n<td headers=\"LLINs Distributed Per Capita\" class=\"gt_row gt_right\">0.0008978</td>\n<td headers=\"LLINs Distributed Per Capita Lower Bound\" class=\"gt_row gt_right\">0.0006312</td>\n<td headers=\"LLINs Distributed Per Capita Upper Bound\" class=\"gt_row gt_right\">0.0011968</td></tr>\n    <tr><td headers=\"Country\" class=\"gt_row gt_left\">Angola</td>\n<td headers=\"ISO\" class=\"gt_row gt_left\">AGO</td>\n<td headers=\"Year\" class=\"gt_row gt_right\">2000</td>\n<td headers=\"% ITN Ownership\" class=\"gt_row gt_right\">5.470</td>\n<td headers=\"% ITN Ownership Lower Bound\" class=\"gt_row gt_right\">2.615</td>\n<td headers=\"% ITN Ownership Upper Bound\" class=\"gt_row gt_right\">8.670</td>\n<td headers=\"% ITN Ownership Pop. At Risk\" class=\"gt_row gt_right\">5.470</td>\n<td headers=\"% ITN Ownership Pop. At Risk Lower Bound\" class=\"gt_row gt_right\">2.615</td>\n<td headers=\"% ITN Ownership Pop. At Risk Upper Bound\" class=\"gt_row gt_right\">8.670</td>\n<td headers=\"% ITN Use U5\" class=\"gt_row gt_right\">2.560483</td>\n<td headers=\"% ITN Use U5 Lower Bound\" class=\"gt_row gt_right\">0.5011920</td>\n<td headers=\"%ITN Use U5 Upper Bound\" class=\"gt_row gt_right\">11.92120</td>\n<td headers=\"% ITN Use U5 Pop. At Risk\" class=\"gt_row gt_right\">2.560483</td>\n<td headers=\"% ITN Use U5 Pop. At Risk Lower Bound\" class=\"gt_row gt_right\">0.5011920</td>\n<td headers=\"%ITN Use U5 Pop. At Risk Upper Bound\" class=\"gt_row gt_right\">11.92120</td>\n<td headers=\"LLINs Distributed Per Capita\" class=\"gt_row gt_right\">0.0009440</td>\n<td headers=\"LLINs Distributed Per Capita Lower Bound\" class=\"gt_row gt_right\">0.0006260</td>\n<td headers=\"LLINs Distributed Per Capita Upper Bound\" class=\"gt_row gt_right\">0.0012728</td></tr>\n    <tr><td headers=\"Country\" class=\"gt_row gt_left\">Angola</td>\n<td headers=\"ISO\" class=\"gt_row gt_left\">AGO</td>\n<td headers=\"Year\" class=\"gt_row gt_right\">2001</td>\n<td headers=\"% ITN Ownership\" class=\"gt_row gt_right\">6.960</td>\n<td headers=\"% ITN Ownership Lower Bound\" class=\"gt_row gt_right\">4.295</td>\n<td headers=\"% ITN Ownership Upper Bound\" class=\"gt_row gt_right\">9.735</td>\n<td headers=\"% ITN Ownership Pop. At Risk\" class=\"gt_row gt_right\">6.960</td>\n<td headers=\"% ITN Ownership Pop. At Risk Lower Bound\" class=\"gt_row gt_right\">4.295</td>\n<td headers=\"% ITN Ownership Pop. At Risk Upper Bound\" class=\"gt_row gt_right\">9.735</td>\n<td headers=\"% ITN Use U5\" class=\"gt_row gt_right\">3.370769</td>\n<td headers=\"% ITN Use U5 Lower Bound\" class=\"gt_row gt_right\">0.7293910</td>\n<td headers=\"%ITN Use U5 Upper Bound\" class=\"gt_row gt_right\">14.14694</td>\n<td headers=\"% ITN Use U5 Pop. At Risk\" class=\"gt_row gt_right\">3.370770</td>\n<td headers=\"% ITN Use U5 Pop. At Risk Lower Bound\" class=\"gt_row gt_right\">0.7293910</td>\n<td headers=\"%ITN Use U5 Pop. At Risk Upper Bound\" class=\"gt_row gt_right\">14.14694</td>\n<td headers=\"LLINs Distributed Per Capita\" class=\"gt_row gt_right\">0.0009652</td>\n<td headers=\"LLINs Distributed Per Capita Lower Bound\" class=\"gt_row gt_right\">0.0006216</td>\n<td headers=\"LLINs Distributed Per Capita Upper Bound\" class=\"gt_row gt_right\">0.0013144</td></tr>\n    <tr><td headers=\"Country\" class=\"gt_row gt_left\">Angola</td>\n<td headers=\"ISO\" class=\"gt_row gt_left\">AGO</td>\n<td headers=\"Year\" class=\"gt_row gt_right\">2002</td>\n<td headers=\"% ITN Ownership\" class=\"gt_row gt_right\">6.795</td>\n<td headers=\"% ITN Ownership Lower Bound\" class=\"gt_row gt_right\">3.620</td>\n<td headers=\"% ITN Ownership Upper Bound\" class=\"gt_row gt_right\">10.220</td>\n<td headers=\"% ITN Ownership Pop. At Risk\" class=\"gt_row gt_right\">6.795</td>\n<td headers=\"% ITN Ownership Pop. At Risk Lower Bound\" class=\"gt_row gt_right\">3.620</td>\n<td headers=\"% ITN Ownership Pop. At Risk Upper Bound\" class=\"gt_row gt_right\">10.220</td>\n<td headers=\"% ITN Use U5\" class=\"gt_row gt_right\">3.264936</td>\n<td headers=\"% ITN Use U5 Lower Bound\" class=\"gt_row gt_right\">0.6668079</td>\n<td headers=\"%ITN Use U5 Upper Bound\" class=\"gt_row gt_right\">14.27508</td>\n<td headers=\"% ITN Use U5 Pop. At Risk\" class=\"gt_row gt_right\">3.264936</td>\n<td headers=\"% ITN Use U5 Pop. At Risk Lower Bound\" class=\"gt_row gt_right\">0.6668079</td>\n<td headers=\"%ITN Use U5 Pop. At Risk Upper Bound\" class=\"gt_row gt_right\">14.27508</td>\n<td headers=\"LLINs Distributed Per Capita\" class=\"gt_row gt_right\">0.0009839</td>\n<td headers=\"LLINs Distributed Per Capita Lower Bound\" class=\"gt_row gt_right\">0.0006222</td>\n<td headers=\"LLINs Distributed Per Capita Upper Bound\" class=\"gt_row gt_right\">0.0013374</td></tr>\n    <tr><td headers=\"Country\" class=\"gt_row gt_left\">Angola</td>\n<td headers=\"ISO\" class=\"gt_row gt_left\">AGO</td>\n<td headers=\"Year\" class=\"gt_row gt_right\">2003</td>\n<td headers=\"% ITN Ownership\" class=\"gt_row gt_right\">5.930</td>\n<td headers=\"% ITN Ownership Lower Bound\" class=\"gt_row gt_right\">2.405</td>\n<td headers=\"% ITN Ownership Upper Bound\" class=\"gt_row gt_right\">10.160</td>\n<td headers=\"% ITN Ownership Pop. At Risk\" class=\"gt_row gt_right\">5.930</td>\n<td headers=\"% ITN Ownership Pop. At Risk Lower Bound\" class=\"gt_row gt_right\">2.405</td>\n<td headers=\"% ITN Ownership Pop. At Risk Upper Bound\" class=\"gt_row gt_right\">10.160</td>\n<td headers=\"% ITN Use U5\" class=\"gt_row gt_right\">2.777820</td>\n<td headers=\"% ITN Use U5 Lower Bound\" class=\"gt_row gt_right\">0.5249189</td>\n<td headers=\"%ITN Use U5 Upper Bound\" class=\"gt_row gt_right\">13.33062</td>\n<td headers=\"% ITN Use U5 Pop. At Risk\" class=\"gt_row gt_right\">2.777820</td>\n<td headers=\"% ITN Use U5 Pop. At Risk Lower Bound\" class=\"gt_row gt_right\">0.5249189</td>\n<td headers=\"%ITN Use U5 Pop. At Risk Upper Bound\" class=\"gt_row gt_right\">13.33062</td>\n<td headers=\"LLINs Distributed Per Capita\" class=\"gt_row gt_right\">0.0010066</td>\n<td headers=\"LLINs Distributed Per Capita Lower Bound\" class=\"gt_row gt_right\">0.0006548</td>\n<td headers=\"LLINs Distributed Per Capita Upper Bound\" class=\"gt_row gt_right\">0.0013854</td></tr>\n    <tr><td headers=\"Country\" class=\"gt_row gt_left\">Angola</td>\n<td headers=\"ISO\" class=\"gt_row gt_left\">AGO</td>\n<td headers=\"Year\" class=\"gt_row gt_right\">2004</td>\n<td headers=\"% ITN Ownership\" class=\"gt_row gt_right\">5.670</td>\n<td headers=\"% ITN Ownership Lower Bound\" class=\"gt_row gt_right\">2.540</td>\n<td headers=\"% ITN Ownership Upper Bound\" class=\"gt_row gt_right\">10.095</td>\n<td headers=\"% ITN Ownership Pop. At Risk\" class=\"gt_row gt_right\">5.670</td>\n<td headers=\"% ITN Ownership Pop. At Risk Lower Bound\" class=\"gt_row gt_right\">2.540</td>\n<td headers=\"% ITN Ownership Pop. At Risk Upper Bound\" class=\"gt_row gt_right\">10.095</td>\n<td headers=\"% ITN Use U5\" class=\"gt_row gt_right\">2.642282</td>\n<td headers=\"% ITN Use U5 Lower Bound\" class=\"gt_row gt_right\">0.5099266</td>\n<td headers=\"%ITN Use U5 Upper Bound\" class=\"gt_row gt_right\">12.98258</td>\n<td headers=\"% ITN Use U5 Pop. At Risk\" class=\"gt_row gt_right\">2.642282</td>\n<td headers=\"% ITN Use U5 Pop. At Risk Lower Bound\" class=\"gt_row gt_right\">0.5099266</td>\n<td headers=\"%ITN Use U5 Pop. At Risk Upper Bound\" class=\"gt_row gt_right\">12.98258</td>\n<td headers=\"LLINs Distributed Per Capita\" class=\"gt_row gt_right\">0.0078725</td>\n<td headers=\"LLINs Distributed Per Capita Lower Bound\" class=\"gt_row gt_right\">0.0027322</td>\n<td headers=\"LLINs Distributed Per Capita Upper Bound\" class=\"gt_row gt_right\">0.0115660</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\nAs these data are estimated and lower and upper bounds are provided, a line plot is used to show the change in estimated ITN ownership over time, with ribbons representing the confidence intervals.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Modify the Country names to replace \"Swaziland\" with \"Eswatini\"\nihme_nets |> \n  mutate(Country = ifelse(Country == \"Swaziland\", \"Eswatini\", Country)) |> \n  # Filter the data for Frontline 4 countries\n  filter(Country %in% c(\"Namibia\", \"South Africa\", \"Eswatini\", \"Botswana\")) |> \n  # Create a ggplot object with the filtered data\n  ggplot(aes(x = Year, y = `% ITN Ownership`, color = Country)) +\n  # Add lines to the plot, coloured by Country\n  geom_line(linewidth = 1) +\n  # Add ribbons to the plot to represent the confidence intervals, filled by country\n  geom_ribbon(aes(ymin = `% ITN Ownership Lower Bound`, ymax = `% ITN Ownership Upper Bound`, fill = Country), alpha = 0.2) +\n  # Apply custom colour scale for lines\n  scale_colour_manual_health_radar() +  \n  # Apply custom fill scale for ribbons\n  scale_fill_manual_health_radar() +   \n  # Apply custom theme\n  theme_health_radar() +\n  # Add labels and title to the plot\n  labs(\n    title = \"Estimated ITN ownership in Frontline 4 countries (1999-2008)\",\n    x = \"Year\",\n    y = \"ITN Ownership (%)\",\n    color = \"Country\",\n    fill = \"Country\",  \n    caption = str_wrap(\n      \"The estimated ITN ownership in the Frontline 4 countries from 1999 to 2008. Lines indicate the ownership estimates, while shaded areas represent the confidence bands. The uncertainty in ITN ownership increases over time for all countries. South Africa and Eswatini had the lowest levels of ITN ownership, but after 2004, there is a significant rise in ownership in Botswana and Namibia. Source: Institute for Health Metrics and Evaluation (IHME). Available from: https://doi.org/10.6069/DEE3-E887\", \n      width = 100))\n```\n\n::: {.cell-output-display}\n![](ihme_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n\n\nNo bounds are provided for estimated ITN ownership in at-risk populations, so a simple line graph is used to represent these data.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Modify the Country names to replace \"Swaziland\" with \"Eswatini\"\nihme_nets |> \n  mutate(Country = ifelse(Country == \"Swaziland\", \"Eswatini\", Country)) |> \n  # Filter the data for E8 countries\n  filter(Country %in% e8_countries) |> \n  # Create a ggplot object with the filtered data\n  ggplot(aes(x = Year, y = `% ITN Ownership Pop. At Risk`, color = Country)) +\n  # Add lines to the plot, coloured by Country\n  geom_line(linewidth = 1) +\n  # Apply custom colour scale\n  scale_colour_manual_health_radar() + \n  # Apply custom theme\n  theme_health_radar() +\n  # Add labels and title to the plot\n  labs(\n    title = \"Estimated ITN ownership in at-risk populations (1998-2008)\",\n    x = \"Year\",\n    y = \"ITN Ownership (%)\",\n    colour = \"E8 Country\",\n    caption = str_wrap(\n      \"The estimated ITN ownership among populations at-risk for malaria in Elimination 8 (E8) countries, from 1998 to 2008. The rise in ITN ownership is estimated in all countries, with Zambia, Botswana and Zimbabwe showing the highest percent ownership in 2008, followed by Namibia, Mozambique and Angola. South Africa and Eswatini maintain less than 20% ownership in at-risk populations. Source: Institute for Health Metrics and Evaluation (IHME). Available from: https://doi.org/10.6069/DEE3-E887\", \n      width = 90))\n```\n\n::: {.cell-output-display}\n![](ihme_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\n\n\nThe 'observed_cases' data can be accessed as follows:\n\n1.  Navigate to the [IHME data portal](https://vizhub.healthdata.org/gbd-results/).\n\n2.  In the search panel on the left-hand side, make the following selections:\n\n    -   Set GBD Estimate to 'Cause of death or injury'.\n\n    -   Select the measures 'Prevalence' , 'Incidence' and 'Deaths'.\n\n    -   Select the metrics 'Number', 'Percent' and 'Rate'.\n\n    -   Set Cause to 'Malaria'.\n\n    -   For Location, select the E8 Countries.\n\n    -   Set Age to 'All Ages'.\n\n    -   Set Sex to 'Both'.\n\n    -   Select the years from 2000 to 2021.\n\n3.  Press the download button and follow the prompts to download your file.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nobserved_cases <- read_csv(\"data/IHME-GBD_2021_DATA-05f6b66f-1.csv\", show_col_types = FALSE) |>\n  mutate(location_name = ifelse(location_name == \"Swaziland\", \"Eswatini\", location_name))\n\nobserved_cases |> \n  pull(location_name) |> \n  unique()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Republic of Angola\"       \"Republic of South Africa\"\n[3] \"Kingdom of Eswatini\"      \"Republic of Zambia\"      \n[5] \"Republic of Zimbabwe\"     \"Republic of Mozambique\"  \n[7] \"Republic of Botswana\"     \"Republic of Namibia\"     \n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(gt)\n\nobserved_cases |> \n  filter(location_name == \"South Africa\") |>\n  head() |> \n  gt()\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"hrztmmdlgm\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#hrztmmdlgm table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#hrztmmdlgm thead, #hrztmmdlgm tbody, #hrztmmdlgm tfoot, #hrztmmdlgm tr, #hrztmmdlgm td, #hrztmmdlgm th {\n  border-style: none;\n}\n\n#hrztmmdlgm p {\n  margin: 0;\n  padding: 0;\n}\n\n#hrztmmdlgm .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#hrztmmdlgm .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#hrztmmdlgm .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#hrztmmdlgm .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#hrztmmdlgm .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#hrztmmdlgm .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hrztmmdlgm .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#hrztmmdlgm .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#hrztmmdlgm .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#hrztmmdlgm .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#hrztmmdlgm .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#hrztmmdlgm .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#hrztmmdlgm .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#hrztmmdlgm .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#hrztmmdlgm .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#hrztmmdlgm .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#hrztmmdlgm .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#hrztmmdlgm .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#hrztmmdlgm .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hrztmmdlgm .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#hrztmmdlgm .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#hrztmmdlgm .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#hrztmmdlgm .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hrztmmdlgm .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#hrztmmdlgm .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#hrztmmdlgm .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hrztmmdlgm .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hrztmmdlgm .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#hrztmmdlgm .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hrztmmdlgm .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#hrztmmdlgm .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#hrztmmdlgm .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#hrztmmdlgm .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hrztmmdlgm .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#hrztmmdlgm .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#hrztmmdlgm .gt_left {\n  text-align: left;\n}\n\n#hrztmmdlgm .gt_center {\n  text-align: center;\n}\n\n#hrztmmdlgm .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#hrztmmdlgm .gt_font_normal {\n  font-weight: normal;\n}\n\n#hrztmmdlgm .gt_font_bold {\n  font-weight: bold;\n}\n\n#hrztmmdlgm .gt_font_italic {\n  font-style: italic;\n}\n\n#hrztmmdlgm .gt_super {\n  font-size: 65%;\n}\n\n#hrztmmdlgm .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#hrztmmdlgm .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#hrztmmdlgm .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#hrztmmdlgm .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#hrztmmdlgm .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#hrztmmdlgm .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#hrztmmdlgm .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#hrztmmdlgm .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#hrztmmdlgm div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"measure_id\">measure_id</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"measure_name\">measure_name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"location_id\">location_id</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"location_name\">location_name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"sex_id\">sex_id</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"sex_name\">sex_name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"age_id\">age_id</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"age_name\">age_name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"cause_id\">cause_id</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"cause_name\">cause_name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"metric_id\">metric_id</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"metric_name\">metric_name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"year\">year</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"val\">val</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"upper\">upper</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"lower\">lower</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\"></tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\nA stacked bar plot has been used to show the estimated number of malaria deaths in the E8 countries from 2000 to 2021.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Convert the observed_cases data to a data frame\nobserved_cases |> \n  as.data.frame() |> \n  # Filter the data for deaths and rate metrics\n  filter(measure_name == \"Deaths\", metric_name == \"Rate\") |> \n  # Group the data by location\n  group_by(location_name) |> \n  # Create a ggplot object with the filtered and grouped data\n  ggplot() +\n  # Add stacked bar plots to the chart, filled based on location\n  geom_bar(aes(x = year, y = val, fill = location_name), stat = \"identity\", position = \"stack\") +\n  # Apply custom fill colour scale\n  scale_fill_manual_health_radar() +   \n  # Apply custom theme\n  theme_health_radar() +\n  # Add labels and title to the plot\n  labs(\n    title = \"Estimated malaria death rate (2000-2021)\",\n    x = \"Year\",\n    y = \"Deaths (rate per 100 000)\",\n    fill = \"E8 Country\",\n    caption = str_wrap(\n      \"The Institute of Health Metrics and Evaluation's (IHME) estimates of the malaria death rate in Elimination 8 (E8) countries for the 2000 to 2021 period. The highest death rate is estimated for Mozambique, followed by Angola. Substantially fewer deaths are estimated for Namibia, Botswana, South Africa, and Eswatini during this period, but it should be noted that the populations at risk of malaria in countries such as South Africa, are much lower than those in countries such as Angola and Mozambique. Source: Institute for Health Metrics and Evaluation (IHME). Global Burden of Disease Study 2021 (GBD 2021) Results. Seattle, WA: IHME, University of Washington, 2024. Available from: https://vizhub.healthdata.org/gbd-results/\", \n      width = 100))\n```\n\n::: {.cell-output-display}\n![](ihme_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n\n\n\nUpper and lower bounds were again available for the estimated malaria incidence rate, so a line plot with ribbons was chosen to visualise these data.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Convert the observed_cases data to a data frame\nobserved_cases |> \n  as.data.frame() |> \n  # Filter the data for incidence and rate metrics\n  filter(measure_name == \"Incidence\", metric_name == \"Rate\") |> \n  # Create a ggplot object with the filtered data\n  ggplot(aes(x = year, y = val, color = location_name)) +\n  # Add lines to the plot, coloured by location name\n  geom_line(linewidth = 1) +\n  # Add ribbons to the plot to represent the confidence intervals, filled based on location\n  geom_ribbon(aes(ymin = lower, ymax = upper, fill = location_name), alpha = 0.2) +\n  # Apply custom colour scale for lines\n  scale_colour_manual_health_radar() +  \n  # Apply custom fill scale for ribbons\n  scale_fill_manual_health_radar() +\n  # Apply custom theme\n  theme_health_radar() +\n  # Add labels and title to the plot\n  labs(\n    title = \"Estimated malaria incidence rate (2000-2021)\",\n    x = \"Year\",\n    y = \"Incidence (rate per 100 000)\",\n    colour = \"E8 Country\",\n    fill = \"E8 Country\",  \n    caption = str_wrap(\n      \"The estimated malaria incidence rate per 100 000 people from 2000 to 2021 in Elimination 8 (E8) countries. The lines show estimated incidence rate and the shaded areas show the uncertainty intervals. Mozambique is estimated to have experienced malaria incidence of 47 452.43 cases per 100 000 people in 2000, which decreased to 32 050.40 cases per 100 000 by 2021. Zimbabwe is estimated to have experienced erratic malaria incidence, with cases fluctuating over the 21 year period depicted. Note that the low incidence rates estimated in countries such as South Africa and Botswana may be related to the low proportion of their total populations living in regions in which malaria is common. Source: Institute for Health Metrics and Evaluation (IHME). Global Burden of Disease Study 2021 (GBD 2021) Results. Seattle, WA: IHME, University of Washington, 2024. Available from: https://vizhub.healthdata.org/gbd-results/\", \n      width = 85))\n```\n\n::: {.cell-output-display}\n![](ihme_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\n\n\n## Modelling Example\n\n<h2>How can this data be used in disease modelling?</h2>\n\nThe Global Burden of Disease (GBD) data on historical trends in on various disease metrics can serve to validate the accuracy of predictions made by transmission models. Malaria models frequently require calibration to align with IHME-derived estimates, such as adjusting transmission rates based on observed incidence or prevalence.\n\n### Preparing the data \n\nThe Global Burden of Disease study has produced estimates of prevalence for malaria worldwide. Prevalence is defined as the total number of cases of a given cause in a specified population at a designated time. It is differentiated from incidence, which refers to the number of new cases in the population at a given time. Observations from *Plasmodium falciparum* parasite rate (*Pf*PR) surveys and national routine surveillance systems of confirmed and unconfirmed diagnoses are augumented into a model of disease burden. More information on this methodology is provided [here](https://www.healthdata.org/gbd/methods-appendices-2021/malaria).\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load data from GBD\nobserved_df <- read_csv(\"data/IHME-GBD_2021_DATA-05f6b66f-1.csv\", show_col_types = FALSE) |>  \n  as.data.frame() |>  \n  filter(measure_name == \"Prevalence\", metric_name == \"Number\", location_name == \"Republic of South Africa\") |>  \n  rename(value = val)\n\nobserved_df |>  \nggplot() +\n  geom_point(aes(x = year, y = value, colour = measure_name)) +\n  geom_line(aes(x = year, y = value, colour = measure_name)) +\n  scale_colour_manual_health_radar() +\n  theme_health_radar() +\n  labs(title = \"Observed malaria point prevalence for South Africa\",\n    x = \"Year\",\n    y = \"Number of Cases\",\n    caption = str_wrap(\"Source: Institute for Health Metrics and Evaluation IHME | Global Burden of Disease Study (GBD) 2021.\")) +\n  guides(colour = \"none\")\n```\n\n::: {.cell-output-display}\n![](ihme_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\n\n\n\n### Modeling prevalence\n\nA good use of prevalence data is to calibrate transmission models. This is particularly useful if incidence data is limited, and in diseases with a significant asymptomatic proportion of the population, such as malaria. Fitting the model to both incidence and prevalence data provides a more complete picture of disease dynamics.\n\nUsing prevalence data is not without challenges. Health system challenges preventing individuals from accessing diagnosis and treatment, may result in under-reporting. In addition, because point prevalence is obtained from cross-sectional surveys, we may fail to capture dynamic trends in transmission and malaria immunity.\n\nMalaria models set in endemic countries also assume that humans can be exposed to and infected by an infectious mosquito while recovering from an initial infection (secondary infection). It may be difficult to estimate the true proportion of the population that has recovered from an initial infection already, and is now susceptible to a secondary infection.\n\n**Model calibration**\n\nTo calibrate the model, firstly, build a transmission model that reflects the underlying health system dynamics in the country,  coverage levels for any control interventions deployed, as well as relevant mosquito, parasite and human behaviours. We then select key parameters to fine-tune, causing the model output to better mimic the observed data.\n\nWe minimise the difference between the model output and observed data using sum of least squares or maximum likelihood estimation. An example of this function is shown in the code snippet below, and a simulated plot thereafter.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#|eval: false\n#|echo: true\n#|warning: false\n\n# Objective or cost function\nobjective_function <- function(initial_parameters, observed_df) {\n  \n  # Parameters to fine tune\n  a <- initial_parameters[1] # human biting rate\n  pa <- initial_parameters[2] # probability of asymptomatic infection\n  irs_eff <- initial_parameters[3] # effectiveness of IRS at reducing transmission\n  delta <- initial_parameters[4] # natural recovery rate\n  r <- initial_parameters[5] # rate of loss of infectiousness\n  \n  # Run the ODE model\n  output_df <- ode(y = initial_state, \n           times = times, \n           func = seacr, \n           parms = initial_parameters,\n           irs_cov = irs_cov)\n    \n  # Calculate the values for prevalence\n  prev_df <- output_df |>  \n  as.data.frame() |>  \n  mutate(Prv = c(0, diff(CPrv))) |> \n  pivot_longer(!time, names_to = \"state\", values_to = \"value\") |>  \n  mutate(year = 1995 + ceiling(time/365)) |>  \n  filter(state %in% \"Prv\") |>  \n  group_by(year) |> \n  slice_tail(n = 1) |>  \n  filter(year >= 2000) # adjust timeframe to match data\n   \n  # Actual GBD data\n  observed_prev <- filter(observed_df, measure_name == \"Prevalence\")$value\n  \n  # Model projections\n  predicted_prev <- prev_df$value\n  \n  # Calculate distance using sum of least squares or Poisson log- likelihood\n  error <- (observed_prev - predicted_prev)^2\n  #error <- dpois(round(observed_prev, 0), predicted_prev, log = TRUE)\n  \n  total <- sum(error)\n \n  return(-total)\n}\n\n# Run optimization to mimimise total\n\noptim_result <- optim(par = initial_parameters, \n                      fn = objective_function, \n                      observed_df = observed_df, \n                      method = \"L-BFGS-B\",\n                      lower = c(a = 0.1, rho = 1/500, pa = 0.01, delta = 1/280, irs_eff = 0.1, r = 1/21),\n                      upper = c(a = 0.9, rho = 1/40, pa = 0.9, delta = 1/90, irs_eff = 0.9, r = 1/3)\n                     )\n\n# Best-fit parameters from calibration\ncal_parameters <- optim_result$par\n\n# Run model with new calibrated parameters \ncalibrated_output <- ode(y = initial_state, \n           times = times, \n           func = seacr, \n           parms = cal_parameters,\n           irs_cov = irs_cov)\n\n# Plot prevalence of new model fit with ggplot\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(123)\n\n# Simulated values\npredicted_prev <- data.frame(\n  year = 2000:2021,\n  value = observed_df$value + rnorm(length(observed_df$value), mean = 3000, sd = 2000)) |>  \n  mutate(\n    key = \"Initial model output\") |> \n  bind_rows(\n      data.frame(\n  year = 2000:2021,\n  value = observed_df$value + rnorm(length(observed_df$value), mean = 1000, sd = 400)) |>  \n  mutate(\n    std_error = 700, # for example\n    lower = value - (1.96 * std_error),\n    upper = value + (1.96 * std_error),\n    key = \"Calibrated Projected prevalence\")\n    )\n\nmerged_df <- bind_rows(\n  predicted_prev,\n  mutate(observed_df, key = \"GBD estimates\")\n  ) \n\nggplot() +\n   geom_line(data = filter(merged_df, key == \"GBD estimates\"), aes(x = year, y = value, colour = key)) +\n   geom_pointrange(data = filter(merged_df, key == \"GBD estimates\"), aes(x = year, y = value, ymin = lower, ymax = upper, colour = key)) + \n  geom_line(data = filter(merged_df, key == \"Initial model output\"), aes(x = year, y = value, colour = key)) +\ngeom_line(data = filter(merged_df, key == \"Calibrated Projected prevalence\"), aes(x = year, y = value, colour = key)) +\n  geom_ribbon(data = filter(merged_df, key == \"Calibrated Projected prevalence\"), aes(x = year, y = value, ymin = lower, ymax = upper), fill = \"grey\", alpha = 0.4) +\n  scale_colour_manual_health_radar() +\n  theme_health_radar() +\n  labs(title = \"Malaria point prevalence for South Africa from 2000 to 2021\",\n       subtitle = \"Simulation of projected prevalance from the transmission model alongside prevalence data\",\n    x = \"Year\",\n    y = \"Number of Cases\",\n    Colour = \"Variable\",\n    caption = str_wrap(\"The calibrated model simulations align more closely with the observed prevalence than the initial projections. These results are compared against prevalence data from the Global Burden of Disease (GBD) 2021 study. The gray ribbon represents the uncertainty in the model estimates, and its overlap with the data's confidence intervals suggests a strong fit.\")\n  )\n```\n\n::: {.cell-output-display}\n![](ihme_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n\n\n\n\nCalibrating disease models to real-world data can be challenging. Methods like Approximate Bayesian Computation can be better when considering large datasets or complex models, but may be computationally expensive. You can find some examples of calibration in the literature below:\n\n-   Awine, T., & Silal, S. P. Assessing the effectiveness of malaria interventions at the regional level in Ghana using a mathematical modelling application. PLOS global public health, 2(12), e0000474 (2022). <https://doi.org/10.1371/journal.pgph.0000474>\n\n### Policy implications \n\nIn general, calibration ensures the model accurately reflects local transmission dynamics and the burden of disease. Specifically, calibrating to prevalence data ensures that we are also representing the asymptomatic burden of infection, and correctly accounting for its contribution to ongoing transmission. This allows policymakers to achieve more credible forecasting and simulate the impact of interventions targeted at the asymptomatic population such as mass testing and treating, or mass drug administration.\n\n\n:::",
    "supporting": [
      "ihme_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}