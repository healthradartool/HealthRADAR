{
  "hash": "ec02c452e28475ed6cf611fc5e473571",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"UN Population Division Data Portal\"\ndescription: \"United Nations Population Division provides estimates and projections of demographic indicators for the years 1950 to 2100.\"\ndate: 12/13/2024 # mm-dd-yyyy\nimage: \"images/un_population_data.png\"\n\ncategories:\n  - demographics\n  - country-level\n  - multi-national \n  - annual\n---\n\n\n\n::: {.page-tabs .panel-tabset}\n\n## Overview\n\n\n\n\n\n\n\n\n<h2>About the data</h2>\n\nThe United Nations Population Division produces and regularly updates estimates of various demographic indicators for 237 countries or areas for the period between 1950 and the present. In addition, they currently have projections of the indicators for the period between the present and the year 2100. These estimates and projections are made based on available censuses and nationally representative sample surveys.\n\nIndicators such as population size and density, total births and deaths, infant mortality rate, median age and population sex ratio are available. Data for countries and their territories are recorded separately as well as together. Grouped data for continents or groups of countries, states or territories such as \"Small Island Developing States (SIDS)\" or \"Land-locked Countries\" is also available.\n\n<h2>Accessing the data</h2>\n\n1.  Navigate to the UN population division [home page](https://www.un.org/development/desa/pd/)\n2.  Select `Data > World` Population Prospects.\n3.  This will take you to a new page. If you only require a subset of the available data, do the following:\n    -   Navigate to `Data > Data Portal`.\n    -   Choose the desired indicators, locations and years from the dropdown menus, and then press \"Search\". The resulting page will allow you to view plots of the data.\n    -   Navigating to `Table > Export > CSV` will download the selected data as a CSV file. Be aware that searching a large dataset can take a long time. Using the \"Download Center\" (Step 4) may be more efficient in this case.\n4.  To download the full dataset which we use in this tutorial, select `Data > Download Center` from the [World Population Prospects page](https://population.un.org/wpp/). The [webpage](https://population.un.org/wpp/Download/Standard/MostUsed/) to which you have now navigated provides options for download.\n    -   Under the title \"Major topic/ Special groupings\", select the \"CSV format\" option. Information about the data will be displayed. Scrolling down reveals a table containing links to download various CSV files. For the purposes of this tutorial, the file containing data from the subgroup \"Demographic Indicators\", labelled \"1950-2100, medium (GZ, 15.79 MB)\", will be used.\n\n<h2>What does the data look like?</h2>\n\nThis dataset contains estimates or projections for a number of demographic indicators between the years 1950 and 2101. It is not separated by age and is presented in long format, with each row providing values for all indicators for a given country or area in a given year.\n\n![Layout of the CSV file opened in Microsoft Excel, displaying nine of 67 columns, and 11 of 84 360 rows.](images/pop_csv.png)\n\nThe indicator labels are not all self explanatory. Below is a table which provides slightly more detail for each indicator:\n\n:::{.callout-note icon='false' collapse='true'}\n\n## Indicator description\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"pcrozjxceq\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#pcrozjxceq table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#pcrozjxceq thead, #pcrozjxceq tbody, #pcrozjxceq tfoot, #pcrozjxceq tr, #pcrozjxceq td, #pcrozjxceq th {\n  border-style: none;\n}\n\n#pcrozjxceq p {\n  margin: 0;\n  padding: 0;\n}\n\n#pcrozjxceq .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#pcrozjxceq .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#pcrozjxceq .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#pcrozjxceq .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#pcrozjxceq .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#pcrozjxceq .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pcrozjxceq .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#pcrozjxceq .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#pcrozjxceq .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#pcrozjxceq .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#pcrozjxceq .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#pcrozjxceq .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#pcrozjxceq .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#pcrozjxceq .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#pcrozjxceq .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#pcrozjxceq .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#pcrozjxceq .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#pcrozjxceq .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#pcrozjxceq .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pcrozjxceq .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#pcrozjxceq .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#pcrozjxceq .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#pcrozjxceq .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pcrozjxceq .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#pcrozjxceq .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#pcrozjxceq .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pcrozjxceq .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pcrozjxceq .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#pcrozjxceq .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pcrozjxceq .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#pcrozjxceq .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pcrozjxceq .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#pcrozjxceq .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pcrozjxceq .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#pcrozjxceq .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pcrozjxceq .gt_left {\n  text-align: left;\n}\n\n#pcrozjxceq .gt_center {\n  text-align: center;\n}\n\n#pcrozjxceq .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#pcrozjxceq .gt_font_normal {\n  font-weight: normal;\n}\n\n#pcrozjxceq .gt_font_bold {\n  font-weight: bold;\n}\n\n#pcrozjxceq .gt_font_italic {\n  font-style: italic;\n}\n\n#pcrozjxceq .gt_super {\n  font-size: 65%;\n}\n\n#pcrozjxceq .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#pcrozjxceq .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#pcrozjxceq .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#pcrozjxceq .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#pcrozjxceq .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#pcrozjxceq .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#pcrozjxceq .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#pcrozjxceq .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#pcrozjxceq div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <caption>The label used for each indicator in the dataset of interest, along with a description of this indicator. </caption>\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Name\">Name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Description\">Description</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">SortOrder (numeric)</td>\n<td headers=\"Description\" class=\"gt_row gt_left\"> record counter</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">LocID (numeric)</td>\n<td headers=\"Description\" class=\"gt_row gt_left\"> numeric code for the location; for countries and areas, it follows the ISO 3166-1 numeric standard</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">Notes (string)</td>\n<td headers=\"Description\" class=\"gt_row gt_left\"> symbol linked to location notes file (available for download below)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">ISO3_code (string)</td>\n<td headers=\"Description\" class=\"gt_row gt_left\"> ISO 3166-1 alpha-3 location codes</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">ISO2_code (string)</td>\n<td headers=\"Description\" class=\"gt_row gt_left\"> ISO 3166-1 alpha-2 location codes</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">SDMX_code (string)</td>\n<td headers=\"Description\" class=\"gt_row gt_left\"> SDMX Global Registry, cross domain code list for geographical areas (version 2.0) represents a combination of reference area codes in M49 and ISO-3166 classification for international data exchange and interoperability </td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">LocTypeID (numeric)</td>\n<td headers=\"Description\" class=\"gt_row gt_left\"> code for location type</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">LocTypeName (string)</td>\n<td headers=\"Description\" class=\"gt_row gt_left\"> type of location</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">ParentID (numeric)</td>\n<td headers=\"Description\" class=\"gt_row gt_left\"> numeric code of the parent location</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">Location (string)</td>\n<td headers=\"Description\" class=\"gt_row gt_left\"> name of the region, subregion, country or area</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">VarID (numeric)</td>\n<td headers=\"Description\" class=\"gt_row gt_left\"> numeric code for the scenario</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">Variant (string)</td>\n<td headers=\"Description\" class=\"gt_row gt_left\"> projection scenario name (Medium is the most used); for more information see Definition of Projection Scenarios</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">MidPeriod (numeric)</td>\n<td headers=\"Description\" class=\"gt_row gt_left\"> numeric value identifying the mid period of the data, with the decimal representing the month (e.g. 1950.5 for July of 1950)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">TPopulation1Jan</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Total Population, as of 1 January (thousands)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">TPopulation1July</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Total Population, as of 1 July (thousands)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">TPopulationMale1July</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Male Population, as of 1 July (thousands)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">TPopulationFemale1July</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Female Population, as of 1 July (thousands)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">PopDensity</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Population Density, as of 1 July (persons per square km)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">PopSexRatio</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Population Sex Ratio, as of 1 July (males per 100 females)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">MedianAgePop</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Median Age, as of 1 July (years)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">NatChange</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Natural Change, Births minus Deaths (thousands)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">NatChangeRT</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Rate of Natural Change (per 1,000 population)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">PopChange</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Population Change (thousands)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">PopGrowthRate</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Population Growth Rate (percentage)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">DoublingTime</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Population Annual Doubling Time (years)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">Births</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Births (thousands)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">Births1519</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Births by women aged 15 to 19 (thousands)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">CBR</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Crude Birth Rate (births per 1,000 population)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">TFR</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Total Fertility Rate (live births per woman)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">NRR</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Net Reproduction Rate (surviving daughters per woman)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">MAC</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Mean Age Childbearing (years)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">SRB</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Sex Ratio at Birth (males per 100 female births)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">Deaths</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Total Deaths (thousands)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">DeathsMale</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Male Deaths (thousands)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">DeathsFemale</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Female Deaths (thousands)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">CDR</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Crude Death Rate (deaths per 1,000 population)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">LEx</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Life Expectancy at Birth, both sexes (years)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">LExMale</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Male Life Expectancy at Birth (years)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">LExFemale</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Female Life Expectancy at Birth (years)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">LE15</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Life Expectancy at Age 15, both sexes (years)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">LE15Male</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Male Life Expectancy at Age 15 (years)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">LE15Female</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Female Life Expectancy at Age 15 (years)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">LE65</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Life Expectancy at Age 65, both sexes (years)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">LE65Male</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Male Life Expectancy at Age 65 (years)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">LE65Female</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Female Life Expectancy at Age 65 (years)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">LE80</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Life Expectancy at Age 80, both sexes (years)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">LE80Male</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Male Life Expectancy at Age 80 (years)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">LE80Female</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Female Life Expectancy at Age 80 (years)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">InfantDeaths</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Infant Deaths, under age 1 (thousands)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">IMR</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Infant Mortality Rate (infant deaths per 1,000 live births)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">LBsurvivingAge1</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Live births Surviving to Age 1 (thousands)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">Under5Deaths</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Deaths under age 5 (thousands)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">Q5</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Under-five Mortality Rate (deaths under age 5 per 1,000 live births)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">Q0040</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Mortality before Age 40, both sexes (deaths under age 40 per 1,000 live births)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">Q0040Male</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Male mortality before Age 40 (deaths under age 40 per 1,000 male live births)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">Q0040Female</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Female mortality before Age 40 (deaths under age 40 per 1,000 female live births)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">Q0060</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Mortality before Age 60, both sexes (deaths under age 60 per 1,000 live births)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">Q0060Male</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Male mortality before Age 60 (deaths under age 60 per 1,000 male live births)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">Q0060Female</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Female mortality before Age 60 (deaths under age 60 per 1,000 female live births)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">Q1550</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Mortality between Age 15 and 50, both sexes (deaths under age 50 per 1,000 alive at age 15)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">Q1550Male</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Male mortality between Age 15 and 50 (deaths under age 50 per 1,000 males alive at age 15)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">Q1550Female</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Female mortality between Age 15 and 50 (deaths under age 50 per 1,000 females alive at age 15)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">Q1560</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Mortality between Age 15 and 60, both sexes (deaths under age 60 per 1,000 alive at age 15)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">Q1560Male</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Male mortality between Age 15 and 60 (deaths under age 60 per 1,000 males alive at age 15)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">Q1560Female</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Female mortality between Age 15 and 60 (deaths under age 60 per 1,000 females alive at age 15)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">NetMigrations</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Net Number of Migrants (thousands)</td></tr>\n    <tr><td headers=\"Name\" class=\"gt_row gt_left\">CNMR</td>\n<td headers=\"Description\" class=\"gt_row gt_left\">Net Migration Rate (per 1,000 population)</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n:::\n\n<h2>Key points to consider</h2>\n\n**Estimations and Projections:**\n\nThis dataset uses data from censuses and other surveys to generate estimations of demographic indicators between 1950 and the present, and projections of these same indicators from the present to the year 2100.\n\n**Pitfalls of Annual Data:**\n\nUsing annual data for your analysis can lead to several pitfalls:\n\n-   Seasonal variations: Annual data may not capture seasonal patterns in population movement, which can be influenced by social or climatic factors. This can lead to an over- or underestimation of the disease spread and the impact of interventions.\n\n-   Temporal aggregation: Aggregating data annually may mask important short-term dynamics, such as movements of people around smaller holidays or due to unusual climatic events.\n\nNote that this dataset does record total population size in thousands as of 1 January and 1 June of each year. Combining these indicators to get biannual data will decrease the impact of some of the pitfalls detailed above.\n\n**National Level - Ignoring Spatial Heterogeneity:**\n\nModelling malaria transmission based on population sizes at a national level can overlook important spatial heterogeneities:\n\n-   Regional variations: Malaria transmission can vary significantly between different regions within a country due to differences in population densities and other demographic factors.\n\n-   Local hotspots: Even within regions, there can be local hotspots of malaria transmission due to factors such as population density and human behavior.\n\n-   Population movement: The movement of people between different areas can introduce or reintroduce malaria parasites, affecting transmission dynamics. By only looking at movement of people between countries, we will miss these subnational movements.\n\nWhile some of the locations for which data are provided are territories, regions or states, there are no countries for which the data can be separated by subregion such as province.\n\n## Visualisations\n\n<h2>How to use this dataset</h2>\n\nLong format tables are often easier to work with. Below is a code chunk which converts the dataset as downloaded from the UN Population Division webpage to a longer format, and prints out the \"Location\", \"Time\", \"Indicator\" and \"Value\" columns.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Read in data\n\ndata <- read_csv2(\"WPP2024_Demographic_Indicators_Medium3.csv\",\n                   col_types = \"iiccciicicicinnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnn\")\n\ndat_long <- pivot_longer(data, 14:ncol(data), names_to = \"Indicator\", values_to = \"Value\") |>\n  mutate(Value = Value/1000) # Convert to thousands\ndat_long[,which(colnames(dat_long) %in% c(\"Location\", \"Time\", \"Indicator\", \"Value\"))] |> \n  head(n = 10) |> \n  gt::gt() |> \n  gt::tab_options(table.align = \"left\")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"dffuhxefor\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#dffuhxefor table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#dffuhxefor thead, #dffuhxefor tbody, #dffuhxefor tfoot, #dffuhxefor tr, #dffuhxefor td, #dffuhxefor th {\n  border-style: none;\n}\n\n#dffuhxefor p {\n  margin: 0;\n  padding: 0;\n}\n\n#dffuhxefor .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: 0;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#dffuhxefor .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#dffuhxefor .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#dffuhxefor .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#dffuhxefor .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#dffuhxefor .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dffuhxefor .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#dffuhxefor .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#dffuhxefor .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#dffuhxefor .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#dffuhxefor .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#dffuhxefor .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#dffuhxefor .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#dffuhxefor .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#dffuhxefor .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#dffuhxefor .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#dffuhxefor .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#dffuhxefor .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#dffuhxefor .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dffuhxefor .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#dffuhxefor .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#dffuhxefor .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#dffuhxefor .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dffuhxefor .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#dffuhxefor .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#dffuhxefor .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dffuhxefor .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dffuhxefor .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#dffuhxefor .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dffuhxefor .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#dffuhxefor .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dffuhxefor .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#dffuhxefor .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dffuhxefor .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#dffuhxefor .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dffuhxefor .gt_left {\n  text-align: left;\n}\n\n#dffuhxefor .gt_center {\n  text-align: center;\n}\n\n#dffuhxefor .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#dffuhxefor .gt_font_normal {\n  font-weight: normal;\n}\n\n#dffuhxefor .gt_font_bold {\n  font-weight: bold;\n}\n\n#dffuhxefor .gt_font_italic {\n  font-style: italic;\n}\n\n#dffuhxefor .gt_super {\n  font-size: 65%;\n}\n\n#dffuhxefor .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#dffuhxefor .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#dffuhxefor .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#dffuhxefor .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#dffuhxefor .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#dffuhxefor .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#dffuhxefor .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#dffuhxefor .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#dffuhxefor div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Location\">Location</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Time\">Time</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Indicator\">Indicator</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Value\">Value</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Location\" class=\"gt_row gt_left\">Mozambique</td>\n<td headers=\"Time\" class=\"gt_row gt_right\">1950</td>\n<td headers=\"Indicator\" class=\"gt_row gt_left\">TPopulation1Jan</td>\n<td headers=\"Value\" class=\"gt_row gt_right\">5878.439</td></tr>\n    <tr><td headers=\"Location\" class=\"gt_row gt_left\">Mozambique</td>\n<td headers=\"Time\" class=\"gt_row gt_right\">1950</td>\n<td headers=\"Indicator\" class=\"gt_row gt_left\">TPopulation1July</td>\n<td headers=\"Value\" class=\"gt_row gt_right\">5910.225</td></tr>\n    <tr><td headers=\"Location\" class=\"gt_row gt_left\">Mozambique</td>\n<td headers=\"Time\" class=\"gt_row gt_right\">1950</td>\n<td headers=\"Indicator\" class=\"gt_row gt_left\">TPopulationMale1July</td>\n<td headers=\"Value\" class=\"gt_row gt_right\">2891.818</td></tr>\n    <tr><td headers=\"Location\" class=\"gt_row gt_left\">Mozambique</td>\n<td headers=\"Time\" class=\"gt_row gt_right\">1950</td>\n<td headers=\"Indicator\" class=\"gt_row gt_left\">TPopulationFemale1July</td>\n<td headers=\"Value\" class=\"gt_row gt_right\">3018.407</td></tr>\n    <tr><td headers=\"Location\" class=\"gt_row gt_left\">Mozambique</td>\n<td headers=\"Time\" class=\"gt_row gt_right\">1950</td>\n<td headers=\"Indicator\" class=\"gt_row gt_left\">PopDensity</td>\n<td headers=\"Value\" class=\"gt_row gt_right\">75.157</td></tr>\n    <tr><td headers=\"Location\" class=\"gt_row gt_left\">Mozambique</td>\n<td headers=\"Time\" class=\"gt_row gt_right\">1950</td>\n<td headers=\"Indicator\" class=\"gt_row gt_left\">PopSexRatio</td>\n<td headers=\"Value\" class=\"gt_row gt_right\">958.061</td></tr>\n    <tr><td headers=\"Location\" class=\"gt_row gt_left\">Mozambique</td>\n<td headers=\"Time\" class=\"gt_row gt_right\">1950</td>\n<td headers=\"Indicator\" class=\"gt_row gt_left\">MedianAgePop</td>\n<td headers=\"Value\" class=\"gt_row gt_right\">19.173</td></tr>\n    <tr><td headers=\"Location\" class=\"gt_row gt_left\">Mozambique</td>\n<td headers=\"Time\" class=\"gt_row gt_right\">1950</td>\n<td headers=\"Indicator\" class=\"gt_row gt_left\">NatChange</td>\n<td headers=\"Value\" class=\"gt_row gt_right\">119.545</td></tr>\n    <tr><td headers=\"Location\" class=\"gt_row gt_left\">Mozambique</td>\n<td headers=\"Time\" class=\"gt_row gt_right\">1950</td>\n<td headers=\"Indicator\" class=\"gt_row gt_left\">NatChangeRT</td>\n<td headers=\"Value\" class=\"gt_row gt_right\">20.227</td></tr>\n    <tr><td headers=\"Location\" class=\"gt_row gt_left\">Mozambique</td>\n<td headers=\"Time\" class=\"gt_row gt_right\">1950</td>\n<td headers=\"Indicator\" class=\"gt_row gt_left\">PopChange</td>\n<td headers=\"Value\" class=\"gt_row gt_right\">63.572</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n<h2>How to plot this dataset</h2>\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Define the elimination 8 countries\ne8_countries <- c(\"Botswana\", \"Eswatini\", \"Namibia\", \"South Africa\", \"Angola\", \"Mozambique\", \"Zambia\", \"Zimbabwe\")\n\n# Load the map data for Africa\ne8_africa <- ne_countries(continent = \"Africa\", returnclass = \"sf\") |>\n  mutate(name = if_else(name==\"eSwatini\", \"Eswatini\", name)) |> # Correct the name for Eswatini\n  filter(name %in% e8_countries) # Filter to include only the elimination 8 countries\n\n# Filter long table so that only the 1 Jan population estimates for 2024 are shown\ndat_long_pop2024 <- filter(dat_long, Time == 2024 & Indicator == \"TPopulation1Jan\")\n\n# Merge the map data with your data\ne8_data <- e8_africa |>\n  left_join(dat_long_pop2024 |> mutate(), by = c(\"name\" = \"Location\")) \n\n# Create the choropleth map\nggplot(data = e8_data) +\n  geom_sf(aes(fill = Value), color = \"lightgrey\", size = 0.3) +  # Plot the map with population data\n  theme_health_radar() +  # Apply custom theme\n  # Correct fill scale for continuous data\n  scale_fill_continuous_health_radar(name = \"Population Size (in thousands)\") +  \n  labs(title = \"Estimated Population Size of the Elimination 8 countries\",\n       subtitle = \"For the year 2024\",\n       caption = str_wrap(\"The choropleth map highlights population size estimates in thousands in the Elimination 8 countries in 2024, with South Africa having the largest population of over 60 million people, and Namibia and Botswana having the smallest populations. These figures are estimates based on census and sample data. Source: UN Population Division.\", width = 80),\n       x = \"Latitude\",\n       y = \"Longitude\") + \n  # Conditional text color to ensure readability\n  geom_sf_text(aes(label = name, color = ifelse(Value > mean(Value), \"black\", \"white\")), size = 3) +  \n  scale_color_identity() +  \n  # Keep the caption outside the plot area\n  theme(\n    plot.caption.position = \"plot\"  \n  )\n```\n\n::: {.cell-output-display}\n![](un_population_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# collapse = TRUE\n# Create a line plot for population size in the E8 countries over time\ndat_long |>\n  # Filter for the E8 countries\n  filter(Location |> \n           stringr::str_detect(\"Angola|Botswana|Eswatini|Malawi|Mozambique|Namibia|South Africa|Zambia|Zimbabwe\") & \n           Indicator == \"TPopulation1Jan\") |>\n  # Rename columns to something more readable\n  rename(Country=\"Location\") |>\n  ggplot(aes(x = Time, y = Value, group = Country, color = Country)) +\n  geom_line(linewidth = 1) +  # Plot the population data as lines\n  geom_vline(xintercept = 2024, linetype = \"dashed\") +  # Add a dashed vertical line at the year 2024\n  scale_colour_manual_health_radar() +  # Apply manual color scale for \"color\" aesthetic (lines)\n  theme_health_radar() +  # Apply custom theme\n  labs(\n    title = \"Estimated and Projected Population Sizes \\n of the Elimination 8 Countries\",\n    subtitle = \"For the years 1950 to 2100\",\n    x = \"Year\",\n    y = \"Population Size (in thousands)\",\n    color = \"Country\",\n    caption = str_wrap(\"The plot displays estimated population sizes in thousands in the Elimination 8 Countries from 1950 to 2024 and projected population sizes between 2025 and 2100, with lines representing these estimates/projections. The dashed black line indicates the year in which these estimations and projections were produced - 2024. These data are recorded annually, and may therefore miss seasonal variations in population size. Population growth is evident across all eight countries since 1950, with many of the populations projected to plateau by 2100. Source: UN Population Division.\", width = 85)\n  )\n```\n\n::: {.cell-output-display}\n![](un_population_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Filter the data for the E8 countries and specific indicators for the years 2000, 2010, and 2020\ndat_pop_mvf <- dat_long |> \n  filter(Location |> \n           stringr::str_detect(\"Angola|Botswana|Eswatini|Malawi|Mozambique|Namibia|South Africa|Zambia|Zimbabwe\") & \n           Indicator %in% c(\"TPopulationFemale1July\", \"TPopulationMale1July\") & \n           Time %in% seq(2000, 2020, 10))\n\n# Rename the indicators to more readable labels\ndat_pop_mvf[dat_pop_mvf == \"TPopulationFemale1July\"] <- \"Female\"\ndat_pop_mvf[dat_pop_mvf == \"TPopulationMale1July\"] <- \"Male\"\n\n# Create stacked barplots\nggplot(dat_pop_mvf, aes(x = Time, y = Value, fill = Indicator)) +\n  geom_bar(stat = \"identity\", position = \"stack\") +  # Create stacked bars\n  # Create separate plots for each country with free y-axis scales\n  facet_wrap(~ Location, scales = \"free_y\") +  \n  scale_fill_manual_health_radar() +  # Apply the custom fill scale for \"Donor\"\n  labs(\n    title = \"Stacked Bar Plot of Estimated or Projected Male and Female \\n Population Sizes in 2000, 2010 and 2020\",\n    subtitle = \"For the Elimination 8 Countries\",\n    x = \"Year\",\n    y = \"Population Size (in thousands)\",\n    fill = \"Sex\",\n    caption = str_wrap(\"The stacked bar plot shows the estimated or projected numbers of males and females making up the populations of each of the Elimination 8 countries in 2000, 2010 and 2020. Note the difference in y-axis range for each stacked barplot, indicating different population sizes. No country appears to have a ratio of males to females which differs greatly from 1:1.  Source: UN Population Division.\", width = 100)\n  ) +\n  theme_health_radar()  # Apply the custom radar theme\n```\n\n::: {.cell-output-display}\n![](un_population_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n\n\n## Modelling Example \n\n<h2>How can this data be used in disease modelling?</h2>\n\nModels aim to provide abstract simulations of real-life dynamics. As such, it is important to include realistic parameters pertaining to birth and death, and the overall growth of the population. Using data from the UN Population Division Data Portal, we use the crude birth and death rates to inform population growth in the example below. While age-specific death rates may be more valuable, we use these as a proxy for average death rates across the population.\n\n### Preparing the data\n\nWe plot the values for crude birth and death rates obtained from Mozambique below.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncrude_births <- read_csv(\"unpopulation_dataportal_births.csv\") |>  \n  distinct(Time, .keep_all = TRUE) # remove duplicates\ncrude_deaths <-  read_csv(\"unpopulation_dataportal_deaths.csv\")\n  \nrates <- bind_rows(crude_births, crude_deaths)\n\nrates |>  \n  ggplot(aes(x = Time)) +\n  geom_line(aes(y = Value, colour = IndicatorName)) +\n  theme_health_radar() +\n  scale_colour_manual_health_radar() +\n  labs(x = \"Year\",\n       y = \"per 1000 population\",\n       title = \"Crude birth and death rates in Mozambique\",\n       colour = \"Indicator\",\n       caption = \"Birth rates are significantly higher than death reates, as is common in many growing African countries. Source: UN Population Division.\")\n```\n\n::: {.cell-output-display}\n![](un_population_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n\n### Changes in human population\n\nConsidering malaria immunity increases with age, the introduction of new susceptibles (through the birth rate) can help sustain transmission, and skew the disease burden to younger individuals, i.e. children. In order to factor this in, we show a simple model with no interventions. We assume the vector population remains constant. The [Climate Research Unit Timeseries](https://uct-masha.quarto.pub/healthradar/radar/datasources/malaria/cru-ts/cruts.html) page provides a demonstration of changes to the vector population in the context of disease modeling. \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(deSolve)\n\n# Time points for the simulation\nY = 35 # Years of simulation\ntimes <- seq(0, 365*Y, 1) # time in days\n\n\n# Define basic dynamic Human-static Vector model ####\nseirs <- function(times, start, parameters, crude_births, crude_deaths)  {\n  with(as.list(c(parameters, start)), {\n    P = S + E + A + C + R + G\n    M = Sm + Em + Im\n    m = M / P\n    \n    pop_time <- seq(1990, 2025, by = 1/365) \n    birth_rates <- approx(crude_births$Time, crude_births$Value, pop_time, method = \"constant\", rule = 2)$y\n    death_rates <- approx(crude_deaths$Time, crude_deaths$Value, pop_time, method = \"constant\", rule = 2)$y\n    \n    # Seasonality\n    seas.t <- amp*(1+cos(2*pi*(times/365 - phi)))\n    \n    # Force of infection\n    Infectious <- C + zeta_a*A # infectious reservoir\n    lambda = ((a^2*b*c*m*Infectious/P)/(a*c*Infectious/P+mu_m)*(gamma_m/(gamma_m+mu_m)))*seas.t\n    \n    time_index <- floor(times + 1)\n    mu_b <- birth_rates[time_index]/1000/365 # crude birth rate in humans\n    mu_h <- death_rates[time_index]/1000/365 # crude death rate in humans\n    \n    # Differential equations/rate of change\n    dSm = 0\n    dEm = 0\n    dIm = 0\n    \n    dS = mu_b*P - lambda*S + rho*R - mu_h*S\n    dE = lambda*S - (gamma_h + mu_h)*E\n    dA = pa*gamma_h*E + pa*gamma_h*G - (delta + mu_h)*A\n    dC = (1-pa)*gamma_h*E + (1-pa)*gamma_h*G - (r + mu_h)*C\n    dR = delta*A + r*C - (lambda + rho + mu_h)*R\n    dG = lambda*R - (gamma_h + mu_h)*G\n     \n    dCInc = lambda*(S+R)\n    \n    output <- c(dSm, dEm, dIm, dS, dE, dA, dC, dR, dG, dCInc)\n    list(output)\n  })\n}\n\n# Input definitions ####\n\n#Initial values\nstart <- c(Sm = 30000000, # susceptible mosquitoes\n           Em = 20000000, # exposed and infected mosquitoes\n           Im = 800000, # infectious mosquitoes\n           S = 6000000, # susceptible humans\n           E = 3000000, # exposed and infected humans\n           A = 1000000, # asymptomatic and infectious humans\n           C = 1000000, # clinical and symptomatic humans\n           R = 2000000, # recovered and semi-immune humans\n           G = 1000000, # secondary-exposed and infected humans\n           CInc = 0 # cumulative incidence           \n           ) \n\n\n# Parameters\nparameters <- c(a = 0.28, # human feeding rate per mosquito\n           b = 0.3, # transmission efficiency M->H\n           c = 0.3, # transmission efficiency H->M\n           gamma_m = 1/10, # rate of onset of infectiousness in mosquitoes\n           mu_m = 1/12, # natural birth/death rate in mosquitoes\n           gamma_h = 1/10, # rate of onset of infectiousness in humans\n           r = 1/7, # rate of loss of infectiousness after treatment\n           rho = 1/365, # rate of loss of immunity after recovery\n           delta = 1/150, # natural recovery rate\n           zeta_a = 0.4, # relative infectiousness of asymptomatic infections\n           pa = 0.1, # probability of asymptomatic infection\n           amp = 0.8, # Amplitude\n           phi = 250 # phase angle; start of season\n)\n\n# Run the model\nout <- ode(y = start, \n           times = times, \n           func = seirs, \n           parms = parameters,\n           crude_births = crude_births,\n           crude_deaths = crude_deaths)\n\n\n# Post-processing model output into a dataframe\n\ndf <- as_tibble(as.data.frame(out)) |> \n  mutate(P = S + E + A + C + R + G) |> \n  pivot_longer(cols = -time, names_to = \"variable\", values_to = \"value\") |> \n  mutate(date = ymd(\"1990-01-01\") + time)\n\ndf |> \n  filter(variable == \"P\") |> \n  ggplot() +\n  geom_line(aes(x = date, y = value, colour = variable)) +\n  theme_health_radar() +\n  scale_colour_manual_health_radar() +\n  scale_y_continuous(labels = scales::label_number(suffix = \" M\", scale = 1e-6)) +\n  labs(\n    title = \"Growth in human population in Mozambique over time\", \n    x = \"Year\",\n    y = \"Population size in millions\",\n    colour = \"Population\",\n    caption = str_wrap(\"Changes in the total human population over time. Source: Model output\")\n  )  +\n  theme(legend.position = \"none\")\n```\n\n::: {.cell-output-display}\n![](un_population_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n\n\n:::",
    "supporting": [
      "un_population_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}