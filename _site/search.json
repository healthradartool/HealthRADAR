[
  {
    "objectID": "updates.html",
    "href": "updates.html",
    "title": "Updates",
    "section": "",
    "text": "Date\n\n\n\nTitle\n\n\n\n\n\n\n\n\nApr 14, 2025\n\n\nHealth RADAR pilot launch\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "themes.html",
    "href": "themes.html",
    "title": "Malaria",
    "section": "",
    "text": "Climate\n\n\n\n\n\n\n\nEntomology\n\n\n\n\n\n\n\nEpidemiology \n\n\n\n\n\n\n\nDemography \n\n\n\n\n\n\n\nInterventions\n\n\n\n\n\n\n\nPolicies"
  },
  {
    "objectID": "guides/contribution/contribution_guidance.html",
    "href": "guides/contribution/contribution_guidance.html",
    "title": "Health RADAR Contribution Guide",
    "section": "",
    "text": "Contributing a page requires the completion of a page template, with a folder for static images and any sample datasets used. All code chunks will be contained within the page text in a qmd format. If you are not familiar with the qmd format, follow the template provided with a pre-populated example."
  },
  {
    "objectID": "guides/contribution/contribution_guidance.html#how-to-contribute-a-page",
    "href": "guides/contribution/contribution_guidance.html#how-to-contribute-a-page",
    "title": "Health RADAR Contribution Guide",
    "section": "",
    "text": "Contributing a page requires the completion of a page template, with a folder for static images and any sample datasets used. All code chunks will be contained within the page text in a qmd format. If you are not familiar with the qmd format, follow the template provided with a pre-populated example."
  },
  {
    "objectID": "guides/contribution/contribution_guidance.html#instructions-to-complete-template",
    "href": "guides/contribution/contribution_guidance.html#instructions-to-complete-template",
    "title": "Health RADAR Contribution Guide",
    "section": "Instructions to complete template",
    "text": "Instructions to complete template\nPlease read this manual before populating the template for your RADAR page. The Master template is available in Health RADAR Workbench / Templates. Do not edit the template. Please save a copy to your organisation folder and label it with the page title.\n\nNotes about the template style\nThis is a file written in markdown. Markdown is a simple markup language for formatting text quickly and easily, commonly used for creating clean and readable documents and will help us to turn your page into a website.\n\nRules:\n\nMaintain the # signs. These help to separate Titles and Headings. A single # is for the main title and additional # signs are for subheadings.\nWe have provided standardised headings for you to use (highlighted). Please feel free to add additional headings and subheadings as you see fit. The Highlighted fields are for you to populate.\nPlease write the text in a readable format with our target users being analysts, researchers and public health officials working in malaria.\n\n\n\nIncluding static images.\n\nCreate a folder for each page\nSave each image you wish to include on the page\nOn the template, you can note the image file name and desired caption as in the example below.\nE.g. (images/filename.png “caption”)\n\n\n\nIncluding links:\nYou can mix the links in with your text in the following way:\n[Link Description](actual link goes here)\nExample: [Data Visualisation Tips and Tricks](https://r4ds.had.co.nz/data-visualisation.html)\n\n\n\nSection specific information\n\n\nPage header text\nCategories:\nChoose these search terms to describe your page (max 6)\nExisting terms:\n\nGlobal, regional, country-level, urban, rural\nAnnual, monthly, daily, hourly\nEpidemiology, climate, intervention, demography, entomology\n\nNew terms: add…\n\n\nDescription\nKeep it short and to the point. What is the type of data (annual, monthly etc)? How often is it updated? If there are multiple datasets then provide a short description for each one. Also mention where historical data can be found if necessary and some caveats (if known) with the datasets. Think about the lifespan of any links that you include\n\n\nHow to use the data?\nIf you are comfortable coding up the access to the data, then place the code chunk in the template here. Provide a brief summary of the dataset once it is read in (first ~50 lines). If you are not comfortable with code, then leave this section blank.\n\n\nHow to plot this data?\nOnce again, if you are comfortable coding up a few interesting plots to visualise the data, then please include that here. Take a look at the plotting templates in the resources to get an idea of plotting styles. If you cannot do the coding section, then please ignore that section and provide an explanation of a plot that would benefit the end used. An example description could be:\n“Line plots of the annual reported malaria cases for country A, B, C and D for the period 2000 - 2022”\n\n\nKey points to consider:\nThese are short, dataset specific bullet points that bring attention to certain features of the data that an end user might overlook. These could be the fact that the dataset contains annual data which means that trends within years would not be captured (all data points generated at the end of year, for example), or when it would be suitable to use this dataset and when another dataset would be preferable\n\n\nVisualisation Guidance\nIn general, the visualisations should highlight the type of data available from a data source. Try to keep to roughly 4 key visualisations that allow visitors to quickly engage with the dataset while learning. They should be as beginner-friendly as possible so that the visualisation and plotting code can ideally both be understood relatively quickly.\nIn terms of styling, please apply the theme_health_radar(), scale_colour_manual_health_radar(), scale_fill_manual_health_radar(), scale_colour_continuous_health_radar() and scale_fill_continuous_health_radar() whenever possible. This will ensure consistency in the visualisations across the entire website.\nTo understand the process a bit better, let’s go through an example from the World Malaria Report\n\n# Define the elimination 8 countries\ne8_countries &lt;- c(\"Botswana\", \"Eswatini\", \"Namibia\", \"South Africa\", \"Angola\", \"Mozambique\", \"Zambia\", \"Zimbabwe\")\n\n# Load the map data for Africa\ne8_africa &lt;- ne_countries(continent = \"Africa\", returnclass = \"sf\") |&gt;\n  mutate(name = if_else(name==\"eSwatini\", \"Eswatini\", name)) |&gt;\n  filter(name %in% e8_countries)\n\n# Merge the map data with your data\ne8_data &lt;- e8_africa %&gt;%\n  left_join(wmr2023$wmr2023j |&gt; mutate(), by = c(\"name\" = \"Country/area\"))\n\n# Create the choropleth map\nggplot(data = e8_data) +\n  geom_sf(aes(fill = `2022`), color = \"lightgrey\", size = 0.3) +  # Use fill for the continuous 2022 data\n  theme_health_radar() +\n  scale_fill_continuous_health_radar(name = \"Deaths\") +  # Correct fill scale for continuous data\n  labs(title = \"Reported malaria deaths in the Elimination 8 countries (2022)\",\n       caption = \"A choropleth map of the reported malaria deaths in the Elimination 8 countries in 2022. The map highlights the variation in reported malaria mortality across the E8 countries, with higher mortality rates in Angola, Mozambique, and Zambia. It is important to note that these are reported malaria deaths and may not capture the full extent of malaria mortality in these countries due to underreporting and misclassification of deaths. It would therefore also be useful to consider estimated malaria deaths as well. Source: WMR 2023 Annex 4J\",\n       x = \"Latitude\",\n       y = \"Longitude\") +\n  \n  geom_sf_text(aes(label = name, color = ifelse(`2022` &gt; mean(`2022`), \"black\", \"white\")), size = 3) +  # Conditional text color\n  scale_color_identity()  # Keep scale_color_identity() to use specified colors directly\n\nThe code above has a few key elements. Firstly, notice how the pre-processing steps have been added to give the reader a clearer idea of the necessary transformations required to prepare the dataset for visualisations. You should also add comments to this part to help guide the reader. Secondly is the actual plot, which is created using ggplot2. Notice how the theme and continuous fill colours have been applied. Also see that the caption is quite descriptive and that the source has been added at the end. This allows the visualisation to stand on its own if it is copied as-is and reduces the chances of misinterpretation and misuse. It is highly recommended that you follow this blueprint.\nLet’s also take a look at a plot that uses a discrete colour palette:\n\n# Create the plot for Deaths with low and high bands\nwhowmr::wmr2023$wmr2023f |&gt;\n  # Filter for the E8 countries\n  filter(`Country/area` |&gt; stringr::str_detect(\"Angola|Botswana|Eswatini|Malawi|Mozambique|Namibia|South Africa|Zambia|Zimbabwe\")) |&gt;\n  # Rename columns to something more readable\n  rename(Country=\"Country/area\", `Population at risk`=\"Population denominator for incidence and mortality rate\") |&gt;\n  # Hide the footnotes\n  mutate(Country=Country |&gt; stringr::str_remove(\"\\\\d.*$\")) |&gt; \n  # Remove the WHO Region column\n  select(!`WHO Region`) |&gt; \n  ggplot(aes(x = Year, y = Cases_Point, group = Country, color = Country)) +\n    geom_line(linewidth = 1) +\n    geom_ribbon(aes(ymin = Cases_Lower, ymax = Cases_Upper, fill = Country), alpha = 0.2) +  # Corrected to use 'fill' for the ribbon\n    scale_colour_manual_health_radar() +  # Apply manual color scale for 'color' aesthetic (lines)\n    scale_fill_manual_health_radar() +    # Apply manual color scale for 'fill' aesthetic (ribbon fill)\n    theme_health_radar() +\n    labs(\n      title = \"Estimated Malaria Cases (2000-2022)\",\n      subtitle = \"With confidence bands\",\n      x = \"Year\",\n      y = \"Number of Cases (thousands)\",\n      color = \"Country\",\n      fill = \"Country\",  # Added 'fill' label for the ribbon shading\n      caption = \"A plot of the estimated malaria cases in selected countries from 2000 to 2022. The lines represent the estimated number of cases, while the shaded areas represent the confidence bands around the estimates. Notice the variation in malaria cases across countries and over time, with some countries experiencing fluctuations in case numbers. It is important to consider the uncertainty around these estimates when interpreting the data. For example, looking at the plot for Mozambique, the total number of cases did not change much over the years, with the confidence bands staying relatively stable, whereas Angola saw fluctuations in the number of cases, with much wider confidence bands from 2015, indicating greater uncertainty in the estimates. Source: WMR 2023 Annex 4F\")\n\nThis plot is very similar in terms of general structure to the previous one, but uses the discrete scale_colour_manual_health_radar() and scale_fill_manual_health_radar() colour palettes for the countries to ensure consistency. There are 20 colours in this palette, which should be more than enough for most visualisations.\n\n\nModelling example Guidance\n\n\nCode Guidance\nGet started by forking/cloning the repository from https://github.com/uct-masha/HealthRADAR and opening it as a project in RStudio – we use renv to manage the package versions and have decided that (as at Aug 2024) R 4.4.0 is the version we should support for development. This is the version that the automated builder will use then automatically publishing the tool to https://jfunction.quarto.pub/healthradar/\nIf you intend running any code in the project and have not yet read the documentation for renv, you simply must go do so before proceeding. It won’t take you too long and working through it is going to save you a lot of time and frustration. The pages are located in their own directory under datasources/malaria/\nSometimes there’s a need to make a little dataset which will be used in examples on the page. In this case, some way of getting that dataset should be described. We thought it best to describe this in some document which is stored in the Health RADAR repository under, eg, scripts/access.R. This could be a script which downloads some large dataset and preprocesses it into something small enough to use in examples. This way, we don’t have to pollute the main page with details on exactly how the specific instance of data was accessed but we maintain traceability into such details should the user want to explore this further. This may make more sense in cases such as using STATcompiler to download DHS survey data since there’s a web page you need to work with to actually get a dataset which we still want to make visualisations about (and modelling examples). In this case one could store a short walk through on the steps required to reconstruct the sample dataset used in visualisations on the site.\nWhere it is sensible to do so, contributions should focus on the malaria in the E8 countries. Preferably they should focus on the four front-line countries (perhaps rotate through these countries in different examples to give an even spread)\nExamples should not copy/reproduce already existing derivatives of the data but rather demonstrate something interesting and new.\nWhen including R code in the project:\n\nUse theme_health_radar() where possible, it’s from theme_health_radar.R\n\nWhen adding visualisations or modelling examples:\n\nDescribe in the text what the visualisation is telling us or what the modelling snippet is telling us\nRelate the data being described generally on the page to the example\n\n\nR Code Style\nFor pipes we try use |&gt; not %&gt;% though sometimes this isn’t possible\nWe use gt() to make tables.\nWhen processing data:\n\nPipes should appear at the end of a line and be proceeded by a space Filter as early as possible\nInstead of something like mutate() |&gt; select(), use transmute()\nInstead of select(x) |&gt; as.list() or similar, consider pull(x) which also has a names argument\nUse pivot_longer() and pivot_wider() as needed. It is common to use the former before plotting.\nWhen coercing to a factor consider using as_factor() or factor(levels=…)\nUse indentation to keep track of the flow of your code. For example, if you’ve written ggplot() + on one line, the next line should be indented to show that we’re still in the “ggplot” context\nWe seldom need to use group_by() these days since summarise() and friends have a .by argument. It was verbose and fussy managing grouped datasets in tidy pipelines before – eg needing to call ungroup() or think about using the .drop argument in group_by()\nIf you aren’t sure about something, consult the following in order:\n\nExisting code snippets in Health RADAR\nThe tidy style guide\nAnother R programmer working on the project – e.g. RM/JN"
  },
  {
    "objectID": "datasources/malaria/who-wmr/who_wmr.html",
    "href": "datasources/malaria/who-wmr/who_wmr.html",
    "title": "World Malaria Report",
    "section": "",
    "text": "OverviewVisualisationsModelling\n\n\n\nAbout the data\n\nThe WHO World malaria report, released on an annual basis, provides a comprehensive and up-to-date assessment of trends in malaria control and elimination across the globe. The annexes to the report provide useful information on the data sources and methods used to compile the World Malaria Report, a set of regional malaria profiles and tables of historical time series of case data, commodity distribution, funding amounts and policy adoption.\nThese datasets provide information on long term trends in malaria control and enable comparison between countries. The data provided are on an annual time scale at the national level, and would not be suitable for subnational analysis or to explore seasonal trends in malaria.\n\nAccessing the data\n\nThe reports can be accessed on the WHO website. Each report has a web page that includes useful contextual information and additional resources. The “Annexes in Excel format” will download as a zip file that should be extracted. The annexes can be viewed in the original report in PDF format, though for modelling it is usually preferable to have an excel spreadsheet.\nThe most recent report may not contain all years of estimates. Should earlier years be required, one can access the annexes from earlier reports and merge these.\n\nWhat do the data look like?\n\nDescription\nThe list of annexes may vary annually. The information included typically looks like this. Data are available for each country and annually. Some datasheets contain a few years of data, while others report data for the most recent year. To make a longer time series of data, you can access older world malaria reports and annexes from the WHO. Be careful to check the data definitions and information on methodology to be sure that datasets can be concatenated.\nThe annexes can be found in the report itself as in the following examples:\n\n\nThe annexes can also be downloaded as Excel documents from the report page.\n\nExample of the annex layout. This example is from the 2023 World malaria report. Note that the annexes are paired with the report and should be interpreted as such.\n\n\n\n\n\n\nAnnex 1\nData sources and methods\n\n\nAnnex 2\nNumber of ITNs distributed through campaigns in malaria endemic countries\n\n\nAnnex 3\nWHO Regional profiles\n\n\nAnnex 4\nData tables and methods\n\n\n\nA. Policy adoption\n\n\n\nB. Antimalarial drug policy\n\n\n\nC. Funding for malaria control\n\n\n\nD. Commodities distribution and coverage\n\n\n\nE. Household survey results\n\n\n\nF. Population denominator for case incidence and mortality rate, and estimated malaria cases and deaths\n\n\n\nG. Population denominator for case incidence and mortality rate, and reported malaria cases by place of care\n\n\n\nH. Reported malaria cases by method of confirmation\n\n\n\nI. Reported malaria cases by species\n\n\n\nJ. Reported malaria deaths\n\n\n\nK. Methods for Tables A-D-G-H-I-J\n\n\n\n\nKey points to consider\n\nPitfalls of Annual Data:\nUsing annual data for your analysis can lead to several pitfalls:\n\nSeasonal variations: Annual data may not capture the seasonal patterns of malaria transmission, which can be influenced by factors such as rainfall, temperature, and vector abundance. This can lead to an over- or underestimation of the disease burden and the impact of interventions.\nTemporal aggregation: Aggregating data annually may mask important short-term dynamics, such as outbreaks or the immediate impact of interventions.\n\nReporting - Incidence vs. Prevalence Data:\nIt is important to distinguish between incidence and prevalence data when performing your analysis:\n\nIncidence data: Incidence refers to the number of new cases of malaria occurring in a population over a specified period. It provides information on the rate at which new infections occur and is more sensitive to changes in transmission dynamics.\nPrevalence data: Prevalence refers to the proportion of the population that has malaria at a given point in time. It provides a snapshot of the disease burden but does not capture the rate of new infections.\n\nDifference Between Policy and Implementation:\nThere can be discrepancies between the intended policy for ITN distribution and the actual implementation on the ground. Consider the following:\n\nCoverage: The planned ITN coverage may differ from the actual coverage achieved due to factors such as logistics, access to remote areas, and population acceptance.\nTiming: The timing of ITN distribution campaigns may vary from the planned schedule. This can affect the impact of ITNs on malaria transmission, particularly if the distribution does not align with peak transmission seasons.\nEffectiveness: The effectiveness of ITNs may differ from the ideal scenario due to factors such as improper usage, wear and tear, and insecticide resistance.\n\nNational Level - Ignoring Spatial Heterogeneity:\nModelling malaria transmission at a national level can overlook important spatial heterogeneities:\n\nRegional variations: Malaria transmission can vary significantly between different regions within a country due to differences in climate, vector ecology, and socioeconomic factors.\nLocal hotspots: Even within regions, there can be local hotspots of malaria transmission due to factors such as proximity to breeding sites, population density, and human behavior.\nPopulation movement: The movement of people between different areas can introduce or reintroduce malaria parasites, affecting transmission dynamics.\n\n\nExamples of data use in literature\n\nThe report was released on Jan 31, 2024 and, as such, few studies have used the data. However, here are a few that are either under review or have been published recently:\n\nAssessing the Therapeutic Efficacy of Artemether-Lumefantrine for Uncomplicated Malaria in Lagos, Nigeria: A Comprehensive Study on Treatment Response and Resistance Markers\nDesign, synthesis and Anti-Plasmodial activity of Mortiamide-Lugdunin conjugates\n\n\n\n\nHow to use this data?\n\nFor this example, the goal is to determine the reported malaria deaths for the elimination 8 (E8) countries, but your specific analysis may require different data.\nWe can either manually download, unzip and read in annex 4J or use the whowmr package to access the data.\n\n\n\n\n\n\nWarning\n\n\n\nThe annexes contain references to footnotes. The whowmr package leaves these in the data - the idea being that one should engage with the footnote and proceed with context. \n\n\nAfter inspecting the data to understand how it is structured and whether there are any footnotes relevant to our analysis, we can display our data in a table as follows:\n\n\nShow the code\n# View Annex 4J of the 2023 World Malaria Report. Note that we remove the footnotes here.\n# The gt package is used for better formatting, but this is optional.\nwhowmr::wmr2023$wmr2023j |&gt;\n  # Hide the footnotes\n  mutate(Country=`Country/area` |&gt; stringr::str_remove(\"\\\\d.*$\")) |&gt;\n  select(Country, `2010`:`2022`) |&gt;\n  head() |&gt;\n  gt() |&gt;\n  tab_options(table.align = \"left\")\n\n\n\n\n\n\n\n\nCountry\n2010\n2011\n2012\n2013\n2014\n2015\n2016\n2017\n2018\n2019\n2020\n2021\n2022\n\n\n\n\nAlgeria\n1\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0\n\n\nAngola\n8114\n6909\n5736\n7300\n5714\n7832\n15997\n13967\n11814\n18691\n11757\n13676\n12474\n\n\nBenin\n964\n1753\n2261\n2288\n1869\n1416\n1646\n2182\n2138\n2589\n2440\n2990\n2955\n\n\nBotswana\n8\n8\n3\n7\n22\n5\n3\n17\n9\n7\n11\n5\n6\n\n\nBurkina Faso\n9024\n7001\n7963\n6294\n5632\n5379\n3974\n4144\n4294\n1060\n3983\n4355\n4243\n\n\nBurundi\n2677\n2233\n2263\n3411\n2974\n3799\n5853\n4414\n2481\n3316\n2276\n2292\n2374\n\n\n\n\n\n\n\nThe E8 countries are Botswana, Eswatini, Namibia, South Africa, Angola, Mozambique, Zambia, and Zimbabwe. To filter the data for these countries, you can use the following code:\n\n\nShow the code\n# Define the E8 countries\ne8_countries &lt;- c(\"Botswana\", \"Eswatini\", \"Namibia\", \"South Africa\", \"Angola\", \"Mozambique\", \"Zambia\", \"Zimbabwe\")\n\n# Filter the data for the E8 countries\nwmr2023j_e8 &lt;- whowmr::wmr2023$wmr2023j |&gt;\n  filter(`Country/area` %in% e8_countries) |&gt;\n  rename(Country=\"Country/area\") |&gt;\n  select(!`WHO Region`) # Remove the WHO Region column\n\n# View the filtered dataset\ngt(wmr2023j_e8)|&gt;\n  tab_options(table.align = \"left\")\n\n\n\n\n\n\n\n\nCountry\n2010\n2011\n2012\n2013\n2014\n2015\n2016\n2017\n2018\n2019\n2020\n2021\n2022\n\n\n\n\nAngola\n8114\n6909\n5736\n7300\n5714\n7832\n15997\n13967\n11814\n18691\n11757\n13676\n12474\n\n\nBotswana\n8\n8\n3\n7\n22\n5\n3\n17\n9\n7\n11\n5\n6\n\n\nEswatini\n8\n1\n3\n4\n4\n5\n3\n20\n2\n3\n2\n7\n4\n\n\nMozambique\n3354\n3086\n2818\n2941\n3245\n2467\n1685\n1114\n968\n734\n563\n408\n423\n\n\nNamibia\n63\n36\n4\n21\n61\n32\n65\n57\n58\n6\n35\n14\n28\n\n\nSouth Africa\n83\n54\n72\n105\n174\n110\n34\n301\n69\n79\n38\n56\n29\n\n\nZambia\n4834\n4540\n3705\n3548\n3257\n2389\n1827\n1425\n1209\n1339\n1972\n1503\n1361\n\n\nZimbabwe\n255\n451\n351\n352\n406\n200\n351\n527\n192\n266\n400\n131\n177\n\n\n\n\n\n\n\n\nHow to plot this data?\n\n\n\nShow the code\nlibrary(stringr)\n\n# Create the lollipop plot\nggplot(wmr2023Ea_Africa, aes(x = fct_reorder(Country, ITNCovPercent, .na_rm = FALSE),\n                             y = ITNCovPercent,\n                             color = Source)) +\n  geom_segment(aes(x = Country, xend = Country, y = 0, yend = ITNCovPercent), color = \"grey\") +  # Keep constant grey color for segments\n  geom_point(size = 4) +\n  coord_flip() +  # Adjust the aspect ratio to make the plot taller\n  scale_colour_manual_health_radar() +  # Correct color scale for the discrete 'Source' variable\n  theme_health_radar() +\n  labs(title = \"Percentage of Households with at least one ITN\",\n       subtitle = \"Data for selected African countries\",\n       caption = str_wrap(\"The percentage of households with at least one insecticide-treated net (ITN) in selected African countries, highlighting variations in ITN coverage. Benin,and Mozambique exhibit the highest coverage, while Kenya and Nigeria have the lowest. Most countries have coverage between 50% and 60%, which supports malaria control efforts if ITNs are properly used and resistance to insecticides remains low. Source: WMR 2023 Annex 4Ea.\", width = 75),\n       x = \"Country\",\n       y = \"Percentage\") \n\n\n\n\n\n\n\n\n\n\n\nShow the code\nlibrary(ggrepel)\nlibrary(sf)\nlibrary(rnaturalearth)\nlibrary(rnaturalearthdata)\nlibrary(whowmr)\n\n# Define the elimination 8 countries\ne8_countries &lt;- c(\"Botswana\", \"Eswatini\", \"Namibia\", \"South Africa\", \"Angola\", \"Mozambique\", \"Zambia\", \"Zimbabwe\")\n\n# Load the map data for Africa\ne8_africa &lt;- ne_countries(continent = \"Africa\", returnclass = \"sf\") |&gt;\n  mutate(name = if_else(name==\"eSwatini\", \"Eswatini\", name)) |&gt;\n  filter(name %in% e8_countries)\n\n# Merge the map data with your data\ne8_data &lt;- e8_africa |&gt;\n  left_join(wmr2023$wmr2023j |&gt; mutate(), by = c(\"name\" = \"Country/area\"))\n\n# Create the choropleth map\nggplot(data = e8_data) +\n  geom_sf(aes(fill = `2022`), color = \"lightgrey\", size = 0.3) +  # Use fill for the continuous 2022 data\n  theme_health_radar() +\n  scale_fill_continuous_health_radar(name = \"Deaths\") +  # Correct fill scale for continuous data\n  labs(title = \"Reported malaria deaths in the Elimination 8 countries (2022)\",\n       caption = str_wrap(\"The choropleth map highlights reported malaria deaths in the Elimination 8 countries in 2022, with Angola, Mozambique, and Zambia showing higher mortality rates. These reported figures may not reflect the full scale of malaria deaths due to potential underreporting and misclassification. Considering estimated deaths alongside reported figures would provide a more comprehensive picture. Source: WMR 2023 Annex 4J.\", width = 80)\n,\n       x = \"Latitude\",\n       y = \"Longitude\") +\n  \n  geom_sf_text(aes(label = name, color = ifelse(`2022` &gt; mean(`2022`), \"black\", \"white\")), size = 3) +  # Conditional text color\n  scale_color_identity() +  \n  theme(\n    plot.caption.position = \"plot\",  # Keep the caption outside the plot area\n  )\n\n\n\n\n\n\n\n\n\n\n\nShow the code\nwhowmr::wmr2023$wmr2023f |&gt;\n  # Filter for the frontline E8 countries\n  filter(`Country/area` |&gt; stringr::str_detect(\"Botswana|Eswatini|Namibia|South Africa\"),\n         # We couldn't get opt_interactive to work with grouped rows so we'll just display fewer columns\n         Year&gt;=2020) |&gt;\n  # Rename columns to something more readable\n  rename(Country=\"Country/area\", `Population at risk`=\"Population denominator for incidence and mortality rate\") |&gt;\n  # Hide the footnotes\n  mutate(Country=Country |&gt; stringr::str_remove(\"\\\\d.*$\")) |&gt; \n  # Remove the WHO Region column\n  select(!`WHO Region`) |&gt;\n  gt(\n    groupname_col = \"Country\",\n    row_group_as_column = TRUE\n  ) |&gt;\n  tab_header(title=\"Population at risk and estimated malaria cases and deaths in the E8 frontline countries\",\n             subtitle=\"Data from WMR 2023 Annex 4F\") |&gt;\n  # Control how NA values are displayed\n  sub_missing(columns = everything(), missing_text = \"-\") |&gt;\n  # Group the Cases and Deaths columns and rename, eg, Cases_Lower to just Lower\n  cols_label_with(columns = starts_with(\"Cases\")|starts_with(\"Deaths\"), fn=~stringr::str_remove_all(., \".+_\")) |&gt;\n  tab_spanner(label=\"Cases\", columns=starts_with(\"Cases\")) |&gt; \n  tab_spanner(label=\"Deaths\", columns=starts_with(\"Deaths\")) |&gt;\n  # Format the numbers to be more readable\n  fmt_number(columns=c(`Population at risk`,starts_with(\"Cases\")|starts_with(\"Deaths\")), suffixing = T) |&gt;\n  # Country column should be bold:\n  tab_style(\n    style = cell_text(weight = \"bold\"),\n    locations = cells_row_groups()\n  ) |&gt;\n  tab_style(\n    style = cell_borders(\n      sides = c(\"left\"),\n      weight = px(1)),\n    locations = cells_body(\n      columns = c(Year, `Population at risk`, Cases_Lower, Deaths_Lower)\n    )\n  ) |&gt;\n  tab_style(\n    style = cell_borders(\n      sides = c(\"right\"),\n      weight = px(1)),\n    locations = cells_body(\n      columns = c(Deaths_Upper)\n    )\n  )|&gt;\n  tab_options(table.align = \"left\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPopulation at risk and estimated malaria cases and deaths in the E8 frontline countries\n\n\nData from WMR 2023 Annex 4F\n\n\n\nYear\nPopulation at risk\n\nCases\n\n\nDeaths\n\n\n\nLower\nPoint\nUpper\nLower\nPoint\nUpper\n\n\n\n\nBotswana\n2020\n1.69M\n1.20K\n1.76K\n2.70K\n-\n11.00\n-\n\n\n2021\n1.72M\n820.00\n1.06K\n1.50K\n-\n5.00\n-\n\n\n2022\n1.74M\n420.00\n542.00\n740.00\n-\n6.00\n-\n\n\nEswatini\n2020\n330.58K\n-\n233.00\n-\n-\n2.00\n-\n\n\n2021\n333.83K\n-\n505.00\n-\n-\n5.00\n-\n\n\n2022\n336.47K\n-\n214.00\n-\n-\n4.00\n-\n\n\nNamibia\n2020\n1.98M\n16.00K\n20.19K\n25.00K\n-\n35.00\n-\n\n\n2021\n2.01M\n17.00K\n21.32K\n26.00K\n-\n14.00\n-\n\n\n2022\n2.04M\n13.00K\n16.89K\n21.00K\n-\n28.00\n-\n\n\nSouth Africa\n2020\n5.88M\n-\n4.46K\n-\n-\n38.00\n-\n\n\n2021\n5.94M\n-\n2.97K\n-\n-\n56.00\n-\n\n\n2022\n5.99M\n-\n2.04K\n-\n-\n29.00\n-\n\n\n\n\n\n\n\n\n\nShow the code\n# Create the plot for Deaths with low and high bands\nwhowmr::wmr2023$wmr2023f |&gt;\n  # Filter for the E8 countries\n  filter(`Country/area` |&gt; stringr::str_detect(\"Angola|Botswana|Eswatini|Malawi|Mozambique|Namibia|South Africa|Zambia|Zimbabwe\")) |&gt;\n  # Rename columns to something more readable\n  rename(Country=\"Country/area\", `Population at risk`=\"Population denominator for incidence and mortality rate\") |&gt;\n  # Hide the footnotes\n  mutate(Country=Country |&gt; stringr::str_remove(\"\\\\d.*$\")) |&gt; \n  # Remove the WHO Region column\n  select(!`WHO Region`) |&gt; \n  ggplot(aes(x = Year, y = Cases_Point, group = Country, color = Country)) +\n    geom_line(linewidth = 1) +\n    geom_ribbon(aes(ymin = Cases_Lower, ymax = Cases_Upper, fill = Country), alpha = 0.2) +  # Corrected to use 'fill' for the ribbon\n    scale_colour_manual_health_radar() +  # Apply manual color scale for 'color' aesthetic (lines)\n    scale_fill_manual_health_radar() +    # Apply manual color scale for 'fill' aesthetic (ribbon fill)\n    theme_health_radar() +\n    labs(\n      title = \"Estimated Malaria Cases (2000-2022)\",\n      subtitle = \"With confidence bands\",\n      x = \"Year\",\n      y = \"Number of Cases (thousands)\",\n      color = \"Country\",\n      fill = \"Country\",  # Added 'fill' label for the ribbon shading\n      caption = str_wrap(\"The plot displays estimated malaria cases in selected countries from 2000 to 2022, with lines representing case estimates and shaded areas showing the confidence bands. Variations in case numbers and uncertainty across countries are evident, such as stable case numbers in Mozambique, while Angola saw fluctuating cases with increasing uncertainty after 2015. Source: WMR 2023 Annex 4F.\", width = 85)\n\n    )\n\n\n\n\n\n\n\n\n\n\n\nShow the code\n# Read in the costing data\ncosting_df &lt;- read_csv(\"tutorial_data/costing_df.csv\")\n\n# Reshape data for plotting\nplot_df &lt;- costing_df |&gt;\n  pivot_longer(cols = starts_with(\"Country_\"), names_to = \"Donor\", values_to = \"Amount\") |&gt;\n  mutate(Donor = gsub(\"Country_\", \"\", Donor)) # Remove \"Country_\" from the Donor names\n\n# Set the order of the donors so that \"Govt_NMP\" is last\nplot_df$Donor &lt;- factor(plot_df$Donor, levels = c(\n  \"GlobalFund\", \"WorldBank\", \"PMI_USAID\", \"OtherBilaterals\", \n  \"WHO\", \"UNICEF\",\"Govt_NMP\", \"OtherContributions\"\n))\n\n# Create the plot\nggplot(plot_df, aes(x = Year, y = Amount / 1000, fill = Donor)) +\n  geom_bar(stat = \"identity\", position = \"stack\") +\n  facet_wrap(~ Country, scales = \"free_y\") +\n  scale_fill_manual_health_radar() +  # Apply the custom fill scale for 'Donor'\n  labs(\n    title = \"Stacked Bar Plot of Country Contributions (2020-2022)\",\n    subtitle = \"For Selected Countries\",\n    x = \"Year\",\n    y = \"Contributions (in thousands)\",\n    fill = \"Donor\",\n    caption = str_wrap(\"The stacked bar plot shows donor contributions to malaria control efforts in selected countries from 2020 to 2022. Contributions vary by country and donor, with Mozambique receiving significant support from the Global Fund and PMI/USAID, while in South Africa, the Global Fund and local government are key contributors. Understanding the distribution of funding is essential for evaluating the sustainability and impact of malaria control programs. Source: WMR 2023 4C.\", width = 100)\n  ) +\n  theme_health_radar()  # Apply the custom radar theme\n\n\n\n\n\n\n\n\n\n\n\n\nHow can this data be used in disease modelling?\n\n\nPreparing the data\nWe obtain estimated case data (Annex 4-F) from Angola for the years 2000 to 2022. For high transmission countries in the WHO African Region, estimates are derived from a spatiotemporal Bayesian geostatistical model, using parasite prevalence data from household surveys. This methodology is further described in Annex 1 of the World Malaria Report.\nWe can use this data to calibrate our disease models, by fitting model outputs to estimated malaria cases from the World Malaria Report. Throughout the calibration process we adjust the initial parameters we input into the model, making the model more accurate and representative of actual disease dynamics in a specific context. These parameters represent specific dynamics occurring the in the modelled context, for instance ITN usage (\\(itn_{use}\\)) may be really high in Angola, or the dominant Anopheles vector in this region may have a higher human biting rate (\\(a\\)) than other Anopheles species. Country-specific parameter values should be obtained from existing datasets such as DHS surveys, literature review, expert knowledge, and published reports from national control programs and other stakeholders. This data carries a level of uncertainty that may prevent the model from making accurate projections, but this can be accounted for in uncertainty and sensitivity analyses to increase the model results’ credibility and robustness.\nFor this example, we fit a simple malaria model to incidence rates calculated from estimated case data from Angola. While it is simpler to fit to case numbers, fitting to incidence rates allows us to capture the disease burden relative to a changing population size, and is better for comparing burden across different populations. Here, we calculate incidence rate per 1000 of the population at risk with the following formula: \\[ \\textrm{Incidence rate} = \\frac{\\textrm {Estimated Cases}}{\\textrm {Population at risk}} \\times 1000 \\]\n\n\nShow the code\nestimated_data &lt;- whowmr::wmr2023$wmr2023f |&gt;\n  # Filter for Angola\n  filter(`Country/area` == \"Angola\") |&gt;\n  rename(Population_at_risk =\"Population denominator for incidence and mortality rate\") |&gt;\n  select(Year, Cases_Lower, Cases_Point, Cases_Upper, Population_at_risk) |&gt; \n  # Calculate the incidence rate\n  mutate(inci_rate = Cases_Point/Population_at_risk*1000,\n         inci_rate_lower = Cases_Lower/Population_at_risk*1000,\n         inci_rate_upper = Cases_Upper/Population_at_risk*1000) \n\nestimated_data |&gt; \n  ggplot() +\n  #geom_pointrange(aes(x = Year, y = Cases_Point, ymin = Cases_Lower, ymax = Cases_Upper), colour = theme_health_radar_colours[15]) + # to see case numbers\n  geom_pointrange(aes(x = Year, y = inci_rate, ymin = inci_rate_lower, ymax = inci_rate_upper), colour = theme_health_radar_colours[9]) +\n  labs(title = \"Malaria incidence rate in Angola from 2000 to 2022\",\n       subtitle = \"Estimated case data as at 23 October 2023\",\n       y = \"Estimated Cases per 1000\",\n       caption = stringr::str_wrap(\"We see that the incidence rate for malaria in Angola has generally decreased over time, but rose again after 2014. We also note wide lower and upper ranges of the data, indicating a high level of uncertainty in the exact estimate of the incidence rate. Source: World Malaria Report 2023, Annex 4-F.\")) +\n  theme_health_radar()\n\n\n\n\n\n\n\n\n\n\n\nModel assumptions\nWe assume that the vector population is at equilibrium, and that ITNs are a widely-used control intervention in Angola. For more details on how to incorporate ITNs and calculating effective coverage, see the DHS page. In a more complex model, we would also account for other Angola-specific interventions, such as larviciding, as well as the treatment cascade illustrated below.\n\n\n\nSource: WHO (2014). From malaria control to malaria elimination: a manual for elimination scenario planning.\n\n\n\n\nSimulated calibration\nFollowing calibration and fine-tuning of the parameters, we anticipate model outputs that mimic the pattern and overall trajectory of the estimated data. We simulate an example below:\n\n\nShow the code\n# Simulated model output with 95% Confidence intervals of incidence rates\nmodelled_incidence_rate &lt;- data.frame(\n  Year = 2000:2022,\n  incidence_rate = estimated_data$inci_rate + rnorm(length(estimated_data$inci_rate), mean = 30, sd = 25)) |&gt;  \n  mutate(\n    std_error = 0.04, # for example\n    lower_bound = incidence_rate - (1.96 * std_error * 1000),\n    upper_bound = incidence_rate + (1.96 * std_error * 1000),\n    Type = \"Model output\")\n  \n  ggplot() +\n      geom_ribbon(data = modelled_incidence_rate, aes(x = Year, y = incidence_rate, ymin = lower_bound, ymax = upper_bound), fill = theme_health_radar_colours[20]) +\n     geom_line(data = modelled_incidence_rate, aes(x = Year, y = incidence_rate, colour = Type)) +\n  geom_pointrange(data = estimated_data |&gt; mutate(Type = \"WHO estimates\"), aes(x = Year, y = inci_rate, ymin = inci_rate_lower, ymax = inci_rate_upper, colour = Type)) +\n  labs(title = \"Malaria incidence rate in Angola from 2000 to 2022\",\n       subtitle = stringr::str_wrap(\"Estimated cases plotted alongside calibrated model output with 95% Confidence Intervals\"),\n       y = \"Estimated Cases per 1000\",\n       colour = \"Variable Type\", \n       caption = stringr::str_wrap(\"The calibrated model output projects incidence close to the WHO estimates. The yellow ribbon represents the model's uncertainty, and its overlap with the confidence intervals of the data indicates a good fit. Source: Model output & World Malaria Report 2023, Annex 4-F.\")) +\n  theme_health_radar()\n\n\n\n\n\n\n\n\n\nThe next steps are to validate the model, ensuring that it continues to replicate data outside of the calibration period. A sensitivity analysis would help identify which parameters have the most influence on model outputs, and quantify the level of uncertainty in the parameters, further strengthening the reliability of the model for projections going forward.\n\n\nPolicy implications\nCalibrated models that produce outputs aligned with real-world incidence or prevalence data are relevant and credible. This increases confidence and utility for decision makers in planning for malaria programming. In addition, models that are tailored to a specific context can better answer questions regarding the impact of certain interventions, or the implementation of other policies in the specified area.\n\n\n\n\n\n\n\n Back to top"
  },
  {
    "objectID": "datasources/malaria/un-population/un_population.html",
    "href": "datasources/malaria/un-population/un_population.html",
    "title": "UN Population Division Data Portal",
    "section": "",
    "text": "OverviewVisualisationsModelling\n\n\n\nAbout the data\n\nThe United Nations Population Division produces and regularly updates estimates of various demographic indicators for 237 countries or areas, covering both historical data and future projections. These estimates and projections are based on available censuses and nationally representative sample surveys.\nIndicators such as population size and density, total births and deaths, infant mortality rate, median age and population sex ratio are available. Data for countries and their territories are recorded separately as well as together. Grouped data for continents or groups of countries, states or territories such as “Small Island Developing States (SIDS)” or “Land-locked Countries” is also available.\nThe data offers comprehensive insights into global demographic trends, supporting policy-making, research, and development initiatives. It’s a key resource for understanding historical population changes and projecting future dynamics. For more information regarding the data, visit the United Nations Population Division website.\n\nAccessing the data\n\nYou can access the data by following the instructions below:\n\nNavigate to the UN population division home page\nSelect Data, then select World Population Prospects.\nThis will take you to a new page. If you only require a subset of the available data, do the following:\n\nNavigate to Data then Data Portal.\nChoose the desired indicators, locations and years from the dropdown menus, and then press “Search”. The resulting page will allow you to view plots of the data.\nNavigating to Table then Export then CSV will download the selected data as a CSV file. Be aware that searching a large dataset can take a long time. Using the “Download Center” (Step 4) may be more efficient in this case.\n\nTo download the full dataset which we use in this tutorial, select Data then Download Center from the World Population Prospects page. The webpage to which you have now navigated provides options for download.\n\nUnder the title “Major topic/ Special groupings”, select the “CSV format” option. Information about the data will be displayed. Scrolling down reveals a table containing links to download various CSV files. For the purposes of this tutorial, the file containing data from the subgroup “Demographic Indicators”, labelled “1950-2100, medium (GZ, 15.79 MB)”, will be used.\n\n\n\nWhat does the data look like?\n\nThis dataset contains estimates or projections for a range of demographic indicators over a broad time period. It is not separated by age and is presented in wide format, with each row providing values for all indicators for a given country or area in a given year.\n\n\n\nLayout of the CSV file opened in Microsoft Excel, displaying nine of 67 columns, and 11 of 84 360 rows.\n\n\nThe indicator labels are not all self explanatory. Below is a table which provides slightly more detail for each indicator:\n\n\n\n\n\n\nIndicator description\n\n\n\n\n\nThe label used for each indicator in the dataset of interest, along with a description of this indicator.\n\n\n\n\n\n\n\n\n\n\n\n\n\nKey points to consider\n\nEstimations and Projections:\nThis dataset uses data from censuses and other surveys to generate estimations of demographic indicators for past and present years, and projections of these same indicators for future years. Estimates and projections become more uncertain further into the future.\nNational Level - Ignoring Spatial Heterogeneity:\nModelling malaria transmission based on population sizes at a national level can overlook important spatial heterogeneities:\n\nRegional variations: Malaria transmission can vary significantly between different regions within a country due to differences in population densities and other demographic factors.\nLocal hotspots: Even within regions, there can be local hotspots of malaria transmission due to factors such as population density and human behavior.\nPopulation movement: The movement of people between different areas can introduce or reintroduce malaria parasites, affecting transmission dynamics. By only looking at movement of people between countries, we will miss these subnational movements.\n\nWhile some of the locations for which data are provided are territories, regions or states, there are no countries for which the data can be separated by subregion such as province.\n\nCiting the data\n\nUnited Nations, Department of Economic and Social Affairs, Population Division (2024). World Population Prospects 2024, Online Edition.\n\n\n\nHow to use this dataset\n\nLong format tables are often easier to work with. Below is a code chunk which converts the dataset as downloaded from the UN Population Division webpage to a longer format, and prints out the Location, Time, Indicator and Value columns.\n\n\nShow the code\n# Read in data\n\nun_pop &lt;- read_csv2(\"data/WPP2024_Demographic_Indicators_Medium3.csv\",\n                   col_types = \"iiccciicicicinnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnn\")\n\nun_pop_long &lt;- un_pop |&gt; \n  pivot_longer(cols = 14:ncol(un_pop), names_to = \"Indicator\", values_to = \"Value\") |&gt;\n  mutate(Value = Value/1000) # Convert to thousands\n\nun_pop_long |&gt; \n  select(Location, Time, Indicator, Value) |&gt; \n  head(n = 10) |&gt; \n  gt() |&gt; \n  tab_options(table.align = \"left\")\n\n\n\n\n\n\n\n\nLocation\nTime\nIndicator\nValue\n\n\n\n\nMozambique\n1950\nTPopulation1Jan\n5878.439\n\n\nMozambique\n1950\nTPopulation1July\n5910.225\n\n\nMozambique\n1950\nTPopulationMale1July\n2891.818\n\n\nMozambique\n1950\nTPopulationFemale1July\n3018.407\n\n\nMozambique\n1950\nPopDensity\n75.157\n\n\nMozambique\n1950\nPopSexRatio\n958.061\n\n\nMozambique\n1950\nMedianAgePop\n19.173\n\n\nMozambique\n1950\nNatChange\n119.545\n\n\nMozambique\n1950\nNatChangeRT\n20.227\n\n\nMozambique\n1950\nPopChange\n63.572\n\n\n\n\n\n\n\n\nHow to plot this dataset\n\n\n\nShow the code\n# Define the elimination 8 countries\ne8_countries &lt;- c(\"Botswana\", \"Eswatini\", \"Namibia\", \"South Africa\", \"Angola\", \"Mozambique\", \"Zambia\", \"Zimbabwe\")\n\n# Load the map data for Africa\ne8_africa &lt;- ne_countries(continent = \"Africa\", returnclass = \"sf\") |&gt;\n  mutate(name = if_else(name==\"eSwatini\", \"Eswatini\", name)) |&gt; # Correct the name for Eswatini\n  filter(name %in% e8_countries) # Filter to include only the elimination 8 countries\n\n# Filter long table so that only the 1 Jan population estimates for 2024 are shown\ndat_long_pop2024 &lt;- filter(un_pop_long, Time == 2024 & Indicator == \"TPopulation1Jan\")\n\n# Merge the map data with your data\ne8_data &lt;- e8_africa |&gt;\n  left_join(dat_long_pop2024 |&gt; mutate(), by = c(\"name\" = \"Location\"))  \n\n\nA map which fills each country according to their estimated population sizes is displayed below. This is an effective way of visualising the population sizes of various countries at a given point in time.\n\n\nShow the code\n# Create the choropleth map\nggplot(data = e8_data) +\n  # Plot the map with population data\n  geom_sf(aes(fill = Value), color = \"lightgrey\", size = 0.3) +  \n  theme_health_radar() +  # Apply custom theme\n  # Name fill scale for continuous data\n  scale_fill_continuous_health_radar(name = \"Pop Size (in thousands)\") + \n  # Add caption and title to the plot\n  labs(title = \"Estimated population sizes of the E8 countries (2024)\",\n       caption = str_wrap(\"The population size estimates in thousands in the Elimination 8 (E8) countries in 2024, with South Africa having the largest population of over 60 million people, and Namibia and Botswana having the smallest populations. The data are estimates made based on census and sample data. Source: UN Population Division.\", width = 70)) + \n  # Conditional text color to ensure readability\n  geom_sf_text(aes(label = name, color = ifelse(Value &gt; quantile(Value, 0.75), \"black\", \"white\")), size = 3) +  \n  # Apply color scale\n  scale_color_identity() +  \n  # Remove x- and y-axis and grid lines\n  theme(\n    plot.caption.position = \"plot\",\n    plot.title.position = \"plot\",\n    axis.title.x=element_blank(),\n    axis.text.x=element_blank(),\n    axis.ticks.x=element_blank(),\n    axis.title.y=element_blank(),\n    axis.text.y=element_blank(),\n    axis.ticks.y=element_blank(),\n    panel.grid.major = element_blank(), \n    panel.grid.minor = element_blank()  \n  )\n\n\n\n\n\n\n\n\n\nThis UN dataset provides estimations and projections for population sizes over time. An easy way to visualise these data is using a line plot, with different lines representing the populations of different countries.\n\n\nShow the code\n# Create a line plot for population size in the E8 countries over time\nun_pop_long |&gt;\n  # Filter for the E8 countries\n  filter(Location |&gt; \n           stringr::str_detect(\"Angola|Botswana|Eswatini|Mozambique|Namibia|South Africa|Zambia|Zimbabwe\") & \n           Indicator == \"TPopulation1Jan\") |&gt;\n  ggplot(aes(x = Time, y = Value, group = Location, color = Location)) +\n  # Plot the population data as lines\n  geom_line(lwd = 1) +  \n  # Add a dashed vertical line at the year 2024\n  geom_vline(xintercept = 2024, linetype = \"dashed\") +  \n  # Apply manual color scale for \"color\" aesthetic (lines)\n  scale_colour_manual_health_radar() +  \n  # Apply custom theme\n  theme_health_radar() +  \n  # Add labels and title to the plot\n  labs(\n    title = \"Estimated and projected population sizes (1950-2100)\",\n    x = \"Year\",\n    y = \"Population Size (in thousands)\",\n    color = \"E8 Country\",\n    caption = str_wrap(\"The estimated population sizes in thousands in the Elimination 8 (E8) countries from 1950 to 2024, and projected population sizes between 2025 and 2100. The dashed black line indicates the year in which these estimations and projections were produced: 2024. These data are recorded annually, and may therefore miss seasonal variations in population size. Population growth is evident across all eight countries since 1950, with many of the populations projected to plateau by 2100. Source: UN Population Division.\", width = 85))\n\n\n\n\n\n\n\n\n\nStacked and faceted bar plots can be used to visualise the contributions of males and females to the total populations of various countries at a few distinct time points, as seen below.\n\n\nShow the code\n# Filter the data for the E8 countries, the indicators \"TPopulationFemale1July\" and \"TPopulationMale1July\", and for the years 2000, 2010, and 2020\ndat_pop_mvf &lt;- un_pop_long |&gt; \n  filter(Location |&gt; \n           stringr::str_detect(\"Angola|Botswana|Eswatini|Mozambique|Namibia|South Africa|Zambia|Zimbabwe\") & \n           Indicator %in% c(\"TPopulationFemale1July\", \"TPopulationMale1July\") & \n           Time %in% seq(2000, 2020, 10))\n# Rename the indicators to more readable labels\ndat_pop_mvf[dat_pop_mvf == \"TPopulationFemale1July\"] &lt;- \"Female\"\ndat_pop_mvf[dat_pop_mvf == \"TPopulationMale1July\"] &lt;- \"Male\"\n# Create ggplot object\nggplot(dat_pop_mvf, aes(x = Time, y = Value, fill = Indicator)) +\n  # Create stacked bars\n  geom_bar(stat = \"identity\", position = \"stack\") +  \n  # Create separate plots for each country\n  facet_wrap(~ Location, scales = \"free_y\") +  \n  # Apply the custom fill scale for sex\n  scale_fill_manual_health_radar() +\n  # Apply the custom radar theme\n  theme_health_radar() +  \n  labs(\n    title = \"Estimated or projected population sizes in 2000, 2010 and 2020\",\n    x = \"Year\",\n    y = \"Population Size (in thousands)\",\n    fill = \"Sex\",\n    caption = str_wrap(\"The estimated or projected numbers of males and females making up the populations of each of the Elimination 8 (E8) countries in 2000, 2010 and 2020. Note the difference in y-axis range for each stacked barplot, indicating different population sizes. No country appears to have a ratio of males to females which differs greatly from 1:1.  Source: UN Population Division.\", width = 85)) \n\n\n\n\n\n\n\n\n\n\n\n\nHow can this data be used in disease modelling?\n\nModels aim to provide abstract simulations of real-life dynamics. As such, it is important to include realistic parameters pertaining to birth and death, and the overall growth of the population. Using data from the UN Population Division Data Portal, we use the crude birth and death rates to inform population growth in the example below. While age-specific death rates may be more valuable, we use these as a proxy for average death rates across the population.\n\nPreparing the data\nWe plot the values for crude birth and death rates in Mozambique obtained from the portal below.\n\n\nShow the code\ncrude_births &lt;- read_csv(\"data/unpopulation_dataportal_births.csv\") |&gt;  \n  distinct(Time, .keep_all = TRUE) # remove duplicates\ncrude_deaths &lt;-  read_csv(\"data/unpopulation_dataportal_deaths.csv\")\n  \nrates &lt;- bind_rows(crude_births, crude_deaths)\n\nrates |&gt;  \n  ggplot(aes(x = Time)) +\n  geom_line(aes(y = Value, colour = IndicatorName)) +\n  theme_health_radar() +\n  scale_colour_manual_health_radar() +\n  labs(x = \"Year\",\n       y = \"per 1000 population\",\n       title = \"Crude birth and death rates in Mozambique\",\n       colour = \"Indicator\",\n       caption = \"Birth rates are significantly higher than death reates, as is common in many growing African countries. Source: UN Population Division.\")\n\n\n\n\n\n\n\n\n\n\n\nChanges in human population\nConsidering malaria immunity increases with age, the introduction of new susceptibles (through the birth rate) can help sustain transmission, and skew the disease burden to younger individuals, i.e. children. In order to factor this in, we show a simple model with no interventions. We assume the vector population remains constant. The Climate Research Unit Timeseries page provides a demonstration of changes to the vector population in the context of disease modeling.\n\n\nShow the code\nlibrary(deSolve)\n\n# Time points for the simulation\nY = 35 # Years of simulation\ntimes &lt;- seq(0, 365*Y, 1) # time in days\n\n\n# Define basic dynamic Human-static Vector model ####\nseirs &lt;- function(times, start, parameters, crude_births, crude_deaths)  {\n  with(as.list(c(parameters, start)), {\n    P = S + E + A + C + R + G\n    M = Sm + Em + Im\n    m = M / P\n    \n    pop_time &lt;- seq(1990, 2025, by = 1/365) \n    birth_rates &lt;- approx(crude_births$Time, crude_births$Value, pop_time, method = \"constant\", rule = 2)$y\n    death_rates &lt;- approx(crude_deaths$Time, crude_deaths$Value, pop_time, method = \"constant\", rule = 2)$y\n    \n    # Seasonality\n    seas.t &lt;- amp*(1+cos(2*pi*(times/365 - phi)))\n    \n    # Force of infection\n    Infectious &lt;- C + zeta_a*A # infectious reservoir\n    lambda = ((a^2*b*c*m*Infectious/P)/(a*c*Infectious/P+mu_m)*(gamma_m/(gamma_m+mu_m)))*seas.t\n    \n    time_index &lt;- floor(times + 1)\n    mu_b &lt;- birth_rates[time_index]/1000/365 # crude birth rate in humans\n    mu_h &lt;- death_rates[time_index]/1000/365 # crude death rate in humans\n    \n    # Differential equations/rate of change\n    dSm = 0\n    dEm = 0\n    dIm = 0\n    \n    dS = mu_b*P - lambda*S + rho*R - mu_h*S\n    dE = lambda*S - (gamma_h + mu_h)*E\n    dA = pa*gamma_h*E + pa*gamma_h*G - (delta + mu_h)*A\n    dC = (1-pa)*gamma_h*E + (1-pa)*gamma_h*G - (r + mu_h)*C\n    dR = delta*A + r*C - (lambda + rho + mu_h)*R\n    dG = lambda*R - (gamma_h + mu_h)*G\n     \n    dCInc = lambda*(S+R)\n    \n    output &lt;- c(dSm, dEm, dIm, dS, dE, dA, dC, dR, dG, dCInc)\n    list(output)\n  })\n}\n\n# Input definitions ####\n\n#Initial values\nstart &lt;- c(Sm = 30000000, # susceptible mosquitoes\n           Em = 20000000, # exposed and infected mosquitoes\n           Im = 800000, # infectious mosquitoes\n           S = 6000000, # susceptible humans\n           E = 3000000, # exposed and infected humans\n           A = 1000000, # asymptomatic and infectious humans\n           C = 1000000, # clinical and symptomatic humans\n           R = 2000000, # recovered and semi-immune humans\n           G = 1000000, # secondary-exposed and infected humans\n           CInc = 0 # cumulative incidence           \n           ) \n\n\n# Parameters\nparameters &lt;- c(a = 0.28, # human feeding rate per mosquito\n           b = 0.3, # transmission efficiency M-&gt;H\n           c = 0.3, # transmission efficiency H-&gt;M\n           gamma_m = 1/10, # rate of onset of infectiousness in mosquitoes\n           mu_m = 1/12, # natural birth/death rate in mosquitoes\n           gamma_h = 1/10, # rate of onset of infectiousness in humans\n           r = 1/7, # rate of loss of infectiousness after treatment\n           rho = 1/365, # rate of loss of immunity after recovery\n           delta = 1/150, # natural recovery rate\n           zeta_a = 0.4, # relative infectiousness of asymptomatic infections\n           pa = 0.1, # probability of asymptomatic infection\n           amp = 0.8, # Amplitude\n           phi = 250 # phase angle; start of season\n)\n\n# Run the model\nout &lt;- ode(y = start, \n           times = times, \n           func = seirs, \n           parms = parameters,\n           crude_births = crude_births,\n           crude_deaths = crude_deaths)\n\n\n# Post-processing model output into a dataframe\n\ndf &lt;- as_tibble(as.data.frame(out)) |&gt; \n  mutate(P = S + E + A + C + R + G) |&gt; \n  pivot_longer(cols = -time, names_to = \"variable\", values_to = \"value\") |&gt; \n  mutate(date = ymd(\"1990-01-01\") + time)\n\ndf |&gt; \n  filter(variable == \"P\") |&gt; \n  ggplot() +\n  geom_line(aes(x = date, y = value, colour = variable)) +\n  theme_health_radar() +\n  scale_colour_manual_health_radar() +\n  scale_y_continuous(labels = scales::label_number(suffix = \" M\", scale = 1e-6)) +\n  labs(\n    title = \"Growth in human population in Mozambique over time\", \n    x = \"Year\",\n    y = \"Population size in millions\",\n    colour = \"Population\",\n    caption = str_wrap(\"Changes in the total human population over time. Source: Model output\")\n  )  +\n  theme(legend.position = \"none\")\n\n\n\n\n\n\n\n\n\n\n\nPolicy implications\nForecasting resource allocation involves planning for demographic shifts, health infrastructure capacity, and the overall burden on health systems. As newborn susceptibles enter the population, we also anticipate that herd immunity may gradually erode over time, and reinforcing the need for sustained investment in control interventions.\n\n\n\n\n\n\n\n Back to top"
  },
  {
    "objectID": "datasources/malaria/malaria-threats-map-invasive-vector-species/invasive_vector_species.html",
    "href": "datasources/malaria/malaria-threats-map-invasive-vector-species/invasive_vector_species.html",
    "title": "Invasive vector species",
    "section": "",
    "text": "OverviewVisualisationsModelling\n\n\n\nAbout the data\n\nThe global database on invasive mosquito vector species was established in 2019 following the recommendations of the WHO’s first Technical Consultation on the spread of Anopheles stephensi. The database is designed to allow tracking of the geographical spread of malaria vector species that pose a threat to malaria control and elimination efforts. The database aims to support the evaluation of risks posed by invasive vector species and to promote and inform prompt action to mitigate this risk.\nThese datasets provide information on long term trends in distribution and spread of new or emerging mosquito vectors of malaria and enable tracking the spread of invasive vector species such as Anopheles stephensi comparison between countries. The data provided are on an annual time scale at the national level and would not be suitable for subnational analysis or to explore seasonal trends in malaria.\nTracking surveillance activities helps to understand current research gaps. Knowledge of where studies are either being planned, currently underway, or recently completed, helps to inform where to direct resources for future studies.\n\nAccessing the data\n\nThe data can be accessed via the WHO website through its Global Malaria Programme page on the Malaria Threats Map. The data has a web page which includes useful contextual information as well as additional resources. The data can be viewed in the original report in excel format as it is usually preferable for modelling to have an excel spreadsheet.\n\nTo access the data, click on the link to access the Malaria Threats Map page.\nClick on the data download tile.\nSelect the theme Invasive Vector Species to access the Invasive Vector Species detections.\nData can be filtered according to species and year (1984-2024) in which collected.\nFilter can be applied according to location.\nFollow the prompts to select and download data.\nThe data is downloaded as an Excel file.\n\nThe downloaded data can be plotted according to the geography for which the filters were selected (species, year collected and location). At this stage, dashboard summaries are not available for this thematic area.\n\nWhat does the data look like?\n\nSometimes the data needs to be prepared before it is able to be plotted.\n\n\n\n\n\n\n\nFigure 1: Distribution of Anopheles stephensi in Kenya for 2022-2024.\n\n\nThe distribution of An. stephensi was plotted for all districts in Kenya between 2022-2024. The method employed for collecting the specimens were recorded and the main methods of collection were the dipping method for mosquito larvae and the use of the light trap for collection of adult mosquitoes. The species identification was confirmed using molecular techniques.\nDescription\nThe data can be viewed as a spreadsheet, plotted on a map to show distribution or as a dashboard giving a summary of epidemiological and entomological data. The data can also be downloaded as Excel documents from the “Download Data” page.\n\n\n\n\n\n\n\nFigure 2: The occurrence of all invasive species from 2010 – 2024.\n\n\nFigure 2 shows the distribution of all invasive mosquito species in Africa and south-east Asia for the past 14 years. It is apparent that An. stephensi is native to south-east Asia but it is an invasive species in north Africa. A number of sites were negative for An. stephensi. This information can be used for revising malaria control protocols.\n\n\n\n\n\n\n\nFigure 3: Sample of the summary dashboard that can be created using the distribution data.\n\n\nFigure 3 shows a snap-shot of the summary data that can be generated from the selected dataset with the use of the appropriate filters. In this example, the vectors of Angola are listed and it is evident that An. stephensi has not yet moved down along the west coast of Africa. The insecticide resistance status of the vector mosquitoes is also given. The complete dashboard provides more information.\n\nCiting the data\n\nPlease acknowledge the use of these datasets by including the following reference in your publications: https://apps.who.int/malaria/maps/threats/#/download. Include year, date of access, acknowledgement of the countries having provided the underlying data (in the event that the source refers to ministries of health or national malaria control programs of specific countries).\n\nExamples of data use in literature\n\n\nWHO initiative to stop the spread of Anopheles stephensi in Africa. 2023 (https://iris.who.int/bitstream/handle/10665/372259/WHO-UCN-GMP-2023.06-eng.pdf?sequence=1).\nAl-Eryani, S.M., Irish, S.R., Carter, T.E. et al. Public health impact of the spread of Anopheles stephensi in the WHO Eastern Mediterranean Region countries in Horn of Africa and Yemen: need for integrated vector surveillance and control. Malar J 22, 187 (2023). https://doi.org/10.1186/s12936-023-04545-y\nMnzava, A., Monroe, A.C. & Okumu, F. Anopheles stephensi in Africa requires a more integrated response. Malar J 21, 156 (2022). https://doi.org/10.1186/s12936-022-04197-4\nAbubakr M, Sami H, Mahdi I, Altahir O, Abdelbagi H, Mohamed NS, Ahmed A. The Phylodynamic and Spread of the Invasive Asian Malaria Vectors, Anopheles stephensi, in Sudan. Biology (Basel). 2022 Mar 7;11(3):409. doi: 10.3390/biology11030409. PMID: 35336783; PMCID: PMC8945054.\nIsmail, R.B.Y., Bozorg-Omid, F., Osei, J.H.N. et al. Predicting the environmental suitability for Anopheles stephensi under the current conditions in Ghana. Sci Rep 14, 1116 (2024). https://doi.org/10.1038/s41598-024-51780-7\nSinka ME, Pironon S, Massey NC, Longbottom J, Hemingway J, Moyes CL, WillisM KJ.\nA new malaria vector in Africa: Predicting the expansion range of Anopheles stephensi and identifying the urban populations at risk. September 2020. Proceedings of the National Academy of Sciences DOI:10.1073/pnas.2003976117\nKweka EJ. Anopheles stephensi: a guest to watch in urban Africa. Trop Dis Travel Med Vaccines. 2022 Apr 1;8(1):7. doi: 10.1186/s40794-022-00165-7. PMID: 35361266; PMCID: PMC8973991.\n\n\n\n\nHow to use this data\n\nThe data contained in the database can be explored through the interactive data visualization platform Malaria Threats Map. The platform provides a spreadsheet of the requested data in an Excel format. Distribution maps of the spread of invasive species can be generated from this data. A dashboard of malaria epidemiology and entomology can also be accessed via this website.\n\nHow to plot this data\n\nTo access the specific data used in the visualisations:\n\nNavigate to the Malaria Threats Map page\nBelow the right-most window labelled ‘Data Download’, click on the ‘DOWNLOAD DATA’ button.\nSelect the ‘Invasive vector species’ tile.\nSelect ‘ADD TO DOWNLOAD’.\nSelect ‘NEXT STEP’. Follow the prompts to download your files.\n\n\n\nShow the code\nsource(here::here(\"theme_health_radar.R\"))  # source in the theme functions\nlibrary(rdhs)\nlibrary(ggrepel)\nlibrary(sf)\nlibrary(rnaturalearth)\nlibrary(rnaturalearthdata)\nlibrary(whowmr)\nlibrary(dplyr)\nlibrary(stringr)\nlibrary(tidyr)\nlibrary(forcats)\n\n\n\n\nShow the code\n# Define the elimination 8 countries\nafrica_names &lt;- c(\"Burundi\", \"Ethiopia\", \"Mozambique\", \"Sudan\", \"Djibouti\", \"Ghana\", \"Kenya\", \"Eritrea\", \"Nigeria\", \"United Republic of Tanzania\")\n\n# Read in the data, and filter our countries outside of Africa\ndata &lt;- readxl::read_xlsx(\"data/MTM_INVASIVE_VECTOR_SPECIES_20250109.xlsx\",\n                          sheet = \"Data\") |&gt; filter(COUNTRY_NAME %in% africa_names)\n\n\nVisualising the spread of sites at which invasive vector species were sampled can be effectively done using a map.\n\n\nShow the code\n# Define a single colour for the plot\nsingle_color &lt;- \"#1b9e77\"\n\n# Load the shapefile data for African countries and filter for specific countries\nafrica &lt;- ne_countries(continent = \"Africa\", returnclass = \"sf\") |&gt; \n  # Correct the name \"eSwatini\" to \"Eswatini\"\n  mutate(name = if_else(name == \"eSwatini\", \"Eswatini\", name)) |&gt;  \n   # Keep only the specified countries\n  filter(name %in% c(\"Kenya\", \"Ethiopia\", \"Eritrea\", \"Djibouti\", \"Sudan\")) \n\n# Convert LATITUDE and LONGITUDE columns to numeric\ndata$LATITUDE &lt;- as.numeric(data$LATITUDE)\ndata$LONGITUDE &lt;- as.numeric(data$LONGITUDE)\n\n# Filter the data for the specified countries and select relevant columns\nsites &lt;- data |&gt; \n  filter(COUNTRY_NAME %in% c(\"Kenya\", \"Ethiopia\", \"Eritrea\", \"Djibouti\", \"Sudan\")) |&gt; \n  select(COUNTRY_NAME, SITE_NAME, LATITUDE, LONGITUDE)  \n\n# Create a ggplot object with the shapefile data\nggplot(data = africa) +\n   # Plot the shapefile data with grey borders\n  geom_sf(color = \"darkgrey\", size = 0.3)  + \n  # Add points for the sites, coloured by the single color defined above\n  geom_point(data = sites, aes(x = LONGITUDE, y = LATITUDE), colour = single_color, size = 2)  + \n  # Add text labels for the country names\n  geom_sf_text(aes(label = sovereignt), color = \"black\", size = 3) +\n  # Apply custom theme\n  theme_health_radar() +  \n  # Customize the theme to remove the x- and y-axes and grid lines\n  theme(\n    plot.caption.position = \"plot\",\n    axis.title.x = element_blank(),\n    axis.text.x = element_blank(),\n    axis.ticks.x = element_blank(),\n    axis.title.y = element_blank(),\n    axis.text.y = element_blank(),\n    axis.ticks.y = element_blank(),\n    panel.grid.major = element_blank(), \n    panel.grid.minor = element_blank()\n  ) +\n  \n  # Add labels and title to the plot\n  labs(\n    title = \"Sites at which invasive vector species were sampled (2012-2024)\",\n    caption = str_wrap(\n      \"Sites in North-East African countries at which invasive vector species were collected from 2012 to 2024. Ethiopia appears to hold the highest number of sampling sites. Source: Malaria Threats Map Invasive Vector Species\", \n      width = 50))\n\n\n\n\n\n\n\n\n\nA line plot is used to visualise the total number of Invasive Vector Species study samples collected each year. Including points at each data point is important for communicating that this data was collected annually, not continuously, and that data is not available every year.\n\n\nShow the code\n# Filter the data to include only rows where YEAR_START is not NA\ndata |&gt; \n  filter(is.na(YEAR_START) == FALSE) |&gt; \n  # Count the number of samples for each year\n  count(year = YEAR_START) |&gt; \n  # Create a ggplot object with the counted data\n  ggplot(aes(x = year, y = n)) + \n  # Add a line plot to the chart, coloured by single_color\n  geom_line(colour = single_color) +\n  # Add points to the plot, coloured by single_color\n  geom_point(colour = single_color) +\n  # Apply custom theme\n  theme_health_radar() + \n  # Customise the x-axis to show yearly breaks\n  scale_x_continuous(breaks = min(data$YEAR_START):max(data$YEAR_START)) +\n  # Add labels and title to the plot\n  labs(\n    x = \"Year\",\n    y = \"Number of samples\",\n    title = \"Annual total number of samples collected per year\", \n    caption = str_wrap(\"The annual total number of samples of any species collected in Africa during Invasive Vector Species studies which began in each year. No studies began in the years 2015 or 2017. There appears to be an increase in the number of samples collected between 2014 and 2022, followed by a drop in 2023. Source: Malaria Threats Map Invasive Vector Species\", \n      width = 105))\n\n\n\n\n\n\n\n\n\nLastly, we look at the total number of Invasive Vector Species study samples collected in each country, rather than in each year. As the x-variable is categorical and not continuous, a bar plot is used.\n\n\nShow the code\n# Define a single color for the bars\nsingle_color &lt;- \"#1b9e77\"\n\n# Modify the COUNTRY_NAME to replace \"United Republic of Tanzania\" with \"Tanzania\"\ndata |&gt; \n  mutate(COUNTRY_NAME = ifelse(COUNTRY_NAME == \"United Republic of Tanzania\", \"Tanzania\", COUNTRY_NAME)) |&gt; \n  # Count the number of samples for each country\n  count(COUNTRY_NAME) |&gt; \n  # Create a ggplot object with the counted data\n  ggplot(aes(x = COUNTRY_NAME, y = n)) + \n  # Add bar plots to the chart, filled with the single colour\n  geom_bar(stat = \"identity\", fill = single_color) +\n  # Apply custom theme\n  theme_health_radar() +\n  # Customize the x-axis text to be angled and adjusted\n  theme(axis.text.x = element_text(angle = 45, hjust = 0.4)) + \n  # Add labels and title to the plot\n  labs(\n    x = \"\",\n    y = \"Number of samples\",\n    title = \"Total number of samples collected in each African country\", \n    caption = str_wrap(\"The total number of samples of any species collected in each African country during Invasive Vector Species studies. No samples were taken in countries not present on the plot. Over three times the number of samples were collected in Ethiopia than in the second most prolific country, Kenya. Source: Malaria Threats Map Invasive Vector Species\", \n      width = 100))\n\n\n\n\n\n\n\n\n\n\n\n\nHow can this data be used in disease modelling?\n\nData on invasive mosquito vector species can be used in a range of malaria modelling applications:\n\nTo project the spread of disease if transmission efficiency of the invasive vector differs to the native vector, or their combined effects can inform the overall vectorial capacity in a given context.\nWhen used in conjunction with other data sources such as climate projections, land cover or population density data, the location of the invasive species collected can be used to model population dynamics, as done by Da Re, D. et al. (2022) in their exploration of invasive Aedes species.\n\nThis can further inform spatial risk mapping and/or be used to forecast further invasions of the species.\nThese findings can also be used as inputs for models that evaluate intervention impact, as far as targeted vector control and changes in their effectiveness due to the presence of invasive species.\n\n\n\n\n\n\n Back to top"
  },
  {
    "objectID": "datasources/malaria/malaria-threats-map-antimalarial-drug-efficacy-and-resistance/antimalarial_drug_efficacy_and_resistance.html",
    "href": "datasources/malaria/malaria-threats-map-antimalarial-drug-efficacy-and-resistance/antimalarial_drug_efficacy_and_resistance.html",
    "title": "Antimalarial drug efficacy and drug resistance",
    "section": "",
    "text": "OverviewVisualisationsModelling\n\n\n\nAbout the data\n\nThe global database on antimalarial drug efficacy and resistance was initiated in 2000 to centralize data and facilitate reporting on the status of antimalarial drug efficacy in malaria endemic countries.\nThe WHO global database on antimalarial drug efficacy and resistance contains data from therapeutic efficacy studies (TES) conducted on P. falciparum, P. vivax, P. ovale, P. malariae and P. knowlesi, as well as molecular marker studies of P. falciparum drug resistance. TES are mainly done using first- and second-line treatment as well as treatments considered for introduction into the treatment policy.\nThe datasets cover the period from 2010 to 2023. The data is based on antimalarial drug efficacy which is being monitored through therapeutic efficacy studies (TES) across Africa, Asia and South America. The TES track clinical and parasitological outcomes among patients receiving antimalarial treatment. TES are considered the gold standard by which countries can best determine their national treatment policies.\nMolecular markers of antimalarial drug resistance data\nThe database also includes data on the geographical distribution of molecular markers associated with P. falciparum drug resistance, including:\n\nPfKelch13 (artemisinin resistance)\nPfplasmepsin 2-3 copy number (piperaquine resistance)\nPfmdr1 copy number (mefloquine resistance)\nPfcrt in Mesoamerica (chloroquine resistance)\n\n\nAccessing the data\n\nData on TES performed in compliance with the WHO standard protocol for tracking the effectiveness of antimalarial drugs are included inthe database.The year in the database is the year the study started,since study durations frequently span two calendar years. Polymerase chain reaction (PCR) correction is employed in studies with a minimum follow-up duration of 28 days to differentiate treatment failures resulting from recrudescence from reinfection.\nThe protocol approach is used to calculate treatment failure rates. Only patients who finish the whole trial follow-up and have a definite outcome—a therapy failure or success—are included in this analysis. Patients who discontinue their participation in the trial, do not follow up, or withdraw are not included in the analysis. Treatment failure rates using the Kaplan-Meier analysis are provided when available.\n\nTo access the data, click on this link to access the Malaria Threats Map page\nClick Download Data option\nSelect the theme on the Antimalarial drug efficacy and resistance\nSelect the dataset required\nData can be filtered according to species, region, country, site and year in which collected.\nFollow the prompts to select and download data\nThe data is downloaded as an Excel file\n\nThe TES reports can be accessed using the links below:\nPlasmodium falciparum\nReport in table format \nPlasmodium knowlesi\nReport in table format \nPlasmodium malariae\nReport in table format \nPlasmodium ovale\nReport in table format \nPlasmodium vivax\nReport in table format \nThe most recent report may not contain all years of estimates.\nThe website also provides access to maps on antimalarial drug efficacy and resistance. The maps allow you to explore individual studies and site-level data for all the threats. The maps are updated regularly and data up to site level is available for most countries. The maps allow you to generate graphs by clicking onto it.\nThe maps can be accessed on the Malaria Threats Map website.\nThe website has dashboards that allows the end user to view summaries of the threats at different geographical levels. The data is available at country and area level. End users may select up to 5 countries/area per report.\n\nWhat does the data look like?\n\nDescription\nData from the most recent TES are summarized in the reports. A comprehensive summary of treatment failure rates broken down by treatment and country is offered using the interactive reports. Therapeutic outcomes are assessed on the final day of the study (day 28, or day 42 for drugs with longer elimination half-lives). For infections appearing during follow-up, genotyping must be conducted to distinguish new infections from recrudescence.\nData are available for each country and annually. Some datasheets contain a few years of data, while others report data for the most recent year.\nA sample of the data is shown below. The table summarizes the treatment failure rates among patients infected with P. malariae. The displayed data is grouped by country and treatment.\n\nA sample of the map is shown below. The map details the area where the treatment failure rates among patients infected with P. falciparum and treated using artemether-lumefantrine.\n\nA sample of the dashboard is shown below. The dashboard details the area treatment failure rates by drug for South Africa, Eswatini and Mozambique. The dashboard provides a summary comparison across all countries selected.\n\n\nKey points to consider\n\nThe website provides the users with various information related to Antimalarial drug resistance and can be assessed using various tools. The data and information is updated regularly.\nStrengths\n\nThe dataset is widely used and evaluated.\nIt provides a number of useful information for antimalarial drug efficacy.\nIt provides a number of useful variables for drug resistance.\nReports and Data are updated regularly.\n\nLimitations\n\nThe datasets have data on selected countries/areas affected by malaria only.\nThe most recent report may not contain all years of estimates.\n\n\nTerms of use\n\nThe various datasets on the website are provided for all to use with free access. Please acknowledge all sources by citing one or more of the papers referenced. The website can also be acknowledged.\n\nExamples of data use in literature\n\n\nAdam M, Nahzat S, Kakar Q, Assada M, Witkowski B, Tag Eldin Elshafie A, et al. Antimalarial drug efficacy and resistance in malaria-endemic countries in HANMAT-PIAM_net countries of the Eastern Mediterranean Region 2016–2020: Clinical and genetic studies. Trop Med Int Health. 2023; 28(10): 817–829. https://doi.org/10.1111/tmi.13929\nKagoro, F.M., Allen, E., Mabuza, A. et al. Making data map-worthy—enhancing routine malaria data to support surveillance and mapping of Plasmodium falciparum anti-malarial resistance in a pre-elimination sub-Saharan African setting: a molecular and spatiotemporal epidemiology study. Malar J 21, 207 (2022). https://doi.org/10.1186/s12936-022-04224-4\nMonroe A, Williams NA, Ogoma S, Karema C, Okumu F. Reflections on the 2021 World Malaria Report and the future of malaria control. Malar J. 2022 May 27;21(1):154. doi: 10.1186/s12936-022-04178-7. PMID: 35624483; PMCID: PMC9137259.\nWHO,2009, Methods for surveillance of antimalarial drug efficacy Publication Item\n\n\n\n\nHow to use this data?\n\nEvaluating trends in antimalarial drug resistance and communicating the results to a broad audience are important for dealing with the drug resistance threat.\nAs part of its normative function, WHO creates standard procedures to track the effectiveness, resistance, and prevention of antimalarial drugs and offers nations financial and technical support to put these protocols into practice. The Malaria Threats Map is derived from a global database containing the findings of various investigations. Updates to national policies for first- and second-line therapies for malaria are also influenced by these studies.\nDownload the data from the link and read in a sheet. Sometimes the data needs to be prepared before it is able to be plotted. The data can be saved for use.\n\nHow to plot this data?\n\nTo access the specific data used in the visualisations:\n\nNavigate to the Malaria Threats Map page\nBelow the right-most window labelled ‘Data Download’, click on the ‘DOWNLOAD DATA’ button.\nSelect the ‘Antimalarial drug efficacy and resistance’ tile.\nSelect ‘Therapeutic efficacy studies’ from the dropdown menu.\nSelect ‘ADD TO DOWNLOAD’, and then select ‘NEXT STEP’. Follow the prompts to download your file.\n\n\n\nShow the code\nlibrary(readxl)\nlibrary(EnvStats)\nlibrary(tidyverse)\nlibrary(rdhs)\nlibrary(ggrepel)\nlibrary(sf)\nlibrary(rnaturalearth)\nlibrary(rnaturalearthdata)\nlibrary(whowmr)\nlibrary(dplyr)\nlibrary(stringr)\nlibrary(tidyr)\nlibrary(forcats)\nsource(here::here(\"theme_health_radar.R\"))\n\n# Define the elimination 8 countries\ne8_countries &lt;- c(\"Botswana\", \"Eswatini\", \"Namibia\", \"South Africa\", \"Angola\", \"Mozambique\", \"Zambia\", \"Zimbabwe\")\n\n# Read data from an Excel file, specifically from the \"Data\" sheet\ndata &lt;- readxl::read_xlsx(\"data/MTM_THERAPEUTIC_EFFICACY_STUDY_20241216.xlsx\",\n                          sheet = \"Data\")\n\n# Convert specific columns to numeric type\ndata$`POSITIVE_DAY_3 (days)` &lt;- as.numeric(data$`POSITIVE_DAY_3 (days)`)\ndata$TREATMENT_FAILURE_PP    &lt;- as.numeric(data$TREATMENT_FAILURE_PP)\ndata$TREATMENT_FAILURE_KM    &lt;- as.numeric(data$TREATMENT_FAILURE_KM)\n\n# Reshape the data from wide to long format, selecting columns 12 to 16\ndat_long &lt;- data |&gt; \n  pivot_longer(12:16, names_to = \"Indicator\", values_to = \"Value\") |&gt; \n  filter(COUNTRY_NAME %in% e8_countries)  # Filter rows to include only E8 countries\n\n# Filter the long data for treatment failure per protocol (PP)\ndat_trt_pp &lt;- dat_long |&gt; filter(Indicator == \"TREATMENT_FAILURE_PP\")\n\n# Filter the long data for sample size\ndat_sample &lt;- dat_long |&gt; filter(Indicator == \"SAMPLE_SIZE\")\n\n\nA stacked bar plot is a useful way of visualising a total value that is made up of a number of contributions. Here, the total number of patients that completed a MTM therapeutic efficacy study per year between 2010 and 2021 are visualised, with the contributions from each of four of the E8 countries highlighted.\n\n\nShow the code\n# Number of individuals that completed a study in the e8 countries in a given year\nggplot(dat_sample, aes(x = YEAR_END, y = Value, fill = COUNTRY_NAME)) +\n  geom_bar(stat = \"identity\", position = \"stack\") +\n  # Apply the custom fill scale for Country\n  scale_fill_manual_health_radar() +  \n  # Apply the custom radar theme\n  theme_health_radar() + \n  # Center title\n  theme(plot.title.position = \"plot\") +\n  # Add labels and title to the plot\n  labs(\n    title = \"Number of patients that completed a MTM therapeutic efficacy study \\n (2010-2021)\",\n    y = \"Number of Patients\",\n    x = \"Year\",\n    fill = \"Country\",\n    caption = str_wrap(\"The number of patients that completed a Malaria Threats Map Therapeutic Efficacy Study between 2010 and 2021, for any drug. This excludes all patients that withdrew or were lost to follow-up. Contributions vary by country and year, with Zimbabwe having the highest number of patients complete the study for any year in 2010 (768 patients), and the most patients completing the study across E8 countries in 2015 (1039 patients). Source: Malaria Threats Map Therapeutic Efficacy Study.\", width = 85)\n  ) \n\n\n\n\n\n\n\n\n\nThe percentage of patients who experienced treatment failure at different Zimbabwean sites can be visualised using a faceted bar plot.\n\n\nShow the code\n# Filter the data for Zimbabwe only, and remove sites Gokwe and Chiredzi - missing data\nfilt_data = dat_trt_pp |&gt; filter(COUNTRY_NAME == \"Zimbabwe\" & !(SITE_NAME %in% c(\"Gokwe\", \"Chiredzi\")), DRUG_NAME == \"Artemether-lumefantrine\")\n# Define a single color for the bars\nsingle_color &lt;- \"#1b9e77\"\n\n# Plot the data as a bar plot\nggplot(filt_data, aes(x = as.factor(YEAR_END), y = Value, fill = single_color)) +\n  # Create bar plot with no legend\n  geom_bar(stat = \"identity\", position = \"dodge\", show.legend = FALSE) + \n  # Use the health radar color scheme\n  scale_fill_manual_health_radar() +\n  # Set y-axis ticks to increment by 2\n  scale_y_continuous(breaks = seq(0, max(filt_data$Value, na.rm = TRUE), by = 2)) +  \n  # Facet the plot by SITE_NAME, creating 6 subplots\n  facet_wrap(~ SITE_NAME) +\n  # Apply the health radar theme\n  theme_health_radar() +\n  # increase separation between panels\n  theme(panel.spacing = unit(1, \"lines\")) +\n  # Add titles and labels\n  labs(\n    title = \"Percentage of patients with treatment failure (2010, 2014 and 2017)\",\n    x = \"Year\",\n    y = \"Percentage of Patients\",\n    caption = str_wrap(\"The percentage of patients with treatment failure in Artemether-lumefantrine drug trials ending in the years 2010, 2014 and 2017, for trials run at selected sites in Zimbabwe. Note that the y-axis ranges from 0% to 9.1%. This maximum percentage of patients with treatment failure (9.1%) occurs at the Beitbridge site in 2010. At least one trial is completed at each site with an observed treatment failure of 0%. It should be noted that the number of patients who completed each trial differs drastically between trials, with the minimum being 13 at the Uzumba-Maramba-Pfungwe site in 2017, and the maximum being 109 participants at the Mutasa site in 2010. This impacts the probability of observing a patient with treatment failure. Source: Malaria Threats Map Therapeutic Efficacy Study.\", width = 100))\n\n\n\n\n\n\n\n\n\nShow the code\n# Is the treatment working nearly perfectly, or is there some other factor potentially at play with a number of sites having treatment failure of 0% in 2017? There is no missing data (i.e. these aren't NaNs), and the sample sizes range between 13 and 103, so they are mostly respectable. I feel like I may have missed a mitigating factor which should be mentioned in the caption\n\n\nA lollipop plot can be used to visualise the percentage of patients who experienced treatment failure on different drugs, in different countries. A problem is encountered, however, if multiple trials in the same country had the same percentage of patients with treatment failure. Jittering is used to solve this problem, which decreases the visual appeal but ensures that important information is not obscured.\n\n\nShow the code\nlibrary(stringr)\n\n# Set seed to ensure identical jittering every time the plot is built\nset.seed(18)\n\ndat_trt_pp |&gt; \n  # Filter the data to include only rows where Value is not NA and YEAR_END is 2015\n  filter(is.na(dat_trt_pp$Value) == FALSE, YEAR_END == 2015) |&gt;\n  # Create ggplot object with the filtered data\n  ggplot(aes(x = fct_reorder(COUNTRY_NAME, Value, .na_rm = FALSE),  # Reorder COUNTRY_NAME based on Value\n                          y = Value,             # Set y-axis to Value\n                          color = DRUG_NAME)) +  # Color points by DRUG_NAME\n  # Add grey segments from y=0 to the value for each country\n  geom_segment(aes(x = COUNTRY_NAME, xend = COUNTRY_NAME, y = 0, yend = Value), color = \"grey\") +  \n  # Add jittered points to the plot, sized at 4\n  geom_jitter(size = 4, height = 0, width = 0.2) +\n  # Flip the coordinates for a horizontal bar plot\n  coord_flip() +  \n  # Apply custom color scale\n  scale_colour_manual_health_radar() +\n  # Apply custom theme\n  theme_health_radar() +\n  # Shift the title position\n  theme(plot.title.position = \"plot\") +\n  # Add labels and title to the plot\n  labs(\n    title = \"Percentage of patients with treatment failure (2015)\",\n    caption = str_wrap(\n      \"The percentage of patients with treatment failure in trials ending in the year 2015, in selected E8 countries, highlighting the drug which was being tested. Note that the x-axis ranges from 0% to 13.6%. Each country has at least two trials which showed no evidence of treatment failure. The highest percentage of patients who experienced treatment failure (13.6%) was observed in an Angolan trial for the drug Artemether-lumefantrine. It should be noted that the number of patients who completed each trial differs drastically between trials, with the minimum being 56 at an Angolan site trialing the drug Artesunate-amodiaquine, and the maximum being 145 participants at a Zambian site trialing the drug Artemether-lumefantrine. This impacts the probability of observing a patient with treatment failure. Source: Malaria Threats Map Therapeutic Efficacy Study.\", \n      width = 65),\n    x = \"\",\n    y = \"Percentage\", \n    colour = \"Drug\")\n\n\n\n\n\n\n\n\n\n\n\n\nHow can this data be used in disease modelling?\n\nTherapeutic efficacy studies assess how well antimalarial drugs clear infections and are an indicator of treatment success. Case management with Artemisinin-based Combination Therapy (ACTs) is a critical part of any country’s control strategy, and as such, representing it accurately in the disease model is key. Twenty therapeutic efficacy studies following treatment with Artemether-lumefantrine were done in Zimbabwe between 2010 and 2017. We use these to inform the treatment dynamics in the health system.\n\nPreparing the data\nWe calculate the mean probability of treatment failure in each year to inform the model.\n\n\nShow the code\n# Load the data\ntherapeutic_eff_data &lt;- read_excel(\"data/MTM_THERAPEUTIC_EFFICACY_STUDY_20250324.xlsx\",\n           sheet = 2) |&gt;  \n  mutate(TREATMENT_FAILURE_PP = as.numeric(TREATMENT_FAILURE_PP)/100)\n\n# Calculate mean probability of treatment failure over time\nmean_pf &lt;- therapeutic_eff_data |&gt; \n  group_by(YEAR_END) |&gt; \n  summarise(mean = mean(TREATMENT_FAILURE_PP)) |&gt;  \n  mutate(time = c(365*10, 365*15, 365*18)) # to get time series for 2010, 2014 and 2017 with simulation beginning in 2000\n\ntherapeutic_eff_data |&gt;  \n  ggplot(aes(x = as_factor(YEAR_END), y = TREATMENT_FAILURE_PP)) +\n  geom_boxplot(aes(colour = as.factor(YEAR_END)), outlier.shape = NA) +\n  stat_summary(aes(colour = \"Mean\"), fun = mean) +\n  geom_jitter(aes(colour = as.factor(YEAR_END)), width = 0.15) +\n  scale_y_continuous(labels = scales::percent) +\n  theme_health_radar() +\n  scale_colour_manual_health_radar() +\n  labs(title = \"Patients with treatment failure in Zimbabwe\",\n       subtitle = str_wrap(\"Data from 20 Therapeutic Efficacy Studies\"),\n       x = \"Year\",\n       y = \"Proportion that failed treatment\",\n       colour = \"Year and Variable\", \n       caption = str_wrap(\"Median and Interquartile values from study results indicated by boxplot. We see that mean treatment failure is decreasing over time, from 3% in 2010 to almost 0% in 2017. Source: Malaria Threats Map.\"))\n\n\n\n\n\n\n\n\n\n\n\nModel assumptions\nUsing a simple model, we demonstrate how treatment failure is incorporated, and plot the values for incidence. We start with the time-dependent parameter \\(pf(t)\\) for treatment failure among patients infected with Plasmodium falciparum in Zimbabwe. We assume that patients are treated, experience treatment failure and express clinical symptoms again within the study follow up period of 28 days (see parameters for \\(r\\) and \\(sigma\\)).\n\n\nShow the code\n# Time points for the simulation\nY = 22 # Years of simulation\ntimes &lt;- seq(0, 365*Y, 1) # time in days\n\n# Create a time-dependent function for treatment failure\npf_function &lt;- approxfun(mean_pf$time, mean_pf$mean, rule = 2)  # linear interpolation\n\n# Define basic dynamic Human-static Vector model ####\nseirs &lt;- function(times, start, parameters, pf_function)  {\n  with(as.list(c(parameters, start)), {\n    P = S + E + A + C + Tr + Tf + R + G\n    \n    # Seasonality\n    seas.t &lt;- amp*(1+cos(2*pi*(times/365 - phi)))\n    \n    # Force of infection\n    Infectious &lt;- C + Tf + zeta_a*A + zeta_t*Tr # infectious reservoir\n    lambda = ((a^2*b*c*m*Infectious/P)/(a*c*Infectious/P+mu_m)*(gamma_m/(gamma_m+mu_m)))*seas.t\n    \n     pf_t &lt;- pf_function(times)\n\n    # Differential equations/rate of change\n    \n    dS = mu_h*P - lambda*S + rho*R - mu_h*S\n    dE = lambda*S - (gamma_h + mu_h)*E\n    dA = pa*gamma_h*E + pa*gamma_h*G +omega*C - (delta + mu_h)*A\n    dC = (1-pa)*gamma_h*E + (1-pa)*gamma_h*G + sigma*Tf - (tau + omega + mu_h)*C\n    dTr = tau*C - (r + mu_h)*Tr\n    dTf = pf_t*r*Tr - (sigma + mu_h)*Tf\n    dR = delta*A + (1-pf_t)*r*Tr - (lambda + rho + mu_h)*R\n    dG = lambda*R - (gamma_h + mu_h)*G\n     \n    dCInc = lambda*(S+R)\n    \n    output &lt;- c(dS, dE, dA, dC, dTr, dTf, dR, dG, dCInc)\n    list(output)\n  })\n}\n\n# Input definitions ####\n\n#Initial values\nstart &lt;- c(S = 550000, # susceptible humans\n           E = 300000, # exposed and infected humans\n           A = 150000, # asymptomatic and infectious humans\n           C = 155000, # clinical and symptomatic humans\n           Tr = 80000, # treated humans\n           Tf = 20000, # treated humans that have had treatment failure\n           R = 200000, # recovered and semi-immune humans\n           G = 155000, # secondary-exposed and infected humans\n           CInc = 0 # cumulative incidence           \n           ) \n\n\n# Parameters\nparameters &lt;- c(a = 0.28, # human feeding rate per mosquito\n           b = 0.3, # transmission efficiency M-&gt;H\n           c = 0.3, # transmission efficiency H-&gt;M\n           m = 3, # mosquito-human ratio\n           gamma_m = 1/10, # rate of onset of infectiousness in mosquitoes\n           mu_m = 1/12, # natural birth/death rate in mosquitoes\n           mu_h = 1/(59*365), # natural birth/death rate in humans\n           gamma_h = 1/12, # rate of onset of infectiousness in humans\n           r = 1/7, # rate of loss of infectiousness after treatment\n           rho = 1/365, # rate of loss of immunity after recovery\n           delta = 1/150, # natural recovery rate\n           omega = 1/10, # rate of loss of symptoms in untreated clinical infection\n           zeta_a = 0.2, # relative infectiousness of asymptomatic infections\n           zeta_t = 0.1, # relative infectiousness of treated infections\n           tau = 1/3, # treatment seeking rate\n           sigma = 1/21, # rate of symptomatic recurrence after treatment failure\n           pa = 0.35, # probability of asymptomatic infection\n           #pf = 0.0228, # probability of treatment failure\n           amp = 0.45, # amplitude\n           phi = 200 # phase angle; start of season\n)\n\n# Run the model\nout &lt;- ode(y = start, \n           times = times, \n           func = seirs, \n           parms = parameters,\n           pf_function = pf_function)\n\n\n# Post-processing model output into a dataframe\n\ndf &lt;- as_tibble(as.data.frame(out)) |&gt; \n  mutate(P = S + E + A + C + Tr + Tf + R + G,\n         Inc = c(0, diff(CInc)),\n         TsR = Tr/(Tr+Tf)) |&gt; \n  pivot_longer(cols = -time, names_to = \"variable\", values_to = \"value\") |&gt; \n  mutate(date = ymd(\"2000-01-01\") + time)\n\ndf |&gt; \n  filter(variable %in% c(\"TsR\"), date &gt; ymd(\"2009-06-01\")) |&gt; \n  ggplot() +\n  geom_line(aes(x = date, y = value, colour = variable)) +\n  theme_health_radar() +\n  scale_colour_manual_health_radar() +\n  scale_y_continuous(labels = scales::percent, limits = c(0, NA)) +\n  labs(\n    title = \"Treatment success rate\", \n    subtitle = \"Treatment successes divided by total treatment\",\n    x = \"Year\",\n    y = \"Percentage\",\n    caption = str_wrap(\"In general, treatment follows the seasonal pattern of malaria, but the treatment success rate has an overall increasing trend as treatment failure decreases over time, and more infected individuals are successfully cured. Source: Model output\")) +\n  theme(guides = \"none\")\n\n\n\n\n\n\n\n\n\n\n\nExploring uncertainty\nTo account for the uncertainty in the probability of treatment failure \\(pf\\), we sample the value from a triangular distribution and explore the range of the runs.\n\n\nShow the code\nlibrary(triangle)\nlibrary(lhs)\n\n\nset.seed(123)\nruns &lt;- 50\nresults_list &lt;- vector(\"list\", runs)\n\n# Latin Hypercube Sample matrix across 3 years for 50 runs\nlhs_matrix &lt;- randomLHS(runs, 3)\n\n# Run simulations\nfor (i in 1:runs) {\n  \n  # Summarise treatment failure stats by year\n  # Assume mode to be the mean for triangular distribution sampling\n  pf_data &lt;- therapeutic_eff_data |&gt; \n    group_by(YEAR_END) |&gt; \n    summarise(\n      min = min(TREATMENT_FAILURE_PP), \n      mode = mean(TREATMENT_FAILURE_PP),\n      max = max(TREATMENT_FAILURE_PP),\n      .groups = \"drop\"\n    )\n  \n  # Time durations (in days) from start of simulation\n  # Sample values probability of treatment failure from a triangular distribution for each year\n  pf_data &lt;- pf_data |&gt; \n    mutate(time = c(365*5, 365*10, 365*13))\n  \n  # Use LHS to sample from triangular distribution\n  pf_values &lt;- pf_data |&gt; \n    mutate(pf_sampled = map2_dbl(row_number(), mode, \n                                 ~ qtri(lhs_matrix[i, .x], \n                                        min = min[.x], \n                                        mode = .y, \n                                        max = max[.x])))\n  \n  # Time-dependent interpolation for sampled values\n  pf_run_function &lt;- approxfun(pf_values$time, pf_values$pf_sampled, rule = 2)\n  \n  # Run the ODE\n  sens_out &lt;- ode(y = start,  \n           times = times, \n           func = seirs, \n           parms = parameters,\n           pf_function = pf_run_function)\n  \n  # Store and tidy output\n  results_list[[i]] &lt;- as_tibble(as.data.frame(sens_out)) |&gt; \n    mutate(P = S + E + A + C + Tr + Tf + R + G,\n           Inc = c(0, diff(CInc)),\n           TsR = Tr/(Tr+Tf)) |&gt; \n    pivot_longer(cols = -time, names_to = \"variable\", values_to = \"value\") |&gt; \n    mutate(date = ymd(\"2004-01-01\") + time,\n           run = i)\n}\n\n# Combine all runs into one dataframe\nsens_df &lt;- bind_rows(results_list)\n\nmedian_sens &lt;- sens_df |&gt; \n  group_by(time) |&gt; \n  filter(variable == \"TsR\") |&gt; \n  summarise(median = median(value), \n            lower = quantile(value, 0.05),\n            upper = quantile(value, 0.95),\n            .groups = \"drop\") |&gt; # plot median values and 95% confidence intervals\n  mutate(date = ymd(\"2000-01-01\") + time)\n\nsens_df |&gt; \n  filter(variable == \"TsR\", date &gt; ymd(\"2009-06-01\")) |&gt; \n  ggplot() +\n  # geom_line(aes(x = date, y = value, colour = as_factor(run), group = run), alpha = 0.5) + # if you want to see individual runs\n  geom_ribbon(data = median_sens |&gt; filter(date &gt; ymd(\"2009-06-01\")), aes(x = date, ymin = lower, ymax = upper), \n              fill = theme_health_radar_colours[12], alpha = 0.5) +\n  geom_line(data = median_sens |&gt; filter(date &gt; ymd(\"2009-06-01\")), aes(x = date, y = median, linetype = \"Median\"), linewidth = 0.5) +\n  theme_health_radar() +\n   scale_y_continuous(labels = scales::percent, limits = c(0, NA)) +\n  labs(\n    title = \"Treatment success rate\", \n    subtitle = \"Shaded area shows 5–95% range across 50 model runs.\",\n    x = \"Year\",\n    y = \"Percentage\",\n    caption = str_wrap(\"Sensitivity analysis of values for treatment failure in each year. Sampling from within the minimum and maximum ranges provided does not appear to significantly cause changes to the treatment success rate. Source: Model output.\")) +\n  theme(legend.position = \"none\")\n\n\n\n\n\n\n\n\n\n\n\nPolicy implications\nTreatment failure and antimalarial drug resistance can lead to prolonged infectious periods, recrudescence, or higher onward transmission, all of which increase the burden on the health system. Policymakers may need to evaluate the performance of first- and second-line therapies based off of surveillance and other insights from therapeutic efficacy studies, and perhaps recommend changes to treatment guidelines such as the use of triple ACTs or monotherapies.\n\n\n\n\n\n\n\n Back to top"
  },
  {
    "objectID": "datasources/malaria/era5/era5.html",
    "href": "datasources/malaria/era5/era5.html",
    "title": "ERA5",
    "section": "",
    "text": "OverviewVisualisationsModelling\n\n\n\nAbout the data\n\nERA5 is the fifth-generation reanalysis dataset produced by ECMWF (European Centre for Medium-Range Weather Forecasts), providing a detailed, global view of the climate. Covering the period from 1940 to near real-time, ERA5 combines vast amounts of historical observations with modern weather forecasting models, ensuring a globally complete, physically consistent record. The gridded dataset is available at a high spatial resolution of 0.25° (approximately 28 km by 28 km at the equator, varying slightly by latitude) and offers data at hourly intervals, providing sub-daily time resolution. It includes a wide range of surface and upper-air variables, supporting a broad spectrum of applications and research fields.\nERA5 is continuously updated, with data typically available within about one week of real time. Regular updates and corrections ensure the quality and completeness of the dataset over time.\nECMWF has made several subsets of the ERA5 reanalysis dataset available to meet different user needs. These include distinctions between data provided at pressure levels versus single levels (surface and near-surface variables), and at different temporal resolutions (hourly and monthly averages). For the purposes of this site, we focus on the “ERA5 hourly data on single levels from 1940 to present” subset, which offers high-resolution, near-surface climate variables suitable for a wide range of applications.\nFor more information regarding ERA5 datasets see ERA5-Dataset Documentation.\nUsers can also find more information about the ERA5 dataset here:\n\nClimate Data Store: ERA5 hourly data on single levels from 1940 to present\nClimate Data Guide: ERA5 atmospheric reanalysis\n\nSummary\n\n\n\nName\nERA5 (hourly data on single levels from 1940 to present)\n\n\nInstitution\nECMWF\n\n\nProduct type\nreanalysis\n\n\nDomain\nglobal\n\n\nResolution\n0.25° x 0.25°\n\n\nPeriod\n1940 - near real-time\n\n\nFrequencies\nhourly\n\n\nVariables\nprecipitation, temperature, others\n\n\nUpdate frequency (latency)\ndaily (+-5 days)\n\n\n\n Variables \n\n\n\n\n\n\n\n\nVariable Name\nVariable Description\nUnits\n\n\n\n\n2m temperature\ntemperature of air at 2m above the surface of land, sea or inland waters\nkelvin\n\n\nTotal precipitation\naccumulated liquid and frozen water, comprising rain and snow, that falls to the Earth’s surface\nmeters\n\n\n10m u-component of wind\nhorizontal speed of air moving towards the east, at a height of ten meters above the surface of the Earth\nmeters per second\n\n\n10m v-component of wind\nhorizontal speed of air moving towards the north, at a height of ten meters above the surface of the Earth\nmeters per second\n\n\n\nFor a comprehensive list of variables, you can refer to the dataset’s documentation on the Copernicus Climate Data Store.\n\n\nAccessing the data\n\nERA5 is a widely used reanalysis dataset and can be downloaded from several different platforms. We focus here on the ERA5 hourly data on single levels from 1940 to present subset.\n\nClimate Data StoreKNMI Climate Explorer\n\n\nThe ERA5 dataset is provided by the European Centre for Medium-Range Weather Forecasts (ECMWF) through the Copernicus Climate Change Service (C3S), with the Climate Data Store serving as the primary access point for ERA5 data. Users can download data directly from the ERA5 hourly data on single levels from 1940 to present dataset page. The CDS provides a user-friendly interface for selecting variables, spatial and temporal ranges, and output formats. Data is available in both GRIB and NetCDF formats.\nGuidance on how to download ERA5 data via the Climate Data Store is available here\n\n\n\n\n\n\n\n\n\n\nVersion\nVariables\nResolution\nSpatial Extent\nFile Format\n\n\n\n\nLatest (updated daily)\n2m temperature, Total precipitation, 10m u-component of wind, 10m v-component of wind, 2m dewpoint temperature etc. A comprehensive list is available on the CDS dataset page.\n0.25° (~28km x ~28km)\nGlobal/User specified\nGRIB (.grib), NetCDF (.nc)\n\n\n\n\n\nThe KNMI Climate Explorer provides access to ERA5 data with tools for analysis and visualization. The dataset can be specified on their Daily Select a field page. The ERA5 data available through KNMI is at daily resolution, with an ‘Africa’ subset included. Users can extract data for specific locations or regions and perform statistical analyses directly on the platform. Data provided in NetCDF format.\n\n\n\n\n\n\n\n\n\n\nVersion\nVariables\nResolution\nSpatial Extent\nFile Format\n\n\n\n\nTypically up-to-date\nA selection of variables including temperature, precipitation, and wind.\n0.25° (~28km x ~28km), 0.5° (~55.5km x ~55.5km)\nUser specified\nnetCDF (.nc)\n\n\n\n\n\n\n\nWhat the data looks likes\n\nBelow are a few plots to give a better sense of what the ERA5 dataset looks like. The first two are spatial plots over Southern Africa, illustrating the spatial resolution and the coarseness of the 0.25° × 0.25° grid. The final three plots focus on a single grid cell and show the seasonal cycle and time series data for that location.\n\n\n\n\n\n\n\n\nMean annual rainfall over Southern Africa from 1991–2020, derived from ERA5 data. Data source: Copernicus Climate Change Service, Climate Data Store, (2023): ERA5 hourly data on single levels from 1940 to present. Copernicus Climate Change Service (C3S) Climate Data Store (CDS), DOI: 10.24381/cds.adbb2d47 (Accessed on 16-OCT-2024)\n\n\n\n\n\n\n\n\n\n\n\nAnnual average daily mean temperature over Southern Africa from 1991-2020, derived from ERA5 data. Data source: Copernicus Climate Change Service, Climate Data Store, (2023): ERA5 hourly data on single levels from 1940 to present. Copernicus Climate Change Service (C3S) Climate Data Store (CDS), DOI: 10.24381/cds.adbb2d47 (Accessed on 16-OCT-2024)\n\n\n\n\n\n\n\n\n\n\n\nMonthly climatology of rainfall (bars) and monthly average daily mean (solid line), maximum (dot-dash line) and minimum (dashed line) temperatures, for Mwinilunga, Zambia, for the period 1991-2020, derived from ERA5 data. We see Mwinilunga has very dry and cool winter months (JJA) and experiences it’s hottest period over spring (SON). Data source: Copernicus Climate Change Service, Climate Data Store, (2023): ERA5 hourly data on single levels from 1940 to present. Copernicus Climate Change Service (C3S) Climate Data Store (CDS), DOI: 10.24381/cds.adbb2d47 (Accessed on 16-OCT-2024)\n\n\n\n\n\n\n\n\n\n\n\nDaily rainfall time series for Mwinilunga, Zambia, from 1959 to 2023, derived from ERA5 data. We can see daily extreme events Data source: Copernicus Climate Change Service, Climate Data Store, (2023): ERA5 hourly data on single levels from 1940 to present. Copernicus Climate Change Service (C3S) Climate Data Store (CDS), DOI: 10.24381/cds.adbb2d47 (Accessed on 16-OCT-2024)\n\n\n\n\n\n\n\n\n\n\n\nDaily mean, maximum and minimum temperature time series for Mwinilunga, Zambia, from 1990-1993, derived from ERA5 data. We have focused on a four year period to better see the daily temperature fluctuations. Data source: Copernicus Climate Change Service, Climate Data Store, (2023): ERA5 hourly data on single levels from 1940 to present. Copernicus Climate Change Service (C3S) Climate Data Store (CDS), DOI: 10.24381/cds.adbb2d47 (Accessed on 16-OCT-2024)\n\n\n\n\nKey points to consider\n\nERA5 is a global reanalysis dataset produced by combining model output with a wide range of historical observations using data assimilation techniques. It reflects a blend of satellite, in situ, aircraft, and other observational sources, integrated using the ECMWF Integrated Forecast System (IFS). Through this system, vast amounts of observations are brought together into a consistent model framework, resulting in a physically coherent dataset suitable for climate monitoring and research.\nThe quality and density of observations vary across space and time, particularly in earlier decades and over data-sparse regions. ERA5 provides uncertainty estimates for many variables through ensemble-based statistics, such as the standard deviation from the 10-member ensemble. These can be used as proxies to assess confidence in the data at specific times and locations.\nERA5 data is available at hourly resolution and can be aggregated to daily or monthly time scales. The dataset includes many surface and atmospheric variables, and its sub-daily time resolution supports detailed temporal analysis. It also enables the derivation of additional variables, such as relative humidity, from core fields like air temperature and dew point temperature. The reanalysis is updated daily with only a few days’ delay, making it suitable for near-real-time analysis. As a model-observation hybrid, ERA5 offers spatially and temporally complete outputs, which can be particularly valuable in regions or periods with limited direct observations.\nUsers should be aware that the skill of ERA5 data varies by variable, due to how the dataset is produced. ERA5 is derived from a global climate model with fixed spatial resolution, meaning it represents the Earth using a grid. As a result, it can struggle to accurately capture small-scale (‘sub-grid’) processes, such as localized convective rainfall (e.g. thunderstorms). Consequently, rainfall data tends to be less skillful, especially in regions dominated by convective processes or with sparse observational coverage. Temperature data, on the other hand, generally has higher skill, as it is strongly constrained by assimilated observations and tends to be more spatially consistent than rainfall. Comparing ERA5 data with local observations is recommended to assess its reliability.\nSpecific variables in ERA5 are defined and derived in distinct ways:\n\nThe temperature variable ‘2m temperature’ in ERA5 represents the air temperature at two meters above the surface. Over land, near-surface temperature observations from weather stations are combined with the model output to improve accuracy. However, ERA5 does not explicitly represent urban environments, so it may not fully capture the ‘urban heat island’ effect often observed in cities. Environmental factors such as land type and vegetation also influence the 2 meter temperature. Over the ocean, the 2 meter temperature is strongly influenced by sea surface temperatures (SST), which are derived from a combination of satellite observations (since 1982) and in-situ measurements (prior to 1982).\nThe precipitation variable ‘total precipitation’ in ERA5 includes all forms of precipitation (e.g. rain, snow, sleet, and hail). Unlike temperature, precipitation observations are not directly used to adjust the model so the data reflects the model’s best estimate based on its representation of physical processes. However, ERA5’s precipitation is influenced by other observations, such as satellite measurements of humidity in the atmosphere. ERA5 precipitation estimates rely heavily on parameterizations (simplified equations) to represent small-scale (‘sub-grid’) processes like thunderstorms, which can reduce accuracy in certain regions.\nThe wind vector variables ‘10m u-component’ and ‘10m v-component’ in ERA5 represent the U (east-west) and V (north-south) wind components 10 meters above the surface. These variables are not directly predicted by the model and are calculated from the model’s surface and atmospheric conditions outputs. Observational data is combined with the model outputs to provide the best estimate of near-surface wind conditions.\n\n\nStrengths\n\n\nProvides a consistent, physically-based reconstruction of weather and climate over time.\nOffers hourly data since 1940, allowing analysis at high temporal resolution.\nCovers a wide range of variables, useful for many climate-health applications, including malaria modelling.\nIncludes ensemble-based uncertainty estimates for many parameters.\n\n\nLimitations\n\n\nThe accuracy of ERA5 depends on the quality and availability of assimilated observations, which are limited in some regions and periods (especially before the satellite era or over data-sparse regions like parts of Africa).\nIt is not an observational dataset but a model–observation hybrid; as such, it may smooth or misrepresent localized extremes or fine-scale variability.\nCan be complex and data-intensive to work with.\n\n\nCiting the data\n\nHersbach, H., Bell, B., Berrisford, P., Biavati, G., Horányi, A., Muñoz Sabater, J., Nicolas, J., Peubey, C., Radu, R., Rozum, I., Schepers, D., Simmons, A., Soci, C., Dee, D., Thépaut, J-N. (2023): ERA5 hourly data on single levels from 1940 to present. Copernicus Climate Change Service (C3S) Climate Data Store (CDS), DOI: 10.24381/cds.adbb2d47 (Accessed on DD-MMM-YYYY)\n\nTerms of use\n\nAll users of data uploaded on the Climate Data Store (CDS) must:\n\nprovide clear and visible attribution to the Copernicus programme by referencing the web catalogue entry\nacknowledge according to the data licence\ncite each product used\n\nFor guidance on acknowledging or citing the Climate Data Store, see this page. For an example of how to cite ERA5 data specifically, refer to this ERA5 use case.\n\n\n\nHow to plot this data?\n\nIn this example, we demonstrate how to visualise ERA5 data using the ERA Explorer application provided by Climate Data Store (CDS). The ERA Explorer application allows users to explore the historical climate for anywhere on earth using the ERA5 reanalysis dataset and focuses on four key variables, temperature, rainfall, wind and humidity, all of which are important for Malaria modelling. In the below example we will focus on two different locations in southern Africa.\n\n\n\n\nFig. 1: ERA Explorer Landing page\n\n\n\nUsers can select a location of interest by clicking on the global interactive map. The application then calculates a set of climate statistics for the selected grid cell (0.25° x 0.25° resolution), which are displayed as a series of plots. These plots can be downloaded as PNG images, and the underlying data can be downloaded in CSV format. The site also links to example Python notebooks to help users understand, replicate, or customize the code.\nNote: The data represents average conditions for the entire grid cell, not the precise local environment. \nA guidance section, accessible via the “?” icon, provides information on how to use the app; the organisation, the ERA5 dataset and about the data, and how to interpret the plots presented in the app.\n\n\n\n\nFig. 2: Guidance documentation popup for the ERA Explorer Application\n\n\n\nTo illustrate, two locations in southern Africa with contrasting climates were selected (Fig. 3):\n\nKariba, Zimbabwe\nMbabane, Eswatini\n\n\n\n\n\nFig. 3: ERA Explorer showing the two selected locations\n\n\n\nThe ERA Explorer provides several types of visualisations which include:\n\nMonthly climatologies (temperature, rainfall and relative humidity)\nAnnual timeseries (temperature and rainfall)\nAnnual anomalies (temperature)\nDaily climatologies (temperature)\nHourly climatologies (wind)\n\nEach plot is generated automatically, with a brief explanation below describing the method used. While most plots look straightforward, some involve complex processing—particularly those showing relative humidity or hourly wind climatologies.\nIf users wish to generate their own plots, it is recommended to download the data from the application and to refer to the example python notebooks provided.\n\nMonthly Climatologies\n\n\n\n\n\nMonthly temperature climatology for Kariba (Zimbabwe) and Mbabane (Eswatini) for the period 1991-2020. We can see Kariba is consistently warmer than Mbabane throughout the year. Kariba’s temperatures peak in spring (Sept–Nov), while Mbabane experiences its warmest temperatures in summer (Dec–Feb). Both locations have their coolest periods in winter (Jun–Aug). Source: Copernicus Climate Change Service (C3S). (2025). ERA Explorer [Web application]. Retrieved from https://era-explorer.climate.copernicus.eu/\n\n\n\n\n\nMonthly precipitation climatology for Kariba (Zimbabwe) and Mbabane (Eswatini) for the period 1991-2020. Both locations experience a distinct wet season from November to March, with Kariba generally receiving more rainfall during the early summer months (Dec–Feb). Kariba has an extended dry season from May to October, while Mbabane tends to receive more consistent rainfall throughout its drier season. Source: Copernicus Climate Change Service (C3S). (2025). ERA Explorer [Web application]. Retrieved from https://era-explorer.climate.copernicus.eu/\n\n\n\n\n\nMonthly precipitation climatology for Kariba (Zimbabwe) and Mbabane (Eswatini) for the period 1991-2020. Mbabane generally exhibits higher relative humidity than Kariba throughout the year. While both locations experience lower humidity during the dry season, Kariba shows a more pronounced drop during the hot, dry months of early spring (Sept–Oct), whereas Mbabane’s lowest levels occur during the cooler winter months (Jun–Aug).Source: Copernicus Climate Change Service (C3S). (2025). ERA Explorer [Web application]. Retrieved from https://era-explorer.climate.copernicus.eu/\n\n\n\n\nAnnual Timeseries\n\n\n\n\n\nAnnual average temperature for Kariba (Zimbabwe) and Mbabane (Eswatini) for the period 1940-2024. Kariba is consistently around 8°C warmer than Mbabane. A clear warming trend is evident in both locations. Source: Copernicus Climate Change Service (C3S). (2025). ERA Explorer [Web application]. Retrieved from https://era-explorer.climate.copernicus.eu/\n\n\n\n\n\nAnnual total precipitation for Kariba (Zimbabwe) and Mbabane (Eswatini) for the period 1940-2024. Mbabane consistently receives more annual rainfall than Kariba, with both locations showing high interannual variability. Source: Copernicus Climate Change Service (C3S). (2025). ERA Explorer [Web application]. Retrieved from https://era-explorer.climate.copernicus.eu/\n\n\n\n\nDaily Climatologies\n\n\n\n\n\nDaily temperature climatology for Kariba (Zimbabwe) for the period 1991-2020. There are distinct cool and warm periods throughout the year. The hottest days and nights occur in late October to early November, while the coldest are observed in early July. Source: Copernicus Climate Change Service (C3S). (2025). ERA Explorer [Web application]. Retrieved from https://era-explorer.climate.copernicus.eu/\n\n\n\n\n\nDaily temperature climatology for Mbabane (Eswatini) for the period 1991-2020. The coldest days and nights occur in early July, while the warmest temperatures are more broadly distributed across the summer months (Dec–Feb), rather than peaking in a single period. Source: Copernicus Climate Change Service (C3S). (2025). ERA Explorer [Web application]. Retrieved from https://era-explorer.climate.copernicus.eu/\n\n\n\n\nHourly Climatologies\n\n\n\n\n\nHourly climatological wind rose for Kariba (Zimbabwe) for the period 1991-2020. Wind direction is highly unidirectional with very little variation, indicating a dominant prevailing wind. The wind speed does vary, suggesting changes in intensity even though the direction remains relatively consistent. Source: Copernicus Climate Change Service (C3S). (2025). ERA Explorer [Web application]. Retrieved from https://era-explorer.climate.copernicus.eu/\n\n\n\n\n\nHourly climatological wind rose for Mbabane (Eswatini) for the period 1991-2020. The wind rose indicates that winds come from multiple directions, with a few directions (Westly, West Noth-Westly and South-Eastly) more common than others. This suggests a moderately variable wind regime without a single dominant direction. Wind speeds also show a wide range of variability. Source: Copernicus Climate Change Service (C3S). (2025). ERA Explorer [Web application]. Retrieved from https://era-explorer.climate.copernicus.eu/\n\n\n\n\nAnnual Anomalies\n\n\n\n\n\nClimate warming stripes (annual temperature anomalies relative to the 1961–2010 reference period) for Kariba (Zimbabwe) and Mbabane (Eswatini) for 1940–2024. A clear concentration of red shades in recent decades highlights a warming trend at both locations. Source: Copernicus Climate Change Service (C3S). (2025). ERA Explorer [Web application]. Retrieved from https://era-explorer.climate.copernicus.eu/\n\n\n\n\n\n\nHow can this data be used in disease modelling?\n\nIn endemic countries with year-round transmission, malaria cases still peak during the rainy season (November to April for most southern African countries). During this time, temperature and rainfall conditions favour vector development, thereby increasing the total mosquito population. A few specific malaria variables have been experimentally shown to be temperature-sensitive (Shapiro 2017; Suh 2024):\n\nThe parasite extrinsic incubation period\nVector gonotrophic cycle\nHuman biting rate\nDaily survival/death rate of larval and adult vectors\nThe egg to adult development rate\n\nThe egg to adult development rate is also rainfall-sensitive, as is oviposition and the carrying capacity of the environment.\n\nPreparing the data\nUsing the CRU TS dataset, we obtain specific values for temperature over time, and model the historic impact of climatology on the vector population and subsequent incidence. We use mean air temperature as a proxy for surface temperatures.\nThere are different approaches to explicitly include environmental conditions into an infectious disease model. For this example, we use three equations from Traore (2017) and Agusto (2015; 2020) defining the effect of climate on the dynamics of malaria transmission. Specifically, the example below describes temperature-dependent human biting rate and mosquito mortality, as well as rainfall-dependent environmental carrying capacity.\n\n\nShow the code\n# Load the data \ntemperature_values &lt;- bind_rows(\n  read_csv(\"data/tas_daily_ERA5_19800101-20231231_Kariba.csv\") |&gt; \n    mutate(City = \"Kariba\"),\n  read_csv(\"data/tas_daily_ERA5_19800101-20231231_Mbabane.csv\") |&gt; \n    mutate(City = \"Mbabane\")) |&gt;\n  select(time, tas, City) |&gt;\n  group_by(City) |&gt;\n  mutate(tas = case_when(\n     as_date(time) == ymd(\"2018-06-29\") ~ mean(c(tas[as_date(time) == ymd(\"2018-06-28\")], tas[as_date(time) == ymd(\"2018-07-01\")])),\n    as_date(time) == ymd(\"2018-06-30\") ~ mean(c(tas[as_date(time) == ymd(\"2018-06-28\")], tas[as_date(time) == ymd(\"2018-07-01\")])),\n    TRUE ~ tas))  |&gt; # fix outliers in 2018 due to artefact\n  filter(time &gt;= ymd(\"2014-01-01\") & time &lt;= ymd(\"2023-12-31\") # start date of data\n         \n) \n\nggplot() +\n  geom_point(data = temperature_values, aes(x = time, y = tas, colour = City)) +\n  theme_health_radar() +\n  scale_colour_manual_health_radar() +\n  labs(\n    title = str_wrap(\"Daily Mean Surface Air Temperature values in Kariba and Mbabane from 2014 to 2023\", width = 50),\n    x = \"Year\",\n    y = \"Temperature values (Celsius °)\",\n    caption = str_wrap(\"Changes in temperature over time. Kariba has higher temperatures on average, which may impact vector competence, depending on the primary Anopheles vector in the area and its behavioural habits. Source: tas daily ERA5\")\n  ) +\n  ylim(0, NA)\n\n\n\n\n\n\n\n\n\n\n\nShow the code\n# Load the data \nrainfall_values &lt;- bind_rows( read_csv(\"data/PRCPTOT_daily_ERA5_19800101-20231231_Kariba.csv\") |&gt; \n    mutate(City = \"Kariba\"),\n  read_csv(\"data/PRCPTOT_daily_ERA5_19800101-20231231_Mbabane.csv\") |&gt; \n    mutate(City = \"Mbabane\")) |&gt;\n   select(time, pr, City) |&gt; \n  filter(time &gt;= ymd(\"2014-01-01\") & time &lt;= ymd(\"2023-12-31\") # start date of data\n)\n\nggplot() +\n  geom_point(data = rainfall_values, aes(x = time, y = pr, colour = City)) +\n  scale_colour_manual_health_radar() +\n  theme_health_radar() +\n  labs(\n    title = \"Daily Precipitation in Kariba and Mbabane from 2014 to 2023\",\n    x = \"Year\",\n    y = \"Rainfall values (mm)\",\n    caption = str_wrap(\"Changes in rainfall over time. Mbabane appears to have more rainfall on average, as well as higher peaks with rainfall over 40 mm between 2020 and 2022. Source: PRCPTOT_daily_ERA5\")\n  ) \n\n\n\n\n\n\n\n\n\nWe incorporate these values into the mathematical model. Note that other models may include other variables such as altitude and humidity. For this example we will explore the mosquito populations and incidence in both cities, as influenced by the environmental conditions. We achieve this by assuming the same parameters and starting conditions in both cities, and only varying the inputs for rainfall and temperature.\n\n\nShow the code\n# Time points for the simulation\nY = 10 # Years of simulation\ntimes &lt;- seq(0, 365*Y, by = 1)\n\n# Rainfall values for each city\nrains_kariba &lt;- (filter(rainfall_values, City == \"Kariba\"))$pr\nrains_mbabane &lt;- (filter(rainfall_values, City == \"Mbabane\"))$pr\n\n# Temperature values for each city\ntemps_kariba &lt;- (filter(temperature_values, City == \"Kariba\"))$tas\ntemps_mbabane &lt;- (filter(temperature_values, City == \"Mbabane\"))$tas\n\n\n# SEACR-SEI model\nseacr &lt;- function(times, start, parameters, rains_vec, temp_vec) { \n  with(as.list(c(start, parameters)), {\n    P = S + E + A + C + R + G\n    M = Sm + Em + Im\n    m = M / P\n    \n    t_day &lt;- floor(times) + 1\n    t_day &lt;- pmin(t_day, length(rains_vec))  # prevent out-of-bounds\n\n    rain &lt;- rains_vec[t_day]\n    temp &lt;- temp_vec[t_day]\n  \n    # Temperature-dependent equations obtained from Traore 2017 and Agusto 2020\n    # biting rate\n    a &lt;-  -0.00014*temp^2 + 0.027*temp - 0.322\n    \n    # daily oviposition rate\n    ovi &lt;- max(-0.153*temp^2 + 8.61*temp - 97.7, 0) # prevent values going below zero\n    \n    # death rate\n    mu_m &lt;- -log(-0.000828*temp^2 + 0.0367*temp + 0.522)\n    \n    # carrying capacity\n    K &lt;- max(Km*(rain+1), 1)  # ensure K stays above 1000\n    \n    # Force of infection\n    Infectious = C + zeta_a*A #infectious reservoir\n    lambda.v &lt;- a*M/P*b*Im/M\n    lambda.h &lt;- a*c*Infectious/P\n    \n    # Differential equations/rate of change\n    dSm = ovi*(1-M/K)*M - lambda.h*Sm - mu_m*Sm\n    dEm = lambda.h*Sm - (gamma_m + mu_m)*Em\n    dIm = gamma_m*Em - mu_m*Im\n    \n    dS = mu_h*P - lambda.v*S + rho*R - mu_h*S\n    dE = lambda.v*S - (gamma_h + mu_h)*E\n    dA = pa*gamma_h*E + pa*gamma_h*G - (delta + mu_h)*A\n    dC = (1-pa)*gamma_h*E + (1-pa)*gamma_h*G - (r + mu_h)*C\n    dR = delta*A + r*C - (lambda.v + rho + mu_h)*R\n    dG = lambda.v*R - (gamma_h + mu_h)*G\n    \n    dCInc = lambda.v*(S+R)\n    \n    \n    # Output\n    list(c(dSm, dEm, dIm, dS, dE, dA, dC, dR, dG, dCInc))\n  })\n}\n\n\n# Initial values for compartments (we use the same starting values for both cities here)\n\n# Kariba, Zimbabwe \ninitial_state &lt;- c(Sm = 50000, # susceptible mosquitoes\n                   Em = 30000, # exposed and infected mosquitoes\n                   Im = 10000, # infectious mosquitoes\n                   S = 25000, # susceptible humans\n                   E = 8000, # exposed and infected humans\n                   A = 7000, # asymptomatic and infectious humans\n                   C = 4000, # clinical and symptomatic humans\n                   R = 5000, # recovered and semi-immune humans\n                   G = 1000, # secondary-exposed and infected humans\n                   CInc = 0 # cumulative incidence\n)\n\n# Country-specific parameters should be obtained from literature review and expert knowledge\nparameters &lt;- c(#a = 0.45, # human biting rate\n                b = 0.5, # probability of transmission from mosquito to human\n                c = 0.5, # probability of transmission from human to mosquito\n                r = 1/21, # rate of loss of infectiousness after treatment\n                rho = 1/160, # rate of loss of immunity after recovery\n                delta = 1/150, # natural recovery rate\n                zeta_a = 0.4, # relative infectiousness of of asymptomatic infections\n                pa = 0.4, # probability of asymptomatic infection\n                #mu_m = 1/10, # birth and death rate of mosquitoes\n                mu_h = 1/(62*365), # birth and death rate of humans\n                gamma_m = 1/10, # extrinsic incubation rate of parasite in mosquitoes\n                gamma_h = 1/10, # extrinsic incubation rate of parasite in humans\n                Km = 50000 # carrying capacity for mosquito egg laying and pupae and larval development\n                )\n    \n\n# Run both models\noutK &lt;- ode(y = initial_state, \n           times = times, \n           func = seacr, \n           parms = parameters,\n           rains_vec = rains_kariba,\n           temp_vec = temps_kariba)\n\noutM &lt;- ode(y = initial_state, \n           times = times, \n           func = seacr, \n           parms = parameters,\n           rains_vec = rains_mbabane,\n           temp_vec = temps_mbabane) \n\n# Post-processing model output into a dataframe\n\ndfK &lt;- as_tibble(as.data.frame(outK)) |&gt; \n  mutate(P = S + E + A + C + R + G,\n         M = Sm + Em + Im,\n         Inc = c(0, diff(CInc))) |&gt;\n  pivot_longer(cols = -time, names_to = \"variable\", values_to = \"value\") |&gt; \n  mutate(date = ymd(\"2014-01-01\") + time, \n         City = \"Kariba\")\n\ndfM &lt;- as_tibble(as.data.frame(outM)) |&gt; \n  mutate(P = S + E + A + C + R + G,\n         M = Sm + Em + Im,\n         Inc = c(0, diff(CInc))) |&gt;\n  pivot_longer(cols = -time, names_to = \"variable\", values_to = \"value\") |&gt; \n  mutate(date = ymd(\"2014-01-01\") + time, \n         City = \"Mbabane\")\n  \ndf &lt;- bind_rows(dfK, dfM) |&gt;\n  group_by(City)\n\n\n\n\nChanges in vector population\nAs mentioned earlier, environmental conditions affect the parasite and mosquito development, and as such we anticipate changes in the vector population to mimic the pattern in the temperature. In this example, we assume the human population stays constant as is shown in the panel on the right. The UN Population Data portal page describes human population growth in the context of disease modelling. In this example, we assume that the human population remains constant, and that humans can be exposed to and infected by an infectious mosquito while recovering from an initial infection (secondary infection).\n\n\nShow the code\ndf |&gt; \n  filter(variable == \"M\") |&gt; \n  ggplot() +\n  geom_line(aes(x = date, y = value, colour = City)) +\n  theme_health_radar() +\n  scale_colour_manual_health_radar() +\n  scale_y_continuous(labels = scales::label_number(suffix = \" M\", scale = 1e-6)) +\n  labs(\n    title = \"Mosquito vector populations over time\", \n    x = \"Year\",\n    y = \"Population size\",\n    colour = \"Population\",\n    caption = str_wrap(\"Changes in the total mosquito population mimic seasonal changes in temperature and rainfall values over time, with peaks in the summer months. We see quite large mosquito populations in Mbabane between 2020 and 202, possibly linked to the higher rainfall values during that time. Source: Model output\")\n  )\n\n\n\n\n\n\n\n\n\n\n\nImplications for transmission\nThe force of infection (i.e. the rate at which susceptible individuals become infected per unit time) is largely driven by the human biting rate, the ratio of vectors relative to hosts, the probability of transmission and the size of the infectious reservoir. Below, we see how the temperature has driven the rate of new cases through the temperature-dependent variables.\nThis is especially insightful when the model includes periods of time impacted by severe environmental conditions such as drought or flooding, and the consequences on malaria transmission dynamics are reflected in the incidence values. Note that the example below is not an actual reflection of malaria transmission in Kariba or Mbabane, and is merely illustrative. We plot the modelled clinical cases for the years 2014 to 2023, however, in reality the value of reported clinical cases may be smaller due to limitations in treatment access, availability of rapid diagnostic tests, and even test sensitivity.\n\n\nShow the code\ndf |&gt; \n  filter(variable == \"C\", time &gt; 100) |&gt;\n  ggplot()+\n  geom_line(aes(x = date, y = value, colour = City)) +\n  theme_health_radar() +\n  scale_colour_manual_health_radar() +\n  labs(\n    title = \"Daily symptomatic cases values in the human population\", \n    x = \"Year\",\n    y = \"Number of cases\",\n    caption = str_wrap(\"There are more cases during the summer months, where environmental conditions are suitable for mosquito breeding and malaria transmission. In Mbabane, case numbers rise sharply in the wet season and drop to near zero in the dry season, indicating a high seasonal amplitude. Kariba, however, displays sustained transmission throughout the year (even during winter), leading to a higher overall case burden annually. Source: Model output.\")\n  ) +\n  ylim(0, NA)\n\n\n\n\n\n\n\n\n\n\n\nPolicy implications\nModels that incorporate temperature and rainfall explicitly may be used to forecast seasonal or year-to-year transmission patterns. This can be used to enable early warning systems for malaria outbreaks, as well as for temporal planning of interventions such as indoor residual spraying (IRS) for maximum impact. This approach also promotes multidisciplinary collaboration for policymakers across health, environmental, and climate sciences.\n\n\nCitations\n\nAgusto F. B., Gumel A. B., & Parham P. E. Qualitative assessment of the role of temperature variations on malaria transmission dynamics. Journal of Biological Systems, 23(04), 1550030 (2015). https://doi.org/10.1142/S0218339015500308\nAgusto F.B. Optimal control and temperature variations of malaria transmission dynamics. Complexity, 1, 5056432 (2020). https://doi.org/10.1155/2020/5056432\nTraoré B., Sangaré B., Traoré S. A mathematical model of malaria transmission with structured vector population and seasonality. Journal of Applied Mathematics, 1, 6754097 (2017). https://doi.org/10.1155/2017/6754097\nShapiro L.L.M., Whitehead S.A., & Thomas M.B. Quantifying the effects of temperature on mosquito and parasite traits that determine the transmission potential of human malaria. PLoS Biology 15(10), e2003489 (2017). https://doi.org/10.1371/journal.pbio.2003489\nSuh, E., Stopard, I.J., Lambert, B. et al. Estimating the effects of temperature on transmission of the human malaria parasite, Plasmodium falciparum. Nature Communications 15, 3230 (2024). https://doi.org/10.1038/s41467-024-47265-w\n\n\n\n\n\n\n\n\n Back to top"
  },
  {
    "objectID": "datasources/malaria/cru-ts/cruts.html",
    "href": "datasources/malaria/cru-ts/cruts.html",
    "title": "CRU TS",
    "section": "",
    "text": "OverviewVisualisationsModelling\n\n\n\nAbout the data\n\nThe CRU TS (Climatic Research Unit gridded Time Series) dataset is a global, high-resolution, land-based climate dataset that provides monthly records on a 0.5° grid (approximately 55.5 km by 55.5 km at the equator, varying slightly by latitude). The dataset is derived by the interpolation of monthly climate anomalies from extensive networks of weather station observations, offering data from 1901 onwards. This observational dataset consists of ten observed and derived climate variables, such as temperature and precipitation (see Variables list below), making it useful for many types of users, in diverse research areas and applications and has been widely adopted in research and policy work.\nUpdated annually, the dataset follows a versioning system, CRU TS vX.YY. Where ‘X’ reflects major updates in methodology and ‘YY’ indicates minor refinements, extending its temporal coverage and improving data quality, compared to previous versions.\nFor more information regarding all CRU datasets see CRU-data\nUsers can also find more information about the CRU dataset here:\n\nClimate Data Guide: CRU TS Gridded precipitation and other meteorological variables since 1901\nClimate Data Store: Temperature and precipitation gridded data for global and regional domains derived from in-situ and satellite observations\n\nSummary\n\n\n\nName\nCRU TS\n\n\nVersion\nCheck for lastest version here\n\n\nInstitution\nCRU\n\n\nProduct type\ngridded observed\n\n\nDomain\nglobal land (excluding Antarctica)\n\n\nResolution\n0.5° x 0.5° (~55.5km x ~55.5km)\n\n\nPeriod\n1901-recent\n\n\nFrequencies\nmonthly\n\n\nVariables\nprecipitation, temperature, others\n\n\nUpdate frequency\nannual\n\n\n\n Variables \n\n\n\n\n\n\n\n\nVariable Name\nVariable Description\nUnits\n\n\n\n\ncld\ncloud cover\npercentage (%)\n\n\ndtr\ndiurnal 2-meter temperature range\ndegrees Celsius\n\n\nfrs\nfrost day frequency\ndays\n\n\npet\npotential evapo-transpiration\nmillimetres per day\n\n\npre\nprecipitation rate\nmillimetres per month\n\n\ntmp\nmonthly average daily mean 2-meter temperature\ndegrees Celsius\n\n\ntmn\nmonthly average daily minimum 2-meter temperature\ndegrees Celsius\n\n\ntmx\nmonthly average daily maximum 2-meter temperature\ndegrees Celsius\n\n\nvap\nvapour pressure\nhectopascals (hPa)\n\n\nwet\nwet day frequency\ndays\n\n\n\n\n\nAccessing the data\n\nCRU is a widely used dataset and can be downloaded from several different platforms.\n\nData CreatorClimate Data StoreKNMI Climate Explorer\n\n\nThe Climatic Research Unit (CRU) at the University of East Anglia is the creator of this dataset. Users can download it directly from their website, which lists all available datasets, with the most recent version listed at the top. When downloading from CRU, the file provided are for the full global dataset and are available in both ASCII and NetCDF formats. This is the best source for accessing the latest version of the data.\n\n\n\n\n\n\n\n\n\n\nVersion\nVariables\nResolution\nSpatial Extent\nFile Format\n\n\n\n\nLatest available\ncld, dtr, frs, pet, pre, tmp, tmn, tmx, vap, wet\n0.5° (~55.5km x ~55.5km)\nGlobal\nnetCDF (.nc), ASCII (.dat)\n\n\n\n\n\nThe Climate Data Store also provides a version of the CRU dataset for users to download. It can be accessed here. However, the version available on the Climate Data Store is not always the most up-to-date. The data is provided in NetCDF format.\n\n\n\n\n\n\n\n\n\n\nVersion\nVariables\nResolution\nSpatial Extent\nFile Format\n\n\n\n\nMay not be the latest\npre, tmp, tmn, tmx\n0.5° (~55.5km x ~55.5km), 1.0° (~111km x ~111km), 2.5° (~277.5km x ~277.5km)\nGlobal\nnetCDF (.nc)\n\n\n\n\n\nThe KNMI Climate Explorer is another platform where users can download CRU data. The dataset can be specified on their Monthly Observations page, where the latest version of CRU is usually available. Users can download data for a specific grid point or area or create a custom subset using a mask (e.g., a shapefile). Data provided in NetCDF format.\n\n\n\n\n\n\n\n\n\n\nVersion\nVariables\nResolution\nSpatial Extent\nFile Format\n\n\n\n\nTypically up-to-date\ncld, dtr, frs, pet, pre, tmp, tmn, tmx, vap\n0.5° (~55.5km x ~55.5km), 1.0° (~111km x ~111km), 2.5° (~277.5km x ~277.5km)\nUser specified\nnetCDF (.nc)\n\n\n\n\n\n\n\nWhat the data looks likes\n\nBelow are a few plots to give a better sense of what the CRU dataset looks like. The first two are spatial plots over Southern Africa, illustrating the spatial resolution and the coarseness of the 0.5° × 0.5° grid. The final three plots focus on a single grid cell and show the seasonal cycle and time series data for that location.\nSpatial plots of key variables\n\n\nShow the code\nlibrary(terra)\nlibrary(ggplot2)\nlibrary(tidyterra) \nlibrary(stringr)\n\n\n# Read the NetCDF file using terra\nfig1_mean_annual_rainfall &lt;- rast(\"data/Fig1_MeanAnnualRainfall_CRU_TS-4.08_1991-2020_SouthernAfrica.nc\")\n\n# Make 0 values NA\nfig1_mean_annual_rainfall[fig1_mean_annual_rainfall == 0] &lt;- NA\n\n# Create the plot\nggplot() +\n  geom_spatraster(\n    data = fig1_mean_annual_rainfall,\n    na.rm = TRUE\n  ) +\n  scale_fill_continuous_health_radar(\n    option = \"plasma\", \n    na.value = \"white\",\n    name = \"Mean Rainfall\\n(mm/year)\"  # Removed trailing comma\n  ) +\n  coord_sf(\n    xlim = c(10, 40),\n    ylim = c(-35, 0)\n  ) +\n  theme_health_radar() +\n  labs(\n    title = \"Mean Annual Rainfall for Southern Africa (1991-2020)\",\n    x = \"Longitude\", \n    y = \"Latitude\",\n    caption = str_wrap(\"Mean annual rainfall over Southern Africa from 1991-2020, derived from CRU TS v4.08 data. Data Source: Climatic Research Unit (University of East Anglia), CRU TS v4.08 Dataset (https://doi.org/10.1038/s41597-020-0453-3)\", width = 75)\n  )\n\n\n\n\n\n\n\n\n\n\n\nShow the code\nfig2_mean_monthly_avg_temperature &lt;- rast(\"data/Fig2_MeanMonthlyAverageTemp_CRU_TS-4.08_1991-2020_SouthernAfrica.nc\")\n\n# Create the plot\nggplot() +\n  geom_spatraster(\n    data = fig2_mean_monthly_avg_temperature,\n    na.rm = TRUE\n  ) +\n  scale_fill_continuous_health_radar(\n    option = \"plasma\", \n    na.value = \"white\",\n    name = \"Mean Temperature\\n(Celsius)\"  # Removed trailing comma\n  ) +\n  coord_sf(\n    xlim = c(10, 40),\n    ylim = c(-35, 0)\n  ) +\n  theme_health_radar() +\n  labs(\n    title = \"Annual Average Daily Mean Temperature \\n for Southern Africa (1991-2020)\",\n    x = \"Longitude\", \n    y = \"Latitude\",\n    caption = str_wrap(\"Annual average daily mean temperature over Southern Africa from 1991-2020, derived from CRU TS v4.08 data. Data Source: Climatic Research Unit (University of East Anglia), CRU TS v4.08 Dataset (https://doi.org/10.1038/s41597-020-0453-3)\", width = 75)\n  )\n\n\n\n\n\n\n\n\n\n\n\nShow the code\nlibrary(readr)\n\nfig3_PRCPTOT_mon &lt;- read_csv(\"data/Fig3_PRCPTOT_mon_CRU_TS-4.08_199101-202012_climatology_Bulawayo.csv\")\n\nfig3_tas_mon &lt;- read_csv(\"data/Fig3_tas_mon_CRU_TS-4.08_199101-202012_climatology_Bulawayo.csv\")\n\n# Create the climatology plot\nggplot() +\n  # Rainfall bars\n  geom_col(\n    data = fig3_PRCPTOT_mon,\n    aes(x = time, y = PRCPTOT, fill = \"Rainfall\"),\n    alpha = 0.6\n  ) +\n  # Temperature line\n  geom_line(\n    data = fig3_tas_mon,\n    aes(x = time, y = tas * 10, color = \"Temperature\"),\n    linewidth = 1\n  ) +\n  geom_point(\n    data = fig3_tas_mon,\n    aes(x = time, y = tas * 10, color = \"Temperature\")\n  ) +\n  # Use standardized color scales with explicit values\n  scale_fill_manual(values = setNames(theme_health_radar_colours[1], \"Rainfall\")) +\n  scale_colour_manual(values = setNames(theme_health_radar_colours[2], \"Temperature\")) +\n  # Primary axis (rainfall)\n  scale_y_continuous(\n    name = \"Monthly Rainfall (mm)\",\n    sec.axis = sec_axis(~./10, name = \"Monthly Average Daily\\n Mean Temperature (°C)\")\n  ) +\n  scale_x_continuous(\n    breaks = 1:12,\n    labels = c(\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \n               \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\")\n  ) +\n  theme_health_radar() +\n  theme(\n    axis.title.y.right = element_text(color = theme_health_radar_colours[2]),  # Match temperature line color\n    axis.text.y.right = element_text(color = theme_health_radar_colours[2]),   # Match temperature line color\n    axis.title.y.left = element_text(color = theme_health_radar_colours[1]),   # Match rainfall bar color\n    axis.text.y.left = element_text(color = theme_health_radar_colours[1]),    # Match rainfall bar color\n    legend.position = \"none\"\n  ) +\n  labs(\n    title = \"Seasonal Cycle of Rainfall and Temperature in Bulawayo\",\n    x = \"Month\",\n    caption = str_wrap(\"Monthly climatology of rainfall (bars) and monthly average daily mean temperature (line) for Bulawayo. Zimbabwe, for the period 1991-2020, derived from CRU TS v4.08 data. We see Bulawayo experiences a signioficant propotion of it's rainfall in the warm summer months and is very dry in the temperate winter months. Data Source: Climatic Research Unit (University of East Anglia), CRU TS v4.08 Dataset (https://doi.org/10.1038/s41597-020-0453-3)\", width = 75)\n  )\n\n\n\n\n\n\n\n\n\n\n\nShow the code\nfig4_PRCPTOT_mon &lt;- read_csv(\"data/Fig4_PRCPTOT_mon_CRU_TS-4.08_190101-202312_Bulawayo.csv\")\n\n# Create the timeseries plot\nggplot() +\n  # Rainfall bars\n  geom_col(\n    data = fig4_PRCPTOT_mon,\n    aes(x = time, y = PRCPTOT, fill = \"Rainfall\"),\n    alpha = 0.6\n  ) +\n  # Station count line\n  geom_point(\n    data = fig4_PRCPTOT_mon,\n    aes(x = time, y = stn * 40, color = \"Station Count\"),\n    linewidth = 0.8\n  ) +\n  # Use standardized color scales with explicit values\n  scale_fill_manual(values = setNames(theme_health_radar_colours[1], \"Rainfall\")) +\n  scale_colour_manual(values = setNames(theme_health_radar_colours[2], \"Station Count\")) +\n  # Primary axis (rainfall)\n  scale_y_continuous(\n    name = \"Monthly Rainfall (mm)\",\n    sec.axis = sec_axis(\n      ~./40, \n      name = \"Number of Stations\",\n      breaks = seq(0, 10, 2),  # Force breaks from 0 to 10\n    )\n  ) +\n  scale_x_date(\n    date_breaks = \"10 years\",\n    date_labels = \"%Y\"\n  ) +\n  theme_health_radar() +\n  theme(\n    axis.title.y.right = element_text(color = theme_health_radar_colours[2]),\n    axis.text.y.right = element_text(color = theme_health_radar_colours[2]),   \n    axis.title.y.left = element_text(color = theme_health_radar_colours[1]),\n    axis.text.y.left = element_text(color = theme_health_radar_colours[1]),    \n    legend.position = \"none\"\n  ) +\n  labs(\n    title = \"Monthly Rainfall and Station Count in Bulawayo (1901-2023)\",\n    x = \"Year\",\n    caption = str_wrap(\"Monthly rainfall time series for Bulawayo, Zimbabwe, from 1901 to 2023, with black dots indicating the number of stations contributing to each monthly rainfall value. The data is derived from CRU TS v4.08. Notably, there is a decrease in the number of contributing stations from around 2010 onwards. Caution is advised when interpreting values calculated without any station data contributions. Data Source: Climatic Research Unit (University of East Anglia), CRU TS v4.08 Dataset (https://doi.org/10.1038/s41597-020-0453-3)\", width = 75)\n  )\n\n\n\n\n\n\n\n\n\n\n\nShow the code\nfig5_tas_mon &lt;- read_csv(\"data/Fig5_tas_mon_CRU_TS-4.08_190101-202312_Bulawayo.csv\")\n\n# Create the timeseries plot\nggplot() +\n  # Temperature bars\n  geom_line(\n    data = fig5_tas_mon,\n    aes(x = time, y = tas - 273.15, color = \"Temperature\"),\n    linewidth = 0.8\n  ) +\n  # Station count line\n  geom_point(\n    data = fig5_tas_mon,\n    aes(x = time, y = stn * 4, color = \"Station Count\"),\n    linewidth = 0.8\n  ) +\n  # Use standardized color scales with explicit values\n  scale_colour_manual(values = c(  \"Temperature\" = theme_health_radar_colours[1],  \"Station Count\" = theme_health_radar_colours[2])) +\n  #scale_fill_manual(values = setNames(theme_health_radar_colours[1], \"Temperature\")) +\n  #scale_colour_manual(values = setNames(theme_health_radar_colours[2], \"Station Count\")) +\n  \n# Primary axis (temperature)\n  scale_y_continuous(\n    name = \"Monthly Average Daily \\n Mean Temperature (°C)\",\n    sec.axis = sec_axis(\n      ~./4, \n      name = \"Number of Stations\",\n      breaks = seq(0, 10, 2),  # Force breaks from 0 to 10\n    )\n  ) +\n  scale_x_date(\n    date_breaks = \"10 years\",\n    date_labels = \"%Y\"\n  ) +\n  theme_health_radar() +\n  theme(\n    axis.title.y.right = element_text(color = theme_health_radar_colours[2]),\n    axis.text.y.right = element_text(color = theme_health_radar_colours[2]),   \n    axis.title.y.left = element_text(color = theme_health_radar_colours[1]),\n    axis.text.y.left = element_text(color = theme_health_radar_colours[1]),    \n    legend.position = \"none\"\n  ) +\n  labs(\n    title = \"Monthly Average Daily Mean Temperature and \\n Station Count in Bulawayo (1901-2023)\",\n    x = \"Year\",\n    caption = str_wrap(\"Monthly average daily mean temperature time series for Bulawayo, Zimbabwe, from 1901 to 2023, with black dots indicating the number of stations contributing to each monthly average daily mean temperature value. The data is derived from CRU TS v4.08.  The number of contributing stations remains at an adequate level throughout the time series, with a minimum of three stations. Data Source: Climatic Research Unit (University of East Anglia), CRU TS v4.08 Dataset (https://doi.org/10.1038/s41597-020-0453-3)\", width = 75)\n  )\n\n\n\n\n\n\n\n\n\n\nKey points to consider\n\nCRU provides users with the number of stations used to build each datum within the CRU TS dataset. The NetCDF-formatted (CF-1.4 compliant) CRU TS data output files (for all variables except PET) contain two data variables, the named one, (i.e., ‘tmp’), and a station count (‘stn’) giving the number of stations. If working with ASCII text output files, CRU also publishes a separate station count metadata file. The station counts vary between 0 (no cover, climatology inserted, see Interpolation above), and eight (the maximum station count for interpolation). The ‘stn’ data may be used to quantify uncertainty, most particularly by excluding cells with a zero count, as these will have been set to the default climatology ((i.e., long-term average values from a reference period when no observations are available). The station count can vary widely through space and time and per variable, see figures 4 and 5 above.\n\nStrengths\n\n\nThe dataset is widely used and evaluated.\nIt provides a number of useful variables for malaria modelling.\nIt provides and long and continuous record.\n\n\nLimitations\n\n\nThe skill of the dataset relies heavily on the density of the station network. The density over southern Africa is very poor with some areas not having any available stations, or they are are very far away in climatically very different regions.\nThe data is monthly which limits the usefulness of the dataset which may require higher temporal resolution data.\nThe stations come from a number of different networks and they are not strictly homogenized so caution should be use in any trend analysis.\n\n\nCiting the data\n\nHarris, I., Osborn, T.J., Jones, P. et al. Version 4 of the CRU TS monthly high-resolution gridded multivariate climate dataset. Sci Data 7, 109 (2020). https://doi.org/10.1038/s41597-020-0453-3\n\nTerms of use\n\nThe various datasets on the CRU website are provided for all to use, provided the sources are acknowledged. Acknowledgment should preferably be by citing one or more of the papers referenced. The website can also be acknowledged if deemed necessary.\n\n\n\nHow to use this data?\n\nIn this example we demonstrate how to use the KNMI Climate Explorer to:\n\nSelect the required variables from the CRU TS dataset (daily maximum and minimum temperature and rainfall).\nGenerate an area-average spatial subset for the full record period (in this case, for the Mopani District, Limpopo Province, South Africa for the period 1901 - 2023).\nDownload the resulting data as text files.\n\nWhile the KNMI Climate Explorer allows anonymous access, it is recommended to register and login to access more features.\nThe CRU TS dataset is accessible through the side menu under Select a field &gt; Monthly observations\n\n\n\n\nFig. 1: KNMI Climate Explorer home page\n\n\n\nThe site lists a number of monthly fields by variable / categories (the names of which may appear somewhat confusing at first). The CRU TS can be found under the different variables and in this visualisation example we will focus on the data listed under the variables Tmax (daily maximum temperature).\nUsers can select the data at different spatial resolutions (0.5°, 1.0°, 2.5°). A metadata variable #/value is also available, indicating the number of weather stations used to calculate each gridcell’s value, ranging from 0 to 8 stations.\n\n\n\n\nFig. 2: KNMI Climate Explorer Monthly Observation list of datasets\n\n\n\nWe select the most recent Tmax CRU TS 4.08 (land) dataset at 0.5° spatial resolution. This page provides options to process/modify the data. Including:\n\nSpatial and temporal subsetting\nMonthly high/low-pass filtering\nYear-on-year high/low-pass filtering\nRegridding to a lower spatial or temporal resolution\nComputing of anomalies from a climatological mean, or from zonal mean.\nIt also provides a link to download the dataset itself (though it recommends that users rather utilise the authoritative site).\n\nFor our purposes, we generate an area average for a spatial subset for the Mopani District, Limpopo Province, South Africa by specifying the latitude and longitude bounds.\n\n\n\n\nFig. 3: KNMI Climate Explorer tools used to create the spatial subset.\n\n\n\nThe output includes:\n\nA times series\nThe annual cycle\nAnomalies relative to the annual cycle.\n\nThe site generates basic plots of the output, that can be downloaded either in eps or pdf format. The data itself can be downloaded as the raw data (txt format) or as a netcdf file. Both formats include detailed metadata along with the data itself.\n\n\n\n\nFig. 4: KNMI Climate Explorer time page presenting the time series output.\n\n\n\n\nHow to plot this data?\n\nThe downloaded time series can be used for various analyses and visualisations.\nIn this example, we perform a simple sanity check on the data by exploring the variability and trends in the climate over the historical period for the Mopani District. Specifically, we present annual anomalies for daily maximum and daily minimum temperature and rainfall.\n\nAnalysis steps\n\n\nCalculation of annual mean or total values for daily maximum and minimum temperature and rainfall.\n\nWe use a July–June year to align with the malaria season, which primarily occurs in summer.\n\nCalculate the average (baseline) climate for the 30-year period 1981-2010.\n\nThis is a standard climatological baseline and corresponds with relatively complete station coverage globally.\n\n\nCompute anomalies by subtracting the baseline from each year’s value.\nInclude the metadata #/value (station count) as an annual average to provide an indication of the data quality across the record.\n\n\nInterpretation and discussion\n\n\nDaily Maximum Temperature (Tmax): The average is 29°C (Fig. 5). The time series shows considerable year-to-year variability and an overall warming trend.\nDaily Minimum Temperature (Tmin): The average is 15.6°C (Fig. 6). Similarly, there is variability and a suggested warming trend.\nAnnual Rainfall: The mean total rainfall is approximately 532 mm. The record shows strong interannual variability with multi-year wet or dry spells, but no clear long-term trend.\n\nNote: South Africa historically maintained dense rainfall, and to a lesser extent temperature, station networks operated by the South African Weather Service, the Agricultural Research Council and other organisations. The data for these networks were combined and made freely available in 2000. This is the key reason for the high density of stations being utilized in the CRU dataset during the period 1904 - 2001 for rainfall and for 1951-2001 for the temperatures. The number of operational weather stations has decreased significantly during the last few decades and only a few of these stations make their data available to be used in datasets like CRU.\n\nAdvice to users\n\nIn this example, the user is advised not to use the temperature data for the period pre-1951 since very few station records are used to calculate the values. Also, there are no other sources of observed climate data against which to evaluate the skill of this dataset during this period. The data for most recent decades should be used with caution and the user is advised to evaluate the dataset against other available datasets.\nThe rainfall dataset may be used since the maximum number of stations are utilised for the majority of the period. Rainfall, and especially convective rainfall, is highly localized and episodic. Therefore the proximity of the stations to the target location is far more critical in comparison to temperature which is far more spatially and temporally consistent. CRU does not provide the exact location of the stations and therefore it is still advised to evaluate the dataset against other datasets, especially for the more recent decades.\n\n\n\n\nFig. 5: CRU TS annual (July - June) average daily maximum temperature anomalies and number of stations for the Mopani District (average gridcell values for domain lon 30 - 32, lat -24.5 - -23) for the period 1901-2023.\n\n\n\n\n\n\n\nFig. 6: CRU TS annual (July - June) average daily minimum temperature anomalies and number of stations for the Mopani District (average gridcell values for domain lon 30 - 32, lat -24.5 - -23) for the period 1901-2023.\n\n\n\n\n\n\n\nFig. 7: CRU TS annual (July - June) total rainfall anomalies (%) and number of stations for the Mopani District (average gridcell values for domain lon 30 - 32, lat -24.5 - -23) for the period 1901-2023.\n\n\n\nThe CRU TS mean annual total rainfall over this Mopani District is around 532 mm. It shows strong year to year variability, with some longer periods of above or below average rainfall. No clear trends in the rainfall are evident.\nSouth Africa historically had an extensive rainfall station network and this is evidenced by the maximum number of stations being used to calculate this dataset for this region from 1904 - 2001. The decrease in station count post 2001 is due to both the reduction in active weather stations, but also in the number of stations that make their data available for use in datasets like CRU TS. The user is advised to evaluate the dataset against other datasets, especially for the more recent decades.\n\n\n\nHow can this data be used in disease modelling?\n\nMalaria exhibits marked seasonality, characterised by cyclical increases in transmission intensity. Incidence tends to peak during the rainy season, which spans approximately from October to April across much of southern Africa. This seasonal amplification is largely driven by climatic conditions that enhance Anopheles vector survival, breeding site availability, and parasite development rates, collectively contributing to increased vector density and transmission potential.\n\nPreparing the data\nUsing the CRU TS dataset, we obtain specific values for temperature over time, and model the historic impact of climatology on the vector population and subsequent incidence. We use mean air temperature as a proxy for surface temperatures.\nThere are different approaches to include environmental conditions into an infectious disease model. In this example, we use the temperature data from Bulawayo to develop a seasonal forcing function that mimics the seasonal pattern of malaria transmission. We achieve this with the following cossine function, and fit it to the data to obtain the values of the amplitude of the peak and of (the phase angle that indicates timing of the peak): \\[\n1 + amp \\times cos(2  \\pi \\times (\\frac{time}{365} - \\phi))\n\\]\nYou may need to adjust the function based on the transmission pattern in different contexts. Some countries may have more bimodal transmission (two peaks), a wide flat plateau, or many irregularly spaced peaks per year.\n\n\nShow the code\n# Load the data \ntemperature_values &lt;- read_csv(\"data/tas_mon_CRU_TS-4.08_190101-202312_Bulawayo.csv\") |&gt; \n  select(time, tas) |&gt; \n  mutate(tas = tas-273) |&gt; #convert from Kelvin to Celsius\n  filter(time &gt;= ymd(\"2010-01-01\") & time &lt;= ymd(\"2020-12-31\")) # start date of data\n\nggplot() +\n  geom_line(data = temperature_values, aes(x = time, y = tas), colour = theme_health_radar_colours[8]) +\n  geom_point(data = temperature_values, aes(x = time, y = tas), colour = theme_health_radar_colours[8]) +\n  theme_health_radar() +\n  scale_colour_manual_health_radar() +\n  labs(\n    title = \"Total monthly temperatures in Bulawayo from 2010 to 2020\",\n    x = \"Year\",\n    y = \"Temperature values (Celsius)\",\n    caption = str_wrap(\"Changes in temperature over time. Source: tas_mon_CRU-TS 4.08\")\n  ) +\n  theme(legend.position = \"none\") +\n  ylim(0, NA)\n\n\n\n\n\n\n\n\n\n\n\nShow the code\n# Convert one year of temperature data into seasonal forcing function by normalisation of values\n\ntemperature_10yrs &lt;- map_dfr(0:9, function(i) {\n  temperature_values |&gt; \n    filter(time &gt;= ymd(\"2018-01-01\") & time &lt;= ymd(\"2018-12-31\")) |&gt;\n    arrange(time) |&gt;\n    mutate(\n      scaled_rain = (tas - min(tas)) / (max(tas) - min(tas)),\n      synthetic_time = time + years(i),\n      year = i + 1\n    )\n})\n\n# Fit cosine model\nfit_data &lt;- temperature_10yrs |&gt;\n  mutate(\n    times = yday(synthetic_time), # add day-of-year\n    y = scaled_rain\n  )\n\nfit &lt;- nls(\n  y ~ 1 + amp * cos(2 * pi * (times / 365 - phi)), # seasonal forcing function\n  data = fit_data,\n  start = list(amp = 0.5, phi = 0.8) # choose starting values\n)\n\n#summary(fit) # look at values for amp and phi\n\n# Combine with initial data\ntemperature_10yrs &lt;- temperature_10yrs |&gt;\n  mutate(\n    times = yday(synthetic_time),\n    predicted = predict(fit, newdata = data.frame(times = yday(synthetic_time))) # predict from fit\n  )\n\ntemperature_10yrs |&gt;\nggplot() +\n  geom_line(aes(x = synthetic_time, y = predicted), colour = theme_health_radar_colours[6], show.legend = F) +\n  labs(\n    title = \"Fitted Seasonal Curve over 10 Years\",\n    x = \"Year\", \n    y = \"Scaled temperature\",\n    caption = str_wrap(\"Using scaled temperature values from 2018 we fit a seasonal curve to obtain inputs for the seasonal forcing function. The fit predicted values for amp = 0.4302 and phi = 0.9913.\")\n  ) +\n  theme_health_radar()\n\n\n\n\n\n\n\n\n\nWe incorporate this into the model to see the seasonal pattern in incidence.\n\n\nShow the code\n# Time points for the simulation\nY = 10 # Years of simulation\ntimes &lt;- seq(0, 365*Y, by = 1)\n\n\n# SEACR-SEI model\nseacr &lt;- function(times, start, parameters) { \n  with(as.list(c(start, parameters)), {\n    P = S + E + A + C + R + G\n    M = Sm + Em + Im\n    m = M / P\n   \n    # Seasonality\n    seas =  1+amp*cos(2*pi*(times/365 - phi))\n    \n    # Force of infection\n    Infectious = C + zeta_a*A #infectious reservoir\n    lambda.v &lt;- seas*a*M/P*b*Im/M\n    lambda.h &lt;- seas*a*c*Infectious/P\n    \n    # Differential equations/rate of change\n    dSm = mu_m*M - lambda.h*Sm - mu_m*Sm\n    dEm = lambda.h*Sm - (gamma_m + mu_m)*Em\n    dIm = gamma_m*Em - mu_m*Im\n    \n    dS = mu_h*P - lambda.v*S + rho*R - mu_h*S\n    dE = lambda.v*S - (gamma_h + mu_h)*E\n    dA = pa*gamma_h*E + pa*gamma_h*G - (delta + mu_h)*A\n    dC = (1-pa)*gamma_h*E + (1-pa)*gamma_h*G - (r + mu_h)*C\n    dR = delta*A + r*C - (lambda.v + rho + mu_h)*R\n    dG = lambda.v*R - (gamma_h + mu_h)*G\n    \n    dCInc = lambda.v*(S+R)\n    \n    \n    # Output\n    list(c(dSm, dEm, dIm, dS, dE, dA, dC, dR, dG, dCInc))\n  })\n}\n\n\n# Initial values for compartments(approximations for Bulawayo, Zimbabwe)\ninitial_state &lt;- c(Sm = 1000000, # susceptible mosquitoes\n                   Em = 100000, # exposed and infected mosquitoes\n                   Im = 200000, # infectious mosquitoes\n                   S = 350000, # susceptible humans\n                   E = 35000, # exposed and infected humans\n                   A = 130000, # asymptomatic and infectious humans\n                   C = 65000, # clinical and symptomatic humans\n                   R = 100000, # recovered and semi-immune humans\n                   G = 10000, # secondary-exposed and infected humans\n                   CInc = 0 # cumulative incidence\n)\n# Country-specific parameters should be obtained from literature review and expert knowledge\nparameters &lt;- c(a = 0.45, # human biting rate\n                b = 0.5, # probability of transmission from mosquito to human\n                c = 0.6, # probability of transmission from human to mosquito\n                r = 1/21, # rate of loss of infectiousness after treatment\n                rho = 1/160, # rate of loss of immunity after recovery\n                delta = 1/150, # natural recovery rate\n                zeta_a = 0.4, # relative infectiousness of of asymptomatic infections\n                pa = 0.4, # probability of asymptomatic infection\n                mu_m = 1/10, # birth and death rate of mosquitoes\n                mu_h = 1/(62*365), # birth and death rate of humans\n                gamma_m = 1/10, # extrinsic incubation rate of parasite in mosquitoes\n                gamma_h = 1/10, # extrinsic incubation rate of parasite in humans\n                amp = 0.4302, # amplitude of seasonality\n                phi = 0.9913 # phase angle, start of season\n                )\n\n\n# Run the model\nout &lt;- ode(y = initial_state, \n           times = times, \n           func = seacr, \n           parms = parameters)\n\n# Post-processing model output into a dataframe\n\ndf &lt;- as_tibble(as.data.frame(out)) |&gt; \n  mutate(P = S + E + A + C + R + G,\n         M = Sm + Em + Im,\n         Inc = c(0, diff(CInc))) |&gt; \n  pivot_longer(cols = -time, names_to = \"variable\", values_to = \"value\") |&gt; \n  mutate(date = ymd(\"2010-01-01\") + time)\n\ndf |&gt; \n  filter(variable == \"Inc\", time &gt; 100) |&gt; \n  ggplot() +\n  geom_line(aes(x = date, y = value, colour = variable), show.legend = F) +\n  theme_health_radar() +\n   theme(axis.text.x = element_text(angle = 45, hjust = 1, size = 8)) +\n  scale_colour_manual_health_radar() +\n  scale_y_continuous(labels = scales::label_number(suffix = \" K\", scale = 1e-3)) +\n  scale_x_date(\n    date_labels = \"%b %Y\",\n    date_breaks = \"6 months\") +\n  labs(\n    title = \"Changes to incidence over time\", \n    x = \" \",\n    y = \"Cases\",\n    colour = \"Population\",\n    caption = str_wrap(\"We see the seasonal pattern and the peak malaria season between October and April and lowest between June and September (the cold, dry months). The inclusion of control interventions or other dynamics would shift incidence on a year-by-year basis. Source: Model output\")\n  )\n\n\n\n\n\n\n\n\n\n\n\nPolicy implications\nIncorporating time-varying transmission into the model reflects the real-world seasonality of malaria. This can be used to plan the timing of interventions, aligning delivery to the peak of the season across different geographical regions. These differences in risk (across geographic regions and seasons) are also important insights for resource allocation and health systems planning, ensuring consistent access to care and other control measures.\nThis model uses a seasonal forcing function as opposed to explicit climatic data, and as such the model does not capture details such as extreme weather events, such as 2017’s Cyclone Dineo (which may have contributed to increases in malaria cases across southern Africa) or other long-term periodic climatic phenomena such as the El Niño-Southern Oscillation (ENSO) cycle. We show the explicit use of temperature and rainfall using ERA5 data here.\n\n\n\n\n\n\n\n Back to top"
  },
  {
    "objectID": "datasources/drafts/the-lancet/lancet_malaria.html",
    "href": "datasources/drafts/the-lancet/lancet_malaria.html",
    "title": "The Lancet special issues on malaria",
    "section": "",
    "text": "Overview\n\n\n\nAbout the data\n\nThe Lancet, a prominent medical journal, frequently publishes special issues and series focusing on critical global health topics, including malaria. These special issues compile extensive research, reviews, and expert opinions to provide a comprehensive overview of the state of knowledge and progress in the fight against malaria.\n\nAccessing the data\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Duis sagittis posuere ligula sit amet lacinia. Duis dignissim pellentesque magna, rhoncus congue sapien finibus mollis. Ut eu sem laoreet, vehicula ipsum in, convallis erat. Vestibulum magna sem, blandit pulvinar augue sit amet, auctor malesuada sapien. Nullam faucibus leo eget eros hendrerit, non laoreet ipsum lacinia. Curabitur cursus diam elit, non tempus ante volutpat a. Quisque hendrerit blandit purus non fringilla. Integer sit amet elit viverra ante dapibus semper. Vestibulum viverra rutrum enim, at luctus enim posuere eu. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\n\nWhat does the data look like?\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Duis sagittis posuere ligula sit amet lacinia. Duis dignissim pellentesque magna, rhoncus congue sapien finibus mollis. Ut eu sem laoreet, vehicula ipsum in, convallis erat. Vestibulum magna sem, blandit pulvinar augue sit amet, auctor malesuada sapien. Nullam faucibus leo eget eros hendrerit, non laoreet ipsum lacinia. Curabitur cursus diam elit, non tempus ante volutpat a. Quisque hendrerit blandit purus non fringilla. Integer sit amet elit viverra ante dapibus semper. Vestibulum viverra rutrum enim, at luctus enim posuere eu. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\n\nKey points to consider\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Duis sagittis posuere ligula sit amet lacinia. Duis dignissim pellentesque magna, rhoncus congue sapien finibus mollis. Ut eu sem laoreet, vehicula ipsum in, convallis erat. Vestibulum magna sem, blandit pulvinar augue sit amet, auctor malesuada sapien. Nullam faucibus leo eget eros hendrerit, non laoreet ipsum lacinia. Curabitur cursus diam elit, non tempus ante volutpat a. Quisque hendrerit blandit purus non fringilla. Integer sit amet elit viverra ante dapibus semper. Vestibulum viverra rutrum enim, at luctus enim posuere eu. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\n\n\n\n\n\n\n Back to top"
  },
  {
    "objectID": "datasources/drafts/pmi/pmi.html",
    "href": "datasources/drafts/pmi/pmi.html",
    "title": "President’s Malaria Initiative (PMI)",
    "section": "",
    "text": "OverviewVisualisationsModelling\n\n\n\nAbout the data\n\nThe U.S. Government’s focal point for the global fight against malaria, the U.S. President’s Malaria Initiative has helped save millions of lives and contributed to substantial gains in education, productivity, and economic development. PMI started as a five-year initiative with the goal of reducing malaria deaths by 50% in 15 African countries. Thanks to the bipartisan support of Congress and the generosity of the American people, PMI now works in 24 partner countries in sub-Saharan Africa and three programs in the Greater Mekong Subregion in Southeast Asia–representing about 90% of the global malaria burden. PMI delivers cost-effective, life-saving malaria interventions alongside catalytic technical and operational assistance to equip and empower partner countries to end malaria.\n\nAccessing the data\n\nInformation on PMI’s life-saving malaria interventions and operational support to partner countries is available on the PMI website\n• Under the “Where We Work” tab from the website, fact sheets for the 27 partner countries can be accessed in PDF format. You can right click on the country’s name to access the country’s fact sheet, yearly Malaria Operational Plans and download them.\n• Under the “Impact” tab, data on malaria burden, PMI funding, PMI commodity investment and the program’s impact across partner countries are presented through an interactive map or illustrative graph. This map allows users to hover over individual countries to access detailed information on malaria cases, deaths, and associated metrics. Aside this, filters are also available to select the region or the country and sliders to select the year.\n• In the “Resources” section, annual reports, comprehensive one-year Malaria Operational Plans (MOPs), technical documents, and reports detailing interventions in each partner country by year are available for download in PDF format. A search can be refined through the use of filters. The filters are for Technical areas, countries and dates.\n\nWhat does the data look like?\n\nThe data are provided for each country on an annual basis and can be accessed through an interactive map or graphical representations. However, no downloadable Excel or CSV files are available. Users must manually extract the data from the map or graph in order to generate Excel or CSV files, should they wish to conduct analyses beyond those available on the website. The following examples illustrate the provided information.\n\n\n\nKey points to consider\n\nOn the PMI’s website, the data are provided for each country on an annual basis and can be accessed through an interactive map or graphical representations.\n\nThe data is sourced mostly from the World Malaria Report (WMR)\nDownload Options: There are no downloadable Excel or CSV files available.\nManual Data Extraction: Users need to manually extract data from the map or graph to create Excel or CSV files for further analysis.\nYearly data might overlook the seasonal trends in malaria transmission, which are affected by variables like rainfall, temperature, and vectors abundance. This can result in either an overestimation or underestimation of the disease burden and the effectiveness of interventions.\nBehavioral Changes: Changes in population behaviors, such as increased mobility, changes in agricultural practices, or urbanization, can influence transmission dynamics but may not be captured in annual data.\n\n\n\n\nHow to use this data\n\n\n\nShow the code\n# Load packages ####\nlibrary(readxl)\nlibrary(tidyverse)\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n\nShow the code\nlibrary(reshape2)\n\n\n\nAttaching package: 'reshape2'\n\nThe following object is masked from 'package:tidyr':\n\n    smiths\n\n\nShow the code\nsource(here::here(\"theme_health_radar.R\"))\n\n\nAnnual malaria incidence in different countries over time can be easily visualised using line plots. The points plotted at each data point help to communicate that these are annual data, rather than continuous.\n\n\nShow the code\nincidence_pmi &lt;- read_excel(\"data/malaria_incidence_PMI.xlsx\")\n\n# Reshape the data from wide to long format\nincidence_long &lt;- incidence_pmi |&gt;\n  pivot_longer(cols = -Country, names_to = \"Year\", values_to = \"Incidence\") |&gt;\n  mutate(Year = as.numeric(Year))  # Convert Year to numeric for plotting\n\n# Convert 'Incidence' to numeric\nincidence_long$Incidence &lt;- as.numeric(as.character(incidence_long$Incidence))\n\n# Create a ggplot object with incidence_long data\nggplot(incidence_long, aes(x = Year, y = Incidence, color = Country, group = Country)) +\n  # Add lines connecting data points for each country\n  geom_line() +\n  # Add points at each data point for each country\n  geom_point() +\n  # Customize the x-axis to show every year in the data range\n  scale_x_continuous(breaks = min(incidence_long$Year):max(incidence_long$Year)) + \n  # Customize the y-axis to show breaks from 0 to 400 in increments of 50\n  scale_y_continuous(breaks = seq(0, 400, 50)) + \n  # Apply a custom theme \n  theme_health_radar() +\n  # Apply a custom color scale \n  scale_colour_manual_health_radar() +  \n  # Rotate x-axis text labels 45 degrees and adjust horizontal justification\n  theme(axis.text.x = element_text(angle = 45, hjust = 0.5)) +\n  # Add labels and title to the plot\n  labs(\n    title = \"Annual malaria incidence (2009-2022)\",\n    x = \"Year\",\n    y = \"Incidence (per 1000 people)\",\n    colour = \"Country\",\n    # Add a caption with wrapped text for better readability\n    caption = str_wrap(\"The annual malaria incidence (per 1000 people) in Angola, Mozambique, Zambia, and Zimbabwe from 2008 to 2022. Mozambique consistently shows the highest incidence, with a slight decline over the years, stabilizing at around 320 cases per 1000 people by 2022. Zambia’s incidence initially increases until 2014, after which it starts to decline. In Angola, malaria incidence shows an initial decline from 2009 to 2012, followed by a steady rise peaking in 2021, indicating a worsening malaria burden over time. Zimbabwe shows the lowest malaria incidence, marked by significant variability, with the lowest values seen after 2020. These trends highlight differing malaria control progress and challenges across the four countries. Source: World Malaria Report\", width = 85)\n  )\n\n\n\n\n\n\n\n\n\nA paired bar plot is used to compare ITN usage in children under 5 in various countries, before and after PMI implementation.\n\n\nShow the code\ncoverage_itn &lt;- read_excel(\"data/nets_under5_PMI.xlsx\")\n\n# Reshape the data for ggplot\ncoverage_itn_melted &lt;- melt(coverage_itn, id.vars = \"Country\", variable.name = \"Type\", value.name = \"Percentage\")\n\n# Create a ggplot object with coverage_itn_melted data\nggplot(coverage_itn_melted, aes(x = Country, y = Percentage, fill = Type)) +\n  # Add bar plots with identity stat and dodge position for side-by-side bars\n  geom_bar(stat = \"identity\", position = position_dodge()) +\n  # Apply a custom theme \n  theme_health_radar() +\n  # Apply a custom fill scale \n  scale_fill_manual_health_radar() +\n  # Add labels and title to the plot\n  labs(\n    title = \"ITN usage among children under 5\",\n    x = \"\",  # No label for the x-axis\n    y = \"Percentage (%)\",\n    # Add a caption with wrapped text for better readability\n    caption = str_wrap(\"The baseline and endline percentage Insecticide Treated Net (ITN) usage among children under 5 living in Angola, Mozambique, Zambia, and Zimbabwe. The baseline percentage indicates the ITN usage by children under 5 prior to the implementation of the President's Malaria Initiative (PMI), while the endline percentage indicates ITN usage in children under 5 after the implementation of the PMI. Zambia shows the highest endline percentage of ITN coverage, with a significant increase from the baseline. Mozambique shows the most pronounced increase from the baseline. Angola exhibits a relatively small increase in the percentage use of ITNs by children under 5. Source: World Malaria Report\", width = 90),\n    fill = \"\"  # No label for the fill legend\n  )\n\n\n\n\n\n\n\n\n\nThe percentage of women receiving Intermittent Preventative Treatment in pregnancy (IPTp) in various countries is represented using a simple bar plot.\n\n\nShow the code\n# Define a single colour for the plot\nsingle_color &lt;- \"#1b9e77\"\n\ncoverage_iptp &lt;- read_excel(\"data/IPTP_coverage_PMI.xlsx\")\n\n# Create a ggplot object with coverage_iptp data\nggplot(coverage_iptp, aes(x = Country, y = Percentage)) +\n  # Add bar plots with identity stat and a single fill color\n  geom_bar(stat = \"identity\", fill = single_color) +\n  # Apply a custom theme \n  theme_health_radar() +\n  # Add labels and title to the plot\n  labs(\n    title = \"Percentage of women receiving IPTp\",\n    y = \"Percentage (%)\",\n    x = \"\",  # No label for the x-axis\n    # Add a caption with wrapped text for better readability\n    caption = str_wrap(\"The percentage of women receiving Intermittent Preventative Treatment in pregnancy (IPTp) in Angola, Mozambique, Zambia and Zimbabwe. Zambia exhibits the highest coverage, while the other countries have less than 30% of women receiving IPTp. Source: World Malaria Report\", width = 100)\n  )\n\n\n\n\n\n\n\n\n\n\n\n\nHow can this data be used in disease modelling?\n\nThe data available on the PMI website is valuable for malaria modelling in several ways. It includes indicators that can help in predicting the spread of malaria, assessing the impact of interventions, or understanding regional differences in malaria dynamics. Below are some of the indicators:\n\nEstimated malaria incidence per year in each of the partner countries\nEstimated malaria mortality rate per year in each of the partner countries\nPercentage of children under 5 who slept under a long-lasting insecticide treated net (LLIN) the night before the survey before and after PMI’s intervention\nPercentage of pregnant women who received at least three doses of preventive treatment during their last pregnancy before and after PMI’s intervention\nPMI’s funding in each country.\n\nIn the simple example below, we obtain data on Intermittent preventive treatment of malaria during pregnancy (IPTp) access and usage rates in Angola, and assess the impact of these intervention on malaria cases. IPTp is intended to prevent malaria infection by providing pregnant women with three doses of an artemisinin-based combination therapy (ACT). In turn, this prevents risks associated with pregnancy-related complications caused by malaria infection, such as maternal anemia and low birth weights.\n\nModel assumptions\n\nThe total population size remains constant over time and mosquito populations are asusmed to be at equilibrium.\nBased on the data obtained from PMI, 19% of women are receiving IPTp in Angola. After three years we incorporate a potential policy change that increases coverage to 50 and/or 70%, respectively.\nAll IPTp doses are completed and the intervention is 100% effective. IPTp reduces the likelihood of infection and further infectiousness, and also shortens the time to recovery after an infection.\n0.02% of the Angolan population are women of reproductive age WHO data.\nThe fertility rate \\(f\\) is defined as the average number of births per woman over her lifetime. The average childbearing years span from 15 to 45 years of age. \\(f\\) is assumed to be constant over time, and applies uniformly to all susceptible women.\n\nForce of infection\nThe force of infection is typically expressed in terms of the number of new infections per susceptible individual per unit of time. It is often represented as a function of various factors, including malaria transmission dynamics, the prevalence of infection within the population, and specific interventions aimed at reducing transmission. In this example, the force of infection includes a seasonal forcing function, and current coverage levels of IPTp. For a more detailed explanation of seasonal forcing and the impact of weather dynamics on malaria transmission, please see the Climate Research Unit Timeseries (CRU TS) page. This example also extends other models on this website by demonstrating three scenarios of IPTp coverage.\n\n\nShow the code\n# Load packages ####\nlibrary(deSolve)\nlibrary(tidyverse)\n\n\n# Time points for the simulation\nY = 10 # Years of simulation\ntimes &lt;- seq(0, 365*Y, 1)\n\n# Define the SEIR-like model for malaria with time-varying IPTp coverage\niptpmodel &lt;- function(t, x, parms)  {\n  with(as.list(c(parms, x)), {\n    \n    P = S + E + A + C + R + P_S + P_E + P_A + P_C\n    Infectious = C + kappa_a*A + epsilon*P_C + epsilon*kappa_a*P_A # infectious resevoir\n    \n    # Seasonal forcing function\n    seas &lt;- 1 * (1 + amp * cos(2 * pi * (t - phi) / 365))\n    \n    # Time-dependent IPTp coverage, new coverage rates after year 5\n    current_iptp &lt;- ifelse(t &lt; (3*365), 0.19, iptp) \n    \n    # Force of infection\n    lambda = seas*(a^2*b*c*m*Infectious/P)/(a*c*Infectious/P+mu_m)*(gamma_m/(gamma_m + mu_m))\n    \n    # Pregnancy rate\n    omega &lt;- f*S/(0.0002*P) # 0.02% of population are women of reproductive age\n    \n    # General population\n    dS = mu_h*P - lambda*S - omega*S + rho*R - mu_h*S\n    dE = lambda*S - (gamma_h + mu_h)*E\n    dA = pa*gamma_h*E - (delta + mu_h)*A\n    dC = (1-pa)*gamma_h*E - (r + mu_h)*C\n    dR = delta*A + theta*delta*P_A + r*C + theta*r*P_C - (rho + mu_h)*R\n    \n\n    # Pregnant compartments under IPTp\n    dP_S &lt;- omega*S - (1-current_iptp)*lambda*P_S - mu_h*P_S\n    dP_E &lt;- (1-current_iptp)*lambda*P_S - gamma_h*P_E - mu_h*P_E\n    dP_A &lt;- pa*gamma_h*P_E - theta*delta*P_A - mu_h*P_A\n    dP_C &lt;- (1-pa)*gamma_h*P_E - theta*r*P_C - mu_h*P_C\n      \n    # Incidence and clinical cases\n    dGCInc = lambda*S \n    dPCInc = (1-current_iptp)*lambda*P_S\n    dTCInc = lambda*S + (1-current_iptp)*lambda*P_S\n    \n    output &lt;- c(dS, dE, dA, dC, dR, dP_S, dP_E, dP_A, dP_C, dGCInc, dPCInc, dTCInc)\n    list(output)\n  })\n}\n\n\n# Initial values (state variables)\n\nstart &lt;- c(S = 15000000, # susceptible humans\n           E = 10000000, # exposed and infected humans\n           A = 7000000, # asymptomatic and infectious humans\n           C = 2000000, # clinical and symptomatic humans\n           R = 0, # recovered and semi-immune humans\n           P_S = 10000, # susceptible pregnant women\n           P_E = 4000, # exposed and infected pregnant women\n           P_A = 2000,  # asymptomatic and infectious pregnant women\n           P_C = 1000, # clinical and symptomatic pregnant women\n           GCInc = 0, # cumulative incidence in the general population\n           PCInc = 0, # cumulative incidence in pregnant women\n           TCInc = 0 # total cumulative incidence\n          ) \n\n# Parameters\nparms &lt;- c(a = 0.38, # human biting rate\n           b = 0.3, # probability of transmission from mosquito to human\n           c = 0.397, # probability of transmission from human to mosquito\n           gamma_m = 1/10, # extrinsic incubation rate of parasite in mosquitoes\n           mu_m = 1/15, # birth and death rate of mosquitoes\n           mu_h =  1/(61*365), # birth and death rate of humans\n           gamma_h = 1/14, # extrinsic incubation rate of parasite in humans\n           pa = 0.2, # probability of asymptomatic infection\n           delta = 1/130, # natural recovery rate\n           r = 1/7, # rate of loss of infectiousness after treatment\n           rho = 1/160, # rate of loss of immunity after recovery\n           m = 3, # ratio of mosquito to human populations\n           kappa_a = 0.2, # relative infectiousness of asymptomatic infections\n           amp = 0.6, # amplitude of seasonality\n           phi = 186,  #phase angle; start of season\n           epsilon = 0.75,  # reduced infectiousness due to IPTp\n           theta = 1.25, # increased recovery rate due to IPTp\n           f = 5/30/365 # children born per woman over lifetime (30 reproductive years)\n           )\n\n\n# Run model and post-processing function\nrun_model &lt;- function(times, y, func, parms, scenario = \"Baseline\") {\n  \n  mod &lt;- ode(times = times, y = start, func = func, parms = parms)\n  \n  fd &lt;- as_tibble(as.data.frame(mod)) %&gt;% \n    mutate(\n      P = S + E + A + C + R + P_S + P_E + P_A + P_C,\n      Preg =  P_S + P_E + P_A + P_C,\n      GInc = c(0, diff(GCInc)),  # New infections (Incidence)\n      PInc = c(0, diff(PCInc)),  # New infections (Incidence)\n      TInc = c(0, diff(TCInc)),  # New infections (Incidence)\n      date = as.Date(\"2015-01-01\") + times,  # Time in years\n      year = year(date)) %&gt;%\n    pivot_longer(names_to = \"variable\", cols = -c(time, date, year)) %&gt;%\n    mutate(scenario = scenario)\n  \n  return(fd)\n}\n\n# IPTp coverage scenarios\n# Baseline (19%), 50%, 70% IPTp coverage\niptp_scenarios &lt;- c(0.19, 0.5, 0.7) \n\n# Run the model for each IPTp scenario and store the results\nresults &lt;- lapply(iptp_scenarios, function(iptp_value) {\n  parms[\"iptp\"] &lt;- iptp_value\n  run_model(times, start, iptpmodel, parms, scenario = paste0(\"IPTp = \", iptp_value * 100, \"%\"))\n})\n\n# Combine results for all scenarios\nresults_combined &lt;- bind_rows(results)\n\n\n\n\nImplications for transmission and incidence\nIntermittent Preventive Treatment in Pregnancy (IPTp) reduces the number of infections in pregnant women, who are an otherwise vulnerable reservoir for malaria parasites. IPTp is often used in conjunction with other interventions such as ITNs, however, in this example we demonstrate the impact of scenarios of increasing IPTp coverage on incidence.\n\n\nShow the code\n# Plot new malaria cases (cases) over time for each IPTp scenario\nresults_combined %&gt;% \n  filter(variable %in% c(\"GInc\", \"PInc\", \"TInc\"), time &gt; 100) %&gt;% \nggplot() +\n  geom_line(aes(x = date, y = value, color = scenario)) +\n  facet_wrap(~variable, labeller = labeller(variable = c(GInc = \"Non-pregnant Population\", \n                                                           PInc = \"Pregnant women\", \n                                                           TInc = \"Total population\"))) +\n  scale_colour_manual_health_radar() +\n  theme_health_radar() +\n  scale_x_date(date_breaks = \"3 years\", date_labels = \"%Y\") +\n  labs(title = \"Impact of IPTp Coverage on malaria incidence in Angola\",\n    x = \"Year\", \n    y = \"Daily incidence\", \n    caption = str_wrap(\"This graph demonstrates that higher IPTp coverage levels significantly reduces malaria incidence over time. With increasing coverage from 19% to 70% in 2018, the incidence of malaria steadily declines in the total population (including amongst women who are not pregnant, as well as men and children). This highlights the importance of widespread IPTp uptake in lowering the overall disease burden.  Source: Model output\"),\n    color = \"IPTp Coverage\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n Back to top"
  },
  {
    "objectID": "datasources/drafts/grid3/grid3.html",
    "href": "datasources/drafts/grid3/grid3.html",
    "title": "GRID3",
    "section": "",
    "text": "Overview\n\n\n\nAbout the data\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Duis sagittis posuere ligula sit amet lacinia. Duis dignissim pellentesque magna, rhoncus congue sapien finibus mollis. Ut eu sem laoreet, vehicula ipsum in, convallis erat. Vestibulum magna sem, blandit pulvinar augue sit amet, auctor malesuada sapien. Nullam faucibus leo eget eros hendrerit, non laoreet ipsum lacinia. Curabitur cursus diam elit, non tempus ante volutpat a. Quisque hendrerit blandit purus non fringilla. Integer sit amet elit viverra ante dapibus semper. Vestibulum viverra rutrum enim, at luctus enim posuere eu. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\n\nAccessing the data\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Duis sagittis posuere ligula sit amet lacinia. Duis dignissim pellentesque magna, rhoncus congue sapien finibus mollis. Ut eu sem laoreet, vehicula ipsum in, convallis erat. Vestibulum magna sem, blandit pulvinar augue sit amet, auctor malesuada sapien. Nullam faucibus leo eget eros hendrerit, non laoreet ipsum lacinia. Curabitur cursus diam elit, non tempus ante volutpat a. Quisque hendrerit blandit purus non fringilla. Integer sit amet elit viverra ante dapibus semper. Vestibulum viverra rutrum enim, at luctus enim posuere eu. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\n\nWhat does the data look like?\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Duis sagittis posuere ligula sit amet lacinia. Duis dignissim pellentesque magna, rhoncus congue sapien finibus mollis. Ut eu sem laoreet, vehicula ipsum in, convallis erat. Vestibulum magna sem, blandit pulvinar augue sit amet, auctor malesuada sapien. Nullam faucibus leo eget eros hendrerit, non laoreet ipsum lacinia. Curabitur cursus diam elit, non tempus ante volutpat a. Quisque hendrerit blandit purus non fringilla. Integer sit amet elit viverra ante dapibus semper. Vestibulum viverra rutrum enim, at luctus enim posuere eu. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\n\nKey points to consider\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Duis sagittis posuere ligula sit amet lacinia. Duis dignissim pellentesque magna, rhoncus congue sapien finibus mollis. Ut eu sem laoreet, vehicula ipsum in, convallis erat. Vestibulum magna sem, blandit pulvinar augue sit amet, auctor malesuada sapien. Nullam faucibus leo eget eros hendrerit, non laoreet ipsum lacinia. Curabitur cursus diam elit, non tempus ante volutpat a. Quisque hendrerit blandit purus non fringilla. Integer sit amet elit viverra ante dapibus semper. Vestibulum viverra rutrum enim, at luctus enim posuere eu. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\n\n\n\n\n\n\n Back to top"
  },
  {
    "objectID": "datasources/drafts/climate-data-store/climate_data_store.html",
    "href": "datasources/drafts/climate-data-store/climate_data_store.html",
    "title": "Climate Data Store",
    "section": "",
    "text": "Overview\n\n\n\nAbout the data portal\n\nThe Climate Data Store (CDS), is a comprehensive and open access platform operated by European Centre for Medium-Range Forecasting (ECMWF) for the Copernicus Climate Change Service (C3S).\nCDS is a Climate Data Repository providing access to a wide range of datasets including Observations (satellite and in-situ), Climate Reanalyses, Seasonal Forecasts, Climate Projections and Climate Indices. For each dataset, CDS provides an overview, download and documentation pages.\nThe site provides Training material to facilitate the use of datasets on the CDS. These include practical data processing workflows based on Jupyter notebooks; e-learning modules on key concepts behind the climate data types as well as learning resources from training events.\nThe site uses, and provides access to, earthkit which is a new open-source Python project developed by ECMWF that offers robust tools to accelerate workflows in weather and climate science. It streamlines data access, processing, analysis and visualization. At the time of publishing, earthkit is still in the BETA stage of development.\nThe CDS hosts a number of Applications which allow users to explore and visualize the historic, present and future climate.\n\nAccessing the data portal\n\nThe Climate Data Store can be accessed via the following url - https://climate.copernicus.eu/climate-data-store\n\n\n\n\nClimate Data Store landing page. Source: Screenshot from https://climate.copernicus.eu/climate-data-store, accessed 30 May 2025.\n\n\n\nUsers need to register or login to access many of the features on the climate Data Store (the login tab is found in the top right corner of the page). The CDS utilizes ECMWF user account which enables users to access the CDS as well as other ECMWF resources, events and courses. On CDS the user credentials are primarily used to track user activity, manage data access and ensure compliance with data licenses.\nAccess to the datasets is provided both interactively (manually over the web) or programmatically through an API service. The CDS provides an extensive User guide section which includes; CDS Documentation which provides users with a deeper understanding of what the Climate Data Store is and how best to use it; guidance on how to download data interactively via the CDS website and also how to get data programmatically via an API service.\n\nWhat datasets are available\n\nThe CDS provides a catalogue which lists available datasets. Users can filter this extensive list of datasets through faceted or text-based searches. The site hosts a number of European-focused datasets, so it’s helpful to filter by Spatial coverage to identify those datasets with Global coverage as these would include the southern Africa domain.\n\n\n\n\nClimate Data Store dataset catalogue filtered by global spatial coverage. Source: Screenshot from https://cds.climate.copernicus.eu/datasets?kw=Spatial+coverage%3A+Global, accessed 30 May 2025.\n\n\n\nThe datasets can also be filtered by Product type. The definitions of the types is provided below since they may not be easily understandable to a non-climate audience\n\nClimate indices: Quantitative measures derived from climate variables (e.g., temperature, precipitation) that capture key aspects of climate variability and change. Examples include the El Niño-Southern Oscillation (ENSO) index and the Standardized Precipitation Index (SPI).\nClimate projections: Simulated future climate conditions based on climate models that use different greenhouse gas emission scenarios. These projections provide insights into potential long-term changes in climate but are subject to uncertainties related to model assumptions and future human activities.\nDerived reanalysis: Climate datasets produced by applying additional calculations or transformations to primary reanalysis data. These may include indices, bias-corrected fields, or interpolated datasets that enhance usability for specific applications.\nIn-situ observations: Climate data collected directly at a specific location using ground-based instruments, such as weather stations, buoys, and radiosondes. These measurements provide high-accuracy climate information but have limited spatial coverage.\nReanalysis: A comprehensive dataset generated by combining historical climate observations with numerical weather models to reconstruct past climate conditions. Reanalysis datasets provide globally consistent and gridded climate information, widely used in climate research.\nSatellite observations: Climate data collected by remote sensing instruments aboard satellites, covering various atmospheric, oceanic, and land-surface parameters. These observations provide global coverage and long-term records of climate variables such as temperature, precipitation, and sea surface height.\nSeasonal forecasts: Predictions of climate conditions (e.g., temperature, precipitation) for upcoming months to a year, based on climate models and historical data. These forecasts help anticipate climate variations such as droughts, monsoons, and extreme weather events.\n\nSome key datasets that may be of interest are:\n\nSatellite observations\n\n\nPrecipitation monthly and daily gridded data from 1979 to present derived from satellite measurements The Global Precipitation Climatology Project (GPCP) provides global estimates of precipitation as monthly means and daily means, based on estimates using microwave and infrared satellite imagery. The dataset utilizes advanced data processing and calibration techniques to ensure accuracy and constancy of data.\n\n\nReanalysis\n\n\nERA5 hourly data on single levels from 1940 to present The ERA5 reanalysis outputs are grouped into datasets or catalogue entries. This dataset includes key variables of importance to the malaria modelling community including precipitation, near surface air temperatures and winds (and variables which can be used to calculate relative humidity). The spatial resolution is relatively course (0.25°), but it provides data at very high temporal resolution (hourly) and the dataset is updated daily with just a 5 day latency.\nERA5-Land hourly from 1950 to present ERA5-Land is a enhanced spatial resolution version of ERA5 providing data at 9km. It provides a large range of climatic, surface, vegetation and other variables. The dataset is updated daily with just a 5 day latency.\n\n\nSeasonal forecasts\n\n\nSeasonal forecast daily and subdaily data on single levels This catalogue provides a multi-system seasonal forecast service. CDS collects, processes and combines the output from several seasonal forecast models and makes them available of user-relevant applications. Forecasts of key variables such as temperature and precipitation are available for retrospective and future seasonal analysis\n\n\nClimate projections\n\n\nCMIP6 Climate projections This catalogue provides daily and monthly global climate model projections data from the sixth phase of the Coupled Model Intercomparison Project (CMIP6). A range of variables are provides from a large number of models covering both the historical and future period represented by eight future Shared Socioenomic Pathway (SSP) scenarios.\n\n\nKey points to consider\n\n\nStrengths\n\nThe Climate Data Store aims to be a one-stop shop for climate data and analysis. It hosts a very large number of key datasets and provides detailed guidance information, training and tools.\n\nLimitations\n\nThe CDS is large and can be confusing and intimidating. The focus is on Europe and not southern Africa.\n\nCiting the data portal\n\nCopernicus Climate Data Store (CDS) hosted by the European Centre for Medium-Range Weather Forecast (ECMWF), https://cds.climate.copernicus.eu/\n\nTerms of use\n\nThe CDS requires users to register before any content can be downloaded. Datasets or content made available through the site may have different licensing terms which users need to agree to before access to the content is granted.\nThe full terms of use can be found on the CDS terms of use\n\n\n\n\n\n\n Back to top"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About the project",
    "section": "",
    "text": "The ProjectProject Partners\n\n\nOne of the greatest obstacles to CSID modelling in LMIC is accessibility to operationalisable datasets. While much data may even be publicly available, it may not be known or well understood outside of the data generators, and often not in a format that is digestible and acceptable to modellers and analysts. This barrier often prohibits the inclusion of such datasets in modelling studies leading to, for example, climate data being incorporated into disease models in a superficial manner or not at all. Climate data are, however, not the only source of data that modellers need to access for CSID modelling. Other types of data include demographic, epidemiological, entomological, health system, intervention impact and cost data.\nThere is a need to curate these datasets into a central resource where the datasets may be viewed, explored and downloaded with an emphasis on comprehensive documentation describing and contextualising each dataset with worked examples on how to incorporate data into CSID models.\nHealth RADAR is a space where various stakeholders can learn about what data exist together with the context behind it. There is also information on how one might use this data to make decisions, specifically how to incorporate it into a mathematical model which can be used to make decisions.\nOur aims are:\n\nTo provide a central location for data relevant to include in and accelerate CSID modelling of malaria in the four frontline countries in the E8\nTo catalyse CSID modelling calibrated to operationalisable datasets where the data characteristics and geographic context are well incorporated\nTo establish a community of African modellers and analysts to support the tool\n\n\nCore Values\n\nThe development of the digital tool, the data to populate the tool and the development of the community of African modellers and analysts to use and maintain the tool will be founded on the following core values:\n\nResponsible use of data\nScientific integrity\nCo-creation\nOpenness\nInclusivity\n\n\nGuidelines for Data Inclusion\n\n\n\n\n\nAccessible\nData showcased on Health RADAR is available and accessible to users already.\n\n\nBefitting\nA technical expert group audits the data to ensure it aligns with CSID modelling and excludes sensitive or potentially harmful information.\n\n\nCited\nA suggested citation must be included so that the source and transformations of the data are adequately acknowledged.\n\n\n\n\nDocumented\nThe original data collection methods and the context in which the data may be correctly interpreted will be presented alongside the data to facilitate onward responsible use.\n\n\nExemplified\nTo catalyse the use of the data in CSID modelling, example code snippets will be provided to incorporate datasets into CSID models.\n\n\nExemplified 2 \nTo catalyse the use of the data in CSID modelling, example code snippets will be provided to incorporate datasets into CSID models.\n\n\n\n\n\n\n\n\n\n\n\n\nThe Modelling and Simulation Hub, Africa\n\n\nThe Modelling and Simulation Hub, Africa (MASHA) is a research group at the University of Cape Town. MASHA specialises in disease modelling for policy and capacity building of modellers across Africa and in LMIC. MASHA will support the project through developing and hosting the digital tool, facilitating and curating health and modelling data relevant to malaria transmission for inclusion in the digital tool and developing the code platform that incorporates the data into CSID models.\n\n\n\nLearn More\n\n\n\n\n\n\n\n\nClimate Systems Analysis Group\n\n\nThe Climate Systems Analysis Group (CSAG) at the University of Cape Town is a leading international climate research centre based in Africa with broad research skills and competency in both physical and social dimensions of climate, strong experience in engaging with society, and an excellent track record in capacity development. CSAG will support the project by facilitating and curating climate data relevant to malaria transmission for inclusion in the digital tool.\n\n\n\nLearn More\n\n\n\n\n\n\n\n\nClinton Health Access Initiative\n\n\nThe Clinton Health Access Initiative (CHAI) is a non-profit organisation that operates at the nexus of business, government and health to save lives and reduce disease. CHAI works with national governments to reform their health systems, targeting areas where current approaches are failing or moving too slowly. CHAI will support the project by facilitating and curating health system data and malaria intervention costs for inclusion in the digital tool.\n\n\n\nLearn More\n\n\n\n\n\n\n\n\nSouth African Medical Research Council\n\n\nThe South African Medical Research Council (SAMRC) is a non-profit organisation that operates at the nexus of business, government and health to save lives and reduce disease. SAMRC will support the project by facilitating and curating entomological data and data related to vector intervention impact for inclusion in the digital tool.\n\n\n\nLearn More"
  },
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "Data sources",
    "section": "",
    "text": "Theme\n      \n        \n          climate\n        \n          entomology\n        \n          epidemiology\n        \n          demography\n        \n          interventions\n        \n      \n    \n  \n  \n  \n    \n      Time\n      \n        \n          annual\n        \n          past\n        \n          present\n        \n          monthly\n        \n      \n    \n  \n  \n  \n    \n      Geography\n      \n        \n          country-level\n        \n          global\n        \n          multi-national\n        \n      \n    \n  \n\n  \n    \n      Other\n      \n        \n          interventions\n        \n          children\n        \n          gridded observed\n        \n          rainfall\n        \n          temperature\n        \n          spatiotemporal\n        \n          raster\n        \n          therapeutic efficacy studies\n        \n          molecular marker studies\n        \n          ongoing therapeutic efficacy studies\n        \n          ongoing molecular marker studies\n        \n          country scorecards\n        \n          indicators\n        \n          accountability\n        \n          insecticide resistance status\n        \n          intensity\n        \n          resistance mechanisms detection\n        \n          synergist effect in susceptibility\n        \n          malaria vectors\n        \n          new vectors of malaria\n        \n          emerging vectors of malaria\n        \n          vector species\n        \n      \n    \n  \n  \n  \n  \n    \n    Reset Selections\n  \n\n\n\n\n  \n    \n      \n      \n        \n            World Malaria Report\n          \n        \n          \n            \n              \n                malaria\n              \n              \n              \n                epidemiology\n              \n              \n              \n                interventions\n              \n              \n              \n                country-level\n              \n              \n              \n                annual\n              \n              \n                \n        \n        The report provides a comprehensive and up-to-date assessment of trends in malaria control and elimination across the globe.\n      \n    \n    \n    \n      \n      \n        \n            The Demographic and Health Surveys Program\n          \n        \n          \n            \n              \n                malaria\n              \n              \n              \n                epidemiology\n              \n              \n              \n                country-level\n              \n              \n              \n                annual\n              \n              \n                \n        \n        The Demographic and Health Surveys (DHS) Program has collected population survey data from over 90 countries for over 30 years.\n      \n    \n    \n    \n      \n      \n        \n            CRU TS\n          \n        \n          \n            \n              \n                climate\n              \n              \n              \n                gridded\n              \n              \n              \n                observed\n              \n              \n              \n                rainfall\n              \n              \n              \n                temperature\n              \n              \n              \n                global\n              \n              \n              \n                monthly\n              \n              \n                \n        \n        Climate Research Unit Timeseries (CRU TS) Gridded precipitation and other meteorological variables since 1901.\n      \n    \n    \n    \n      \n      \n        \n            ERA5\n          \n        \n          \n            \n              \n                climate\n              \n              \n              \n                gridded\n              \n              \n              \n                reanalysis\n              \n              \n              \n                rainfall\n              \n              \n              \n                temperature\n              \n              \n              \n                global\n              \n              \n              \n                hourly\n              \n              \n                \n        \n        ERA5 hourly data on single levels from 1940 to present\n      \n    \n    \n    \n      \n      \n        \n            Malaria Atlas Project (MAP)\n          \n        \n          \n            \n              \n                malaria\n              \n              \n              \n                epidemiology\n              \n              \n              \n                spatiotemporal\n              \n              \n              \n                raster\n              \n              \n                \n        \n        The Malaria Atlas Project (MAP) is a leading global resource that compiles and analyses spatial data on malaria transmission and prevalence.\n      \n    \n    \n    \n      \n      \n        \n            Antimalarial drug efficacy and drug resistance\n          \n        \n          \n            \n              \n                entomology\n              \n              \n              \n                therapeutic efficacy studies\n              \n              \n              \n                molecular marker studies\n              \n              \n              \n                ongoing therapeutic efficacy studies\n              \n              \n              \n                ongoing molecular marker studies\n              \n              \n                \n        \n        The global database on antimalarial drug efficacy and resistance, established in 2000, tracks drug efficacy in malaria-endemic countries.\n      \n    \n    \n    \n      \n      \n        \n            ALMA Scorecard Hub\n          \n        \n          \n            \n              \n                malaria\n              \n              \n              \n                country scorecards\n              \n              \n              \n                indicators\n              \n              \n              \n                country-level\n              \n              \n              \n                accountability\n              \n              \n                \n        \n        This is a digital platform developed by the African Leaders Malaria Alliance (ALMA) to track and support progress towards malaria elimination.\n      \n    \n    \n    \n      \n      \n        \n            Vector insecticide resistance\n          \n        \n          \n            \n              \n                malaria\n              \n              \n              \n                entomology\n              \n              \n              \n                insecticide resistance status\n              \n              \n              \n                intensity\n              \n              \n              \n                resistance mechanisms detection\n              \n              \n              \n                synergist effect in sesceptibility\n              \n              \n                \n        \n        Established in 2014, the global insecticide resistance database tracks insecticide resistance in malaria vectors.\n      \n    \n    \n    \n      \n      \n        \n            Institute for Health Metrics and Evaluation\n          \n        \n          \n            \n              \n                malaria\n              \n              \n              \n                epidemiology\n              \n              \n              \n                interventions\n              \n              \n              \n                country-level\n              \n              \n              \n                annual\n              \n              \n                \n        \n        The Institute for Health Metrics and Evaluation (IHME) works with collaborators around the world to develop timely, relevant, and scientifically valid evidence that illuminates the state of health everywhere.\n      \n    \n    \n    \n      \n      \n        \n            Invasive vector species\n          \n        \n          \n            \n              \n                entomology\n              \n              \n              \n                malaria vectors\n              \n              \n              \n                new vectors of malaria\n              \n              \n              \n                emerging vectors of malaria\n              \n              \n              \n                vector species\n              \n              \n                \n        \n        WHO Global database on invasive mosquito vector species. At present, the database contains data on detection of *Anopheles stephensi* outside of its native ecosystems.\n      \n    \n    \n    \n      \n      \n        \n            UN Population Division Data Portal\n          \n        \n          \n            \n              \n                demography\n              \n              \n              \n                country-level\n              \n              \n              \n                annual\n              \n              \n                \n        \n        Provides estimates and long and short term projections of demographic indicators\n      \n    \n    \n    \n      \n      \n        \n            UNICEF DATA - Child Statistics\n          \n        \n          \n            \n              \n                malaria\n              \n              \n              \n                epidemiology\n              \n              \n              \n                country-level\n              \n              \n              \n                annual\n              \n              \n              \n                children\n              \n              \n                \n        \n        UNICEF DATA - Child Statistics provides detailed information on malaria's impact on children, including prevalence, treatment coverage, and mortality rates.\n      \n    \n    \n\n\n\nNo matching items"
  },
  {
    "objectID": "datasources/drafts/global-fund/global_fund.html",
    "href": "datasources/drafts/global-fund/global_fund.html",
    "title": "The Global Fund",
    "section": "",
    "text": "Overview\n\n\n\nAbout the data\n\nThe Global Fund provides comprehensive malaria data that includes funding details, programmatic results, and epidemiological trends. This data covers disbursements, allocations, and expenditures, along with information on preventive measures like insecticide-treated nets, treatment availability, and case management. It also tracks incidence, prevalence, and mortality rates, offering detailed country profiles and regional summaries. Additionally, the Global Fund conducts malaria indicator surveys and operational research, and offers interactive dashboards for data visualisation, all aimed at monitoring progress and informing strategic decisions to combat malaria globally.\n\nAccessing the data\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Duis sagittis posuere ligula sit amet lacinia. Duis dignissim pellentesque magna, rhoncus congue sapien finibus mollis. Ut eu sem laoreet, vehicula ipsum in, convallis erat. Vestibulum magna sem, blandit pulvinar augue sit amet, auctor malesuada sapien. Nullam faucibus leo eget eros hendrerit, non laoreet ipsum lacinia. Curabitur cursus diam elit, non tempus ante volutpat a. Quisque hendrerit blandit purus non fringilla. Integer sit amet elit viverra ante dapibus semper. Vestibulum viverra rutrum enim, at luctus enim posuere eu. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\n\nWhat does the data look like?\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Duis sagittis posuere ligula sit amet lacinia. Duis dignissim pellentesque magna, rhoncus congue sapien finibus mollis. Ut eu sem laoreet, vehicula ipsum in, convallis erat. Vestibulum magna sem, blandit pulvinar augue sit amet, auctor malesuada sapien. Nullam faucibus leo eget eros hendrerit, non laoreet ipsum lacinia. Curabitur cursus diam elit, non tempus ante volutpat a. Quisque hendrerit blandit purus non fringilla. Integer sit amet elit viverra ante dapibus semper. Vestibulum viverra rutrum enim, at luctus enim posuere eu. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\n\nKey points to consider\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Duis sagittis posuere ligula sit amet lacinia. Duis dignissim pellentesque magna, rhoncus congue sapien finibus mollis. Ut eu sem laoreet, vehicula ipsum in, convallis erat. Vestibulum magna sem, blandit pulvinar augue sit amet, auctor malesuada sapien. Nullam faucibus leo eget eros hendrerit, non laoreet ipsum lacinia. Curabitur cursus diam elit, non tempus ante volutpat a. Quisque hendrerit blandit purus non fringilla. Integer sit amet elit viverra ante dapibus semper. Vestibulum viverra rutrum enim, at luctus enim posuere eu. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\n\n\n\n\n\n\n Back to top"
  },
  {
    "objectID": "datasources/drafts/ncar-climate-data-guide/ncar_climate_data_guide.html",
    "href": "datasources/drafts/ncar-climate-data-guide/ncar_climate_data_guide.html",
    "title": "NCAR Climate Data Guide",
    "section": "",
    "text": "Overview\n\n\n\nAbout the data\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Duis sagittis posuere ligula sit amet lacinia. Duis dignissim pellentesque magna, rhoncus congue sapien finibus mollis. Ut eu sem laoreet, vehicula ipsum in, convallis erat. Vestibulum magna sem, blandit pulvinar augue sit amet, auctor malesuada sapien. Nullam faucibus leo eget eros hendrerit, non laoreet ipsum lacinia. Curabitur cursus diam elit, non tempus ante volutpat a. Quisque hendrerit blandit purus non fringilla. Integer sit amet elit viverra ante dapibus semper. Vestibulum viverra rutrum enim, at luctus enim posuere eu. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\n\nAccessing the data\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Duis sagittis posuere ligula sit amet lacinia. Duis dignissim pellentesque magna, rhoncus congue sapien finibus mollis. Ut eu sem laoreet, vehicula ipsum in, convallis erat. Vestibulum magna sem, blandit pulvinar augue sit amet, auctor malesuada sapien. Nullam faucibus leo eget eros hendrerit, non laoreet ipsum lacinia. Curabitur cursus diam elit, non tempus ante volutpat a. Quisque hendrerit blandit purus non fringilla. Integer sit amet elit viverra ante dapibus semper. Vestibulum viverra rutrum enim, at luctus enim posuere eu. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\n\nWhat does the data look like?\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Duis sagittis posuere ligula sit amet lacinia. Duis dignissim pellentesque magna, rhoncus congue sapien finibus mollis. Ut eu sem laoreet, vehicula ipsum in, convallis erat. Vestibulum magna sem, blandit pulvinar augue sit amet, auctor malesuada sapien. Nullam faucibus leo eget eros hendrerit, non laoreet ipsum lacinia. Curabitur cursus diam elit, non tempus ante volutpat a. Quisque hendrerit blandit purus non fringilla. Integer sit amet elit viverra ante dapibus semper. Vestibulum viverra rutrum enim, at luctus enim posuere eu. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\n\nKey points to consider\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Duis sagittis posuere ligula sit amet lacinia. Duis dignissim pellentesque magna, rhoncus congue sapien finibus mollis. Ut eu sem laoreet, vehicula ipsum in, convallis erat. Vestibulum magna sem, blandit pulvinar augue sit amet, auctor malesuada sapien. Nullam faucibus leo eget eros hendrerit, non laoreet ipsum lacinia. Curabitur cursus diam elit, non tempus ante volutpat a. Quisque hendrerit blandit purus non fringilla. Integer sit amet elit viverra ante dapibus semper. Vestibulum viverra rutrum enim, at luctus enim posuere eu. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\n\n\n\n\n\n\n Back to top"
  },
  {
    "objectID": "datasources/drafts/severe-malaria-observatory/severe_malaria_observatory.html",
    "href": "datasources/drafts/severe-malaria-observatory/severe_malaria_observatory.html",
    "title": "Severe Malaria Observatory",
    "section": "",
    "text": "Overview\n\n\n\nAbout the data\n\nThe Severe Malaria Observatory provides comprehensive data on malaria, focusing particularly on severe cases and their global impact. The data includes incidence rates, geographical distribution, and demographic details, offering insights into the prevalence and severity of malaria across different regions. It highlights the burden of the disease on affected populations, especially in Sub-Saharan Africa and Southeast Asia, and underscores the urgent need for effective prevention and treatment strategies. Additionally, the observatory tracks the progress of intervention programs, resistance patterns, and emerging trends, serving as a critical resource for researchers, policymakers, and healthcare professionals committed to combating malaria.\n\nAccessing the data\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Duis sagittis posuere ligula sit amet lacinia. Duis dignissim pellentesque magna, rhoncus congue sapien finibus mollis. Ut eu sem laoreet, vehicula ipsum in, convallis erat. Vestibulum magna sem, blandit pulvinar augue sit amet, auctor malesuada sapien. Nullam faucibus leo eget eros hendrerit, non laoreet ipsum lacinia. Curabitur cursus diam elit, non tempus ante volutpat a. Quisque hendrerit blandit purus non fringilla. Integer sit amet elit viverra ante dapibus semper. Vestibulum viverra rutrum enim, at luctus enim posuere eu. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\n\nWhat does the data look like?\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Duis sagittis posuere ligula sit amet lacinia. Duis dignissim pellentesque magna, rhoncus congue sapien finibus mollis. Ut eu sem laoreet, vehicula ipsum in, convallis erat. Vestibulum magna sem, blandit pulvinar augue sit amet, auctor malesuada sapien. Nullam faucibus leo eget eros hendrerit, non laoreet ipsum lacinia. Curabitur cursus diam elit, non tempus ante volutpat a. Quisque hendrerit blandit purus non fringilla. Integer sit amet elit viverra ante dapibus semper. Vestibulum viverra rutrum enim, at luctus enim posuere eu. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\n\nKey points to consider\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Duis sagittis posuere ligula sit amet lacinia. Duis dignissim pellentesque magna, rhoncus congue sapien finibus mollis. Ut eu sem laoreet, vehicula ipsum in, convallis erat. Vestibulum magna sem, blandit pulvinar augue sit amet, auctor malesuada sapien. Nullam faucibus leo eget eros hendrerit, non laoreet ipsum lacinia. Curabitur cursus diam elit, non tempus ante volutpat a. Quisque hendrerit blandit purus non fringilla. Integer sit amet elit viverra ante dapibus semper. Vestibulum viverra rutrum enim, at luctus enim posuere eu. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\n\n\n\n\n\n\n Back to top"
  },
  {
    "objectID": "datasources/malaria/alma-scorecards/alma_scorecards.html",
    "href": "datasources/malaria/alma-scorecards/alma_scorecards.html",
    "title": "ALMA Scorecard Hub",
    "section": "",
    "text": "OverviewVisualisationsModelling\n\n\n\nAbout the data\n\n\nThe site uses two languages, namely, English and French.\nThe data is presented in the form of scorecards showing several indicators that are used to assess a country’s health priorities.\nIndicators may vary from country to country, countries generally choose indicators based on their national health strategies.\nThere are currently: 40 malaria country level tools, 1 country level scorecard tool that combines malaria and neglected tropical diseases (NTDs).\nThere are 3 types of scorecards available: country scorecards, community scorecards and the ALMA scorecard for accountability and action.\nThe country scorecard provides a snapshot of a country’s health performance.\nThe community scorecard provides a means for assessing the quality of health services offered at the local health facility or catchment area.\nThe ALMA scorecard for accountability and action displays country level performance against key indicators, highlighting successes and shortfalls.\n\n\nAccessing the data\n\n\nTo view the available scorecards visit Scorecard management tools.\nNo login credentials are needed to view or download the available scorecards\nLogin credentials are needed if an individual wishes to undertake any of the online courses offered by ALMA.\nUnder the tab country scorecards, a search can be refined through the use of available filters. The filters are for country, scorecard type and year. To access the scorecards on malaria, use the filter scorecard type and choose any of the following depending on specific context (Malaria, ALMA Scorecard for Accountability on Action, Commonwealth Malaria Tracker) from the drop-down menu.\nUnder the tab country best practices, a search can be refined through the use of available filters. The filters are for search, topic, types of best practices, country and year. To access best practices for malaria, use the filter topic, 2 choices are available: Malaria scorecard tools and End malaria councils from the drop-down menu.\nThe video below demonstrates how to navigate the site:\n\n\n\n\n\n\n\nVideo demonstration of the ALMA Scorecard Hub\n\n\n\n\n\n\n\n\n\n\nWhat does the data look like?\n\n\nSome scorecards are shared as pdf files (these are downloadable)\n\n\n\n\nRwanda Malaria Scorecard\n\n\nor directly from the web platform (not downloadable, user has to scroll through the file)\n\n\n\nZambia Malaria Scorecard\n\n\n\nScorecards are color coded, the main colors of use are green (on track), yellow (in progress), red (not on track), grey (not applicable or no data), white (no data).\nScorecards use arrows in combination with the colors, up arrow (to show an increase) and down arrow (to show a decrease).\nThe ALMA scorecards for accountability and action gives the ALMA scorecard, the Africa Summary report and country specific reports as pdfs in any one of the following languages, English, Arabic, Spanish, French, Swahili and Portuguese.\nData available is for the years 2015 to 2024.\n\n\nKey points to consider\n\n\nDownloading the materials for the online courses is highly beneficial, as they provide a comprehensive overview on how to create scorecards. This will help towards the understanding and interpretation of the scorecards.\nThe scorecards are highly country specific, indicators change according to the country’s health priorities.\n\n\n\n\nHow to use this data\n\n\nAs indicators vary across countries, it is necessary to check if the indicators of interest are within the available scorecards.\nIt is also necessary to check if the country of interest has made the country scorecard available.\nAs the scorecards are available in pdf format or as a web platform, information has to be extracted manually.\n\n\nHow to plot this data?\n\n\n\nShow the code\n# load the libraries\n#devtools::install_github(\"ropensci/rnaturalearthhires\")\n\nlibrary(ggrepel)\nlibrary(sf)\nlibrary(rnaturalearth)\nlibrary(rnaturalearthdata)\nlibrary(readxl)\nlibrary(stringr)\nlibrary(dplyr)\n\n\nsource(here::here(\"theme_health_radar.R\"))\n\n# Define the Rwanda provinces\nrwanda_provinces &lt;- c(\"East\", \"South\", \"West\", \"North\", \"Kigali city\")\n\n# Load the map data for Rwanda\nrwanda_map &lt;- ne_states(country = \"Rwanda\", returnclass = \"sf\") %&gt;%\n  mutate(name = rwanda_provinces)\n\n# Read in data\nrwandap_data &lt;- read_excel(\"data/rwanda_q1_provinces2022.xlsx\")\n\ncases &lt;- rwandap_data$MalariaTotalCases \n\n# Merge the map data with your data\nrwanda_data &lt;- rwanda_map %&gt;%\n  left_join(rwandap_data, by = c(\"name\" = \"province\"))\n\n# Create a ggplot object with the Rwanda data\nggplot(data = rwanda_data) +\n  # Add a spatial plot with fill based on the number of cases\n  geom_sf(aes(fill = cases), color = \"lightgrey\", size = 0.3) +  \n  # Apply custom theme\n  theme_health_radar() +\n  # Apply custom fill scale for continuous data\n  scale_fill_continuous_health_radar(name = \"Total Cases\") +  \n  # Add text labels for the names, with color based on the number of cases\n  geom_sf_text(\n    aes(label = name, color = ifelse(cases &gt; quantile(cases, 0.9), \"black\", \"white\")), size = 3) +  \n  # Use identity scale for color\n  scale_color_identity() +  \n  # Customize the theme to remove axis titles and ticks\n  theme(\n    plot.caption.position = \"plot\",\n    axis.title.x = element_blank(),\n    axis.text.x = element_blank(),\n    axis.ticks.x = element_blank(),\n    axis.title.y = element_blank(),\n    axis.text.y = element_blank(),\n    axis.ticks.y = element_blank(),\n    panel.grid.major = element_blank(), \n    panel.grid.minor = element_blank()) +\n  # Add caption and title to the plot\n  labs(\n    title = \"Reported malaria cases in Rwanda (2022)\",\n    caption = str_wrap(\n      \"The total number of new outpatient department (OPD) cases of malaria recorded at healthcare facilities in the five provinces of Rwanda during the first quarter of 2022. The East and South provinces show the lowest and highest number of reported cases respectively. Source: ALMA Scorecard Hub, Scorecard management tool.\", \n      width = 85))\n\n\n\n\n\n\n\n\n\n\n\nShow the code\n# PDF containing data available at: https://alma2030.org/our-work/scorecard-tools/alma-scorecard-for-accountability-and-action/list-of-alma-scorecards/\n\n# Creating the data frame\nCountry &lt;- c(\"Angola\", \"Angola\", \"Angola\",\n             \"Botswana\", \"Botswana\", \"Botswana\",\n             \"Eswatini\", \"Eswatini\", \"Eswatini\",\n             \"Mozambique\", \"Mozambique\", \"Mozambique\",\n             \"Namibia\", \"Namibia\", \"Namibia\",\n             \"South Africa\", \"South Africa\", \"South Africa\",\n             \"Zambia\", \"Zambia\", \"Zambia\",\n             \"Zimbabwe\", \"Zimbabwe\", \"Zimbabwe\")\n\nYear &lt;- rep(2023, 24)  # Same year for all entries\nQuarter &lt;- rep(1:3, times = 8)  # Three quarters for each country\nOperational_LLINS_IRS &lt;- c(58, 62, 56,  # Angola\n                           0, 66, 66,   # Botswana\n                           90, 91, 91,  # Eswatini\n                           100, 100, 100, # Mozambique\n                           64, 64, 64,   # Namibia\n                           70, 86, 86,   # South Africa\n                           88, 100, 100, # Zambia\n                           94, 94, 94)   # Zimbabwe\n\n# Create the data frame\ndataframe &lt;- data.frame(Country, Year, Quarter, Operational_LLINS_IRS)\n\n# Display the dataframe\nknitr::kable(head(dataframe))\n\n\n\n\n\nCountry\nYear\nQuarter\nOperational_LLINS_IRS\n\n\n\n\nAngola\n2023\n1\n58\n\n\nAngola\n2023\n2\n62\n\n\nAngola\n2023\n3\n56\n\n\nBotswana\n2023\n1\n0\n\n\nBotswana\n2023\n2\n66\n\n\nBotswana\n2023\n3\n66\n\n\n\n\n\n\nTracking indicator perfomance\n\n\nThe plot given below highlights how tracking indicator performance can be achieved.\nSeveral country performances are highlighted using data obtained from ALMA scorecards for accountability and action.\nThe implementation indicator on operational vector control (LLINs/IRS) coverage was considered.\n\nWhen visualising similar data over a much longer period of time, a line plot is useful. Here, the coverage by an LLIN and/or IRS in each of the Frontline 4 countries from 2015 to 2024 is visualised.\n\n\nShow the code\n# Read in data\nE8_data &lt;- read_excel(\"data/E8_implementation.xlsx\")\nE8_data$LLINs &lt;- as.numeric(E8_data$LLINs)  \n\n# Filter the data for specific countries\nE8_data |&gt; \n   # Keep rows where Country is one of the Frontline 4\n  filter(Country %in% c(\"Botswana\", \"Namibia\", \"South Africa\", \"Eswatini\")) |&gt; \n  # Create a ggplot object with the filtered data\n  ggplot(aes(x = Year, y = as.numeric(LLINs), group = Country)) +\n  # Customize the x-axis to show yearly breaks\n  scale_x_continuous(breaks = seq(floor(min(E8_data$Year)), ceiling(max(E8_data$Year)), by = 1)) +  \n  # Customize the y-axis to show breaks from 0 to 100 in increments of 10\n  scale_y_continuous(breaks = seq(0, 100, by = 10)) +  \n  # Add lines to the plot, coloured by Country\n  geom_line(aes(color = Country), lwd = 1) +  \n  # Add points to the plot, coloured by Country\n  geom_point(aes(color = Country), size = 2) +\n  # Apply custom colour scale\n  scale_colour_manual_health_radar() +  \n  # Apply custom theme\n  theme_health_radar() +\n  # Add labels and title to the plot\n  labs(\n    title = \"Operational LLIN or IRS coverage for the Frontline 4 (2015-2024)\",\n    x = \"Year\",\n    y = \"Coverage (%)\",\n    color = \"Country\",\n    caption = str_wrap(\n      \"Operational long-lasting insecticidal nets (LLINs) or indoor residual spraying (IRS) coverage as a percentage of the at-risk population in the Frontline 4 countries. Solid lines represent the coverage trends taken during each quarter from 2015 to the end of 2023. Namibia experienced a large drop in coverage at the start of 2020, and only began to recover in 2023. South Africa and Eswatini appear to have consistently achieved above 70% coverage. Source: ALMA Scorecard Hub, ALMA Scorecard for Accountability on Action.\", \n      width = 85\n    )\n  )\n\n\n\n\n\n\n\n\n\n\n\n\nHow can this data be used in disease modelling?\n\nThe data obtained from the scorecards can be used to:\n\nEstimate the parameter values used in malaria transmission models\nInform quarterly changes to intervention coverage and access, which in turn allows for time-varying parameters that reflect changes in the health system over time\nRepresent regional differences with spatially explicit models\nEvaluate different scenarios that are linked to the scorecard indicators\n\nGenerally, model outputs may complement the ALMA scorecards by forecasting key indicators and generating policy-relevant projections.\n\n\n\n\n\n\n Back to top"
  },
  {
    "objectID": "datasources/malaria/dhs-program/dhs.html",
    "href": "datasources/malaria/dhs-program/dhs.html",
    "title": "The Demographic and Health Surveys Program",
    "section": "",
    "text": "OverviewVisualisationsModelling\n\n\n\nAbout the data\n\nThe DHS (Demographic and Health Surveys) Program provides data on population, health, and nutrition through more than 400 surveys in over 90 countries. Data covers the following areas; Population and Demographics, Fertility and Family Planning, Maternal and Child Health, Nutrition, HIV/AIDS and Other Infections, Malaria, & Gender and Domestic Violence.\nThe DHS data are widely used by governments, NGOs, researchers, and policymakers to design and monitor health programs and policies. The surveys are conducted through face-to-face interviews with representative samples of households, and they use standardized questionnaires to ensure comparability across countries and over time.\nDemographic health surveys are also unique for modelling as you can correlate across various datasets variables for example linking Malaria data on prevention and treatment to other factors in the population and demographics data to other health system indicators\n\nAccessing the data\n\nThere are several options for accessing the data, each thoroughly explained in other resources.\n\nDHS WebsiteSTATcompilerR package\n\n\nThe DHS Program Access Instructions: This requires signing up for a free user account.\n\n\n\nSTATcompiler, a graphical user interface tool for accessing and downloading the data in CSV format.\n\n\nAccessing the data using STATcompiler\n\nPrevalence and Treatment: Users can access data on malaria prevalence and treatment practices directly from the STATcompiler. It allows for the creation of tables, charts, and maps that display malaria prevalence rates, treatment practices, and trends over time.\nPreventive Measures: STATcompiler provides data on the ownership and use of ITNs, IRS coverage, and IPTp usage. Users can visualize how these preventive measures vary across different regions and demographic groups.\nCountry and Regional Comparisons: STATcompiler enables users to compare malaria data across different countries and regions. This comparative analysis helps in identifying best practices and areas that require more attention.\nTemporal Trends: Users can analyze trends over time to see how malaria prevention and treatment efforts have evolved and their impact on malaria prevalence and morbidity\nTailored Data Retrieval: STATcompiler allows users to create custom tables based on specific indicators related to malaria. Users can filter data by variables such as age, sex, urban/rural residence, and wealth quintile.\nIndicator Selection: Users can select specific indicators related to malaria, such as ITN usage, malaria prevalence among children under five, and access to malaria treatment. This customization helps in focusing on particular aspects of malaria control and prevention.\nHolistic Health Analysis: STATcompiler can integrate malaria data with other health indicators, such as child mortality rates, nutrition status, and maternal health. This integration provides a comprehensive view of health challenges and the interconnections between different health issues.\nMulti-Indicator Analysis: Users can analyse how malaria prevention and treatment efforts correlate with other health outcomes, facilitating a broader understanding of health dynamics.\nInteractive Tools: STATcompiler offers an interactive and user-friendly interface, making it easy for users to navigate and extract relevant malaria data.\nData Export: Users can export data in various formats (e.g., Excel, CSV) for further analysis or reporting purposes.\n\n\n\nPractical Applications using STATcompiler to access DHS program data\n\nPolicy Making and Program Design: Policymakers and program designers can access up-to-date malaria data, helping them create evidence-based strategies and allocate resources effectively.\nResearch and Academic Studies: Researchers can utilize STATcompiler to obtain detailed malaria data for their studies, facilitating in-depth analysis and publication of findings.\nMonitoring and Evaluation: Health organizations can monitor the progress of malaria interventions by analysing trends and identifying gaps in coverage .\n\nBy leveraging the capabilities of STATcompiler, users can efficiently analyse and visualise malaria data collected by the DHS Program, leading to more informed decisions and effective interventions in malaria control and prevention.\n\n\n\nThe Demographic and Health Surveys (DHS) Program has developed an open-source R package rdhs for management and analysis of Demographic and Health Survey data. This includes functionality to:\n\nAccess standard indicator data (i.e. DHS STATcompiler) in R via the DHS API.\nIdentify surveys and datasets relevant to a particular analysis.\nDownload survey datasets from the DHS website.\nLoad datasets and associated metadata into R.\nExtract variables and combining datasets for pooled multi-survey analyses.\n\n\n\n\n\nWhat does the data look like?\n\nDescription\nDHS data on malaria covers the following area for malaria\n\nPrevalence and Treatment\nPreventive Measures\nAwareness and Behaviour\nHealth System and Access to Care\nImpact of Malaria Interventions\n\nThe indicator dataset guide can found at The DHS Program - Malaria\n\n\n\nMalaria Data in DHS Surveys\n\n\n\n\n\nHow to plot this data?\n\n\n\nShow the code\nindicators &lt;- dhs_indicators()\n\n# Find all indicators starting with ML\nall_malaria_indicators = indicators[grepl(\"^ML\", indicators$IndicatorId), c(\"IndicatorId\", \"Definition\")]\nknitr::kable(head(all_malaria_indicators))\n\n\n\n\n\n\n\n\n\n\n\nIndicatorId\nDefinition\n\n\n\n\n2269\nML_NETP_H_MOS\nPercentage of households with at least one mosquito net (treated or untreated)\n\n\n2270\nML_NETP_H_ITN\nPercentage of households with at least one insecticide treated mosquito net (ITN)\n\n\n2271\nML_NETP_H_LLN\nPercentage of households with at least one long-lasting insecticide treated mosquito net (LLIN)\n\n\n2272\nML_NETP_H_MNM\nMean number of mosquito nets per household\n\n\n2273\nML_NETP_H_MNI\nMean number of insecticide tested mosquito nets (ITNs) per household\n\n\n2274\nML_NETP_H_MNL\nMean number of long-lasting insecticide tested mosquito nets (LLINs) per household\n\n\n\n\n\n\n\nShow the code\ntags &lt;- dhs_tags()\n\n# Get the tags related to malaria\nknitr::kable(tags[grepl(\"Malaria\", tags$TagName), ])\n\n\n\n\n\n\nTagType\nTagName\nTagID\nTagOrder\n\n\n\n\n33\n0\nMalaria Parasitemia\n36\n540\n\n\n45\n2\nSelect Malaria Indicators\n79\n1000\n\n\n\n\n\n\n\nShow the code\n# Get the country codes of the frontline 4 of the elimination 8 countries\nall_countries = dhs_countries(returnFields=c(\"CountryName\",\"DHS_CountryCode\"))\n\n# Get the country codes of the frontline 4 of the elimination 8 countries\nfrontline4 = c(\"Botswana\", \"Namibia\", \"South Africa\", \"Eswatini\")\nelim8 = c(\"Botswana\", \"Namibia\", \"South Africa\", \"Eswatini\", \"Zambia\", \"Zimbabwe\", \"Mozambique\", \"Malawi\")\n\n# Get the country codes of the frontline 4 of the elimination 8 countries\nf4_codes = all_countries[all_countries$CountryName %in% frontline4, \"DHS_CountryCode\"]\ne8_codes = all_countries[all_countries$CountryName %in% elim8, \"DHS_CountryCode\"]\n\n# Retrieve DHS data for the specified indicator, countries, and survey years\ndata1 &lt;- dhs_data(indicatorIds = \"ML_NETP_H_MOS\",\n                 countryIds = f4_codes,\n                 surveyYearStart = 2000,\n                 breakdown = \"subnational\")\n\n# Remove rows with CharacteristicLabel starting with \"..\" to avoid double counting regions\nfilt_data = data1[!grepl(\"^\\\\..*\", data1$CharacteristicLabel),]\n\n# Filter the data for Namibia only\nfilt_data = filt_data[filt_data$CountryName == \"Namibia\",]\n\n\nA faceted bar plot can be used to visualise the percentage of households with at least one insecticide-treated net (ITN) in each Namibian province at a small number of time points.\n\n\nShow the code\n# Define a single color for the bars\nsingle_color &lt;- \"#1b9e77\"\n\n# Plot the data as a bar plot\nggplot(filt_data, aes(x = as.factor(SurveyYear), y = Value, fill = single_color)) +\n  # Create bar plot with identity statistic and no legend\n  geom_bar(stat = \"identity\", position = \"dodge\", show.legend = FALSE) + \n  # Use the health radar color scheme\n  scale_fill_manual_health_radar() +\n  # Set y-axis ticks increment to 10\n  scale_y_continuous(breaks = seq(0, max(filt_data$Value, na.rm = TRUE), by = 10)) +  \n  # Facet the plot by CharacteristicLabel, with 6 columns\n  facet_wrap(~ CharacteristicLabel, ncol = 6) +\n  # Apply the health radar theme\n  theme_health_radar() +\n  # Additional theme customizations specific to this plot\n  theme(\n    axis.text.x = element_text(angle = 45, hjust = 0.4),\n    legend.position = \"none\",\n    panel.background = element_rect(fill = \"#F0F0F0\", color = NA),\n    panel.spacing = unit(0.5, \"lines\")) + \n    # Add titles and labels\n  labs(\n    title = \"Namibian households with at least one mosquito net\",\n    x = \"Year\",\n    y = \"Percentage of Households\",\n    caption = str_wrap(\"The percentage of households in different regions of Namibia which have at least one mosquito net, based on subnational DHS survey data collected in 2006 and 2013. The Northeast region of Namibia has the highest percentage of households with at least one mosquito net in both 2006 and 2013, while the South region has the lowest. Every region saw an increase in the percentage of households with at least one mosquito net from 2006 to 2013. Note that the y-axis ranges from 0% to 57%. Source: DHS Data API - Malaria Indicator ML_NETP_H_MOS\", width = 100))\n\n\n\n\n\n\n\n\n\n\n\nShow the code\n# Retrieve DHS data for the specified indicator, countries, and survey years\ndata2 &lt;- dhs_data(indicatorIds = \"ML_NETP_H_MNM\",\n                 countryIds = e8_codes,\n                 surveyYearStart = 2000,\n                 breakdown = \"subnational\")\n\n# Keep only the rows where the level rank is 1 (national level data)\nfilt_data = data2[data2$LevelRank == 1,]\n\n# Remove rows with CharacteristicLabel starting with \"..\" to avoid double counting regions\nfilt_data = filt_data[!grepl(\"^\\\\..*\", filt_data$CharacteristicLabel),]\n\n\nGeneralised linear models can be used to fit an estimated mean value for the number of mosquito nets per household in various African countries. Rather than including all of these countries on one plot, the visualisation can be faceted to show multiple smaller plots - one for each country.\n\n\nShow the code\n# Plot the data using ggplot2\nggplot(filt_data, aes(x = SurveyYear, y = Value), colour = single_color) +\n  # Add points to the plot\n  geom_point(size = 2, colour = single_color) +\n  # Add a smooth line using a generalised linear model, with confidence interval shading\n  geom_smooth(method = \"glm\", se = TRUE, alpha = 0.3, colour = single_color) +\n  # Facet the plot by CountryName, with 3 columns and free y-axis scales\n  facet_wrap(~ CountryName, ncol = 3, scales = \"free_y\") +\n  # Apply the health radar theme and colors\n  theme_health_radar() +\n  scale_colour_manual_health_radar() +\n  # Additional theme customizations specific to this plot\n  theme(\n    axis.text.x = element_text(angle = 90, vjust = 0.5)\n    ) +\n  # Center the legend title\n  guides(colour = guide_legend(title.position = \"top\", title.hjust = 0.5)) +\n  # Add titles and labels\n  labs(\n    title = \"Trend of mean number of mosquito nets per household\",\n    x = \"Year\",\n    y = \"Mean Nets Per Household\",\n    caption = str_wrap(\"The mean number of mosquito nets per household is estimated by fitting a generalised linear model (GLM) to subnational survey data collected in various years for a selection of Elimination 8 (E8) countries. These GLMs are shown as lines with their 95% confidence intervals displayed in grey, while the data on which the GLMs were built are shown as points. Note that the y-axis ranges differ between countries. Namibia and Eswatini each have only two recorded data points, making it difficult to draw reliable conclusions for either country. All four remaining countries show an increase in mean number of mosquito nets per household, with the mean number of nets per household being between 1 and 2 for their respective most recent survey year. Source: DHS Data API - Malaria Indicator ML_NETP_H_MNM\", width = 95)\n  )\n\n\n\n\n\n\n\n\n\nA map is an effective method of visualising the mean number of mosquito nets per Zambian province.\n\n\nShow the code\n# Filter the data for Zambia for the year 2018\nd = data2[(data2$CountryName == \"Zambia\" & data2$SurveyYear == 2018),]\n\n# Download the related spatial data frame object for Zambia\nsp &lt;- download_boundaries(surveyId = d$SurveyId[1], method = \"sf\")\n\n# Match our values to the regions in the spatial data\nm &lt;- d$Value[match(sp$sdr_subnational_boundaries$REG_ID, d$RegionId)]\nsp$sdr_subnational_boundaries$Value &lt;- m\n\n# Plot the spatial data using ggplot2\nggplot(sp$sdr_subnational_boundaries) + \n  # Add a filled polygon layer for each region\n  geom_sf(aes(fill = Value), color = \"lightgrey\", size = 0.3) + \n  # Use the health radar continuous color scale for the fill\n  scale_fill_continuous_health_radar(option = \"plasma\", na.value = \"grey50\", name = \"Nets/household\") +\n  # Add titles and labels\n  labs(\n    title = \"Mean number of mosquito nets per Zambian household (2018)\",\n    caption = str_wrap(\"The mean number of mosquito nets per household in Zambia, with Lusaka province showing the lowest value of approximately 1.5, and the Mochinga and Copperbelt provinces showing the highest values close to 2. Source: DHS Data API - Malaria Indicator ML_NETP_H_MNM\", width = 60)) +\n  # Conditional text color\n  geom_sf_text(aes(label = DHSREGEN, color = ifelse(Value &gt; quantile(Value, 0.1), \"black\", \"white\")), size = 3) +  \n  scale_color_identity() +\n  # Apply the health radar theme\n  theme_health_radar() +\n  # Remove x- and y-axes and grid lines\n  theme(\n    plot.title.position = \"plot\",\n    axis.title.x=element_blank(),\n    axis.text.x=element_blank(),\n    axis.ticks.x=element_blank(),\n    axis.title.y=element_blank(),\n    axis.text.y=element_blank(),\n    axis.ticks.y=element_blank(),\n    panel.grid.major = element_blank(), \n    panel.grid.minor = element_blank())\n\n\n\n\n\n\n\n\n\nAn example of a more interactive mapped visualisation, this time of Malawi rather than Zambia, is shown below.\n\n\nShow the code\nlibrary(leaflet)\n\n# Make a request to DHS data API for Malawi, for the specified indicator, and survey years\nd2 &lt;- dhs_data(countryIds = \"MW\",\n              indicatorIds = \"ML_FEVT_C_AML\",\n              breakdown = \"subnational\",\n              surveyYearStart = 2016,\n              returnGeometry = TRUE,\n              f = \"geojson\")\n\n# Convert the retrieved data to JSON format\nm &lt;- geojsonio::as.json(d2)\n\n# Convert the JSON data to a spatial object\nnc2 &lt;- geojsonio::geojson_sp(m) \n\n# Create a color palette using the health radar colors for continuous data\n# Using the first few colors from theme_health_radar_colours for the gradient\npal &lt;- leaflet::colorNumeric(\n  palette = colorRampPalette(theme_health_radar_colours[1:3])(100),\n  domain = nc2$Value,\n  na.color = \"grey50\"\n)\n\n# Plot the data using leaflet\nleaflet(nc2[nc2$IndicatorId == \"ML_FEVT_C_AML\", ]) %&gt;%\n  # Add base map tiles\n  addTiles() %&gt;%\n  # Add polygons to represent the regions\n  addPolygons(\n    stroke = TRUE,\n    color = theme_health_radar_colours[7],  # Using the grey from our theme\n    weight = 0.5,\n    smoothFactor = 0.3,\n    fillOpacity = 0.8,\n    fillColor = ~pal(Value),\n    # Add labels to the polygons with characteristic label and value\n    label = ~paste0(CharacteristicLabel, \": \", formatC(Value, big.mark = \",\")),\n    labelOptions = leaflet::labelOptions(\n      style = list(\n        \"font-weight\" = \"bold\",\n        \"color\" = theme_health_radar_colours[7]  # Using theme color for labels\n      ),\n      textsize = \"13px\",\n      direction = \"auto\"\n    )\n  ) %&gt;%\n  # Add a legend to the map\n  addLegend(\n    pal = pal,\n    values = ~Value,\n    opacity = 1.0,\n    title = \"Malawi: children with fever who took antimalarial drugs (%)\",\n    position = \"bottomright\",\n    labFormat = labelFormat()\n  ) %&gt;%\n  # Set the initial view of the map to focus on Malawi\n  setView(lng = 37, lat = -13, zoom = 5.5)\n\n\n\n\n\n\n\n\n\nHow can this data be used in disease modelling?\n\nThe DHS dataset has various components that can be incorporated into malaria modelling, particularly with respect to health systems and interventions. Upon exploring the data, many indicators from the DHS surveys may be associated with the system dynamics of malaria. We include a few examples below:\n\nNumber of children age 6-59 months tested for malaria using microscopy\nPercentage of pregnant women who slept under a long-lasting insecticide treated net (LLIN) the night before the survey\nAmong children with fever in the two weeks preceding the survey for whom advice or treatment was sought, the percentage for whom the source was a government health center, traditional practitioner, shop or private doctor\n\nIn modelling LLIN effective coverage, we account for the number of households that actually receive nets, appropriate usage, insecticide efficacy and the physical integrity of the net. Human and vector behavioural characteristics pertaining to where people spending their evenings (during peak biting times), or the likelihood of indoor vector biting are captured as operational effectiveness \\(opp_{eff}\\). Another illustration of this is depicted below:\n\n\n\n\n\n\n\nSource: WHO (2014). From malaria control to malaria elimination: a manual for elimination scenario planning.\n\n\nIn the simple example below, we obtain data on LLIN access and usage rates in Kenya from the DHS, and compare this to data on ITN distribution from the World Malaria Report. Finally, we model the effective coverage of LLINs. This represents the proportion of the population actually protected from malaria transmission by LLINs in a particular country.\n\nPreparing the data\nThe relevant indicators are sourced from the DHS datasets.\n\n\nShow the code\n## Source LLIN coverage and usage data from DHS\n\nindicators &lt;- dhs_indicators()\nall_malaria_indicators &lt;- indicators |&gt; \n  filter(Level1 == \"Malaria\") |&gt; \n  select(c(\"IndicatorId\", \"Definition\"))\n\n# Select DHS indicators\n\n# ML_NETP_H_LL2: Percentage of households with at least one long-lasting insecticidal net (LLIN) for every two persons who stayed in the household the previous night\n# ML_ITNU_N_ITN: Percentage of existing insecticide treated nets used the night before the survey\n\naccess_data &lt;- dhs_data(indicatorIds = \"ML_NETP_H_LL2\",\n                  countryIds = \"KE\")\n\nusage_data &lt;- dhs_data(indicatorIds = \"ML_ITNU_N_ITN\",\n                          countryIds = \"KE\")\n\n# Obtain LLIN access and usage data\n\nLLIN_access &lt;- access_data |&gt;\n  arrange(SurveyYear) |&gt;\n  select(SurveyYear, Value) |&gt; \n  complete(SurveyYear = full_seq(c(SurveyYear, 2024), 1), fill = list(Value = 0)) |&gt; \n  mutate(time = seq(365, 365*17, by = 365)) |&gt;  # 17 years of simulation\n  mutate(access = Value/100)\n\nLLIN_data &lt;- usage_data |&gt;\n  arrange(SurveyYear) |&gt;\n  select(SurveyYear, Value) |&gt; \n  complete(SurveyYear = full_seq(c(SurveyYear, 2024), 1)) |&gt; \n  fill(Value, .direction = \"down\") |&gt;  \n  mutate(usage = Value/100)\n\n# Merge the two datasets\nLLIN_data &lt;- full_join(LLIN_data, LLIN_access, by = \"SurveyYear\") |&gt;  \n  filter(SurveyYear &gt; 2007)\n\n\n\n\nModel assumptions\nWe make a few assumptions about LLINs in the model, explicitly stated here. We assume:\n\nNet usage remains consistent until a new survey is conducted.\nNet functionality and effectiveness declines at a rate of approximately 25% per year, with LLINs considered ‘expired’ or no longer effective after three years of use.”\n\nWould you like to expand this into a p\n\nOperational effectiveness (\\(opp_{eff}\\)): 65% of actual bites from an indoor-biting infectious mosquito are assumed to be prevented by LLINs used correctly during peak biting times.\n\n\n\nCoverage\nCoverage is dependent on access to LLINs at the distribution rate of two persons per net. The reported number of ITNs distributed in a given year in each country can be obtained from the World Malaria Report Annex 4-D.\n\\[\n\\textrm {Access} = \\frac {\\textrm{Nets distributed} \\times 2}{\\textrm {Population at risk}} - \\textrm {losses due to insecticide decay and physical wear and tear}\n\\tag{1}\\]\nSubsequently, effective coverage can be quite low due to imperfect usage and operational effectiveness.\n\\[\n\\textrm{Effective Coverage} = \\textrm{access} \\times \\textrm {usage rate} \\times \\textrm{operational effectiveness}\n\\tag{2}\\]\nThe timelines of the datasets do not align: DHS survey data on LLIN access are available for the years 2008, 2014, and 2015, while net usage data are available for 2008, 2014, 2015, 2020, and 2022. The World Malaria Report provides LLIN access values only for the three years preceding the 2023 report. Nonetheless, we present both LLIN access values and the calculated effective coverage in the same figure below for illustrative purposes.\n\n\nShow the code\nlibrary(deSolve)\n\n# Time points for the simulation\nY = 17 # Years of simulation\ntimes &lt;- seq(0, 365*Y, 1) # time in days\n\n# Define LLIN model ####\n\nitnmod &lt;- function(times, start, parameters)  {\n  with(as.list(c(parameters, start)), {\n    \n    llin_time &lt;- LLIN_data$time\n    llin_access &lt;- approx(llin_time, LLIN_data$access, times, method = \"constant\", rule = 2)$y\n    \n    usage &lt;- approx(llin_time, LLIN_data$usage, times, method = \"constant\", rule = 2)$y\n    \n    eta &lt;- -log(1-(att1-att3))/(3*365) # rate of loss due to attrition rate over three year period\n    \n    llin_eff_cov = min(LLIN,1)*usage*opp_eff\n  \n    dLLIN = llin_access/365 - (eta + phi)*LLIN\n  \n    list(dLLIN, llin_eff_cov)\n  })\n}\n\n# Input definitions ####\n# Initial values\nstart &lt;- c(LLIN = 0.6) # proportion of the population currently protected by LLINs in circulation\n\n\n# Parameters\nparameters &lt;- c(opp_eff = 0.65, # Operational effectiveness of LLIN at preventing transmission\n                att1 = 1, # proportion of nets distributed in year X circulating in year X\n                att2 = 0.75, # proportion of nets distributed in year X circulating in year X+1\n                att3 = 0.5, # proportion of nets distributed in year X circulating in year X+2\n                phi = 1/(3*365) # death rate  of LLINS\n)\n\n# Run the model\nout &lt;- ode(y = start, \n           times = times, \n           func = itnmod, \n           parms = parameters)\n\n\nmodel_output_df &lt;- as_tibble(as.data.frame(out)) |&gt;  \n  rename(llin_eff_cov = `2`) |&gt;  \n  mutate(year = as.numeric(format(as.Date(\"2008-01-01\") + time, \"%Y\"))) |&gt;  \n  mutate(Data = \"Effective coverage\") |&gt;\n  group_by(year) |&gt;\n  slice_head(n = 1) |&gt; # summarise by year\n  ungroup()\n\n\n# Source access data from World Malaria Report\n\n## LLINs distributed annually\ndist_data &lt;- whowmr::wmr2023$wmr2023d |&gt;  \n  filter(`Country/area` == \"Kenya\") |&gt;  \n  select(Year, `No. of LLINs delivered`)\n\n## Population at risk\nWHO_data &lt;- whowmr::wmr2023$wmr2023f |&gt;  \n  filter(`Country/area` == \"Kenya\", Year &gt; 2007) |&gt;  \n  select(Year, `Population denominator for incidence and mortality rate`)\n\n# Merge the two datasets and calculate access to LLINs in the population at risk\nWHO_data &lt;- full_join(WHO_data, dist_data, by = \"Year\") |&gt;  # add distribution data to same dataframe\n  mutate(Proportion_population = `No. of LLINs delivered`*2/`Population denominator for incidence and mortality rate`) |&gt;  # one net per 2 persons at risk\n  mutate(Data = \"WMR Access\")\n\nggplot() +\n  geom_line(data = model_output_df, aes(x = year, y = llin_eff_cov, colour = Data)) +\n    geom_point(data = model_output_df |&gt;  mutate(Data = \"DHS Acccess\"), aes(x = year, y = LLIN, colour = Data)) +\n  geom_point(data = WHO_data, aes(x = Year, y = Proportion_population, colour = Data), shape = 15) +\n  scale_y_continuous(labels = scales::percent) +\n  theme_health_radar() +\n  scale_colour_manual_health_radar() +\n  labs(title = \"Effective LLIN Coverage in Kenya\" ,\n    subtitle = \"Malaria prevention through access and use of LLINs\",\n    x = \"Year\",\n    y = \"Proportion of population at risk (%)\",\n    caption = str_wrap(\"DHS' data captures access to LLINs at particular points in time, but this data may be incongruent with annual LLIN access data captured from the World Malaria Report. We expect effective coverage to be lower than access when accounting for operational effectiveness, usage and waning in the insecticide efficacy and physical integrity of the net. Sources: Model output; DHS Data API - Malaria Indicators ML_NETP_H_IT2 & ML_NETP_H_LL2; World Malaria Report Annexes 4-D and 4-F.\")) \n\n\n\n\n\n\n\n\n\n\n\nPolicy implications\nGaps between access to LLINs and actual effective coverage can justify increasing the frequency of mass distribution campaigns or implementing continuous distribution channels through schools and health clinics. Where these gaps stem from low usage rates, targeted social and behavioural change campaigns may be necessary to improve net use. Alternatively, if low effective coverage is due to vector insecticide resistance, switching to nets with different or enhanced active ingredients may prove to be a better strategy. In settings where human behaviour (spending evenings outdoors in fields, at taverns, or fishing) limits the operational effectiveness of LLINs, complementary strategies to address outdoor biting could be considered.\n\n\n\n\n\n\n\n Back to top"
  },
  {
    "objectID": "datasources/malaria/ihme/ihme.html",
    "href": "datasources/malaria/ihme/ihme.html",
    "title": "Institute for Health Metrics and Evaluation",
    "section": "",
    "text": "OverviewVisualisationsModelling\n\n\n\nAbout the data\n\nThe Global Burden of Disease (GBD) study, conducted by the Institute for Health Metrics and Evaluation (IHME), evaluates mortality and disability caused by 371 diseases and injuries, along with 88 risk factors across the globe. IHME meticulously collects and analyzes the data, offering insights into trends over time, the effectiveness of interventions, and disparities in the impact of malaria among different populations. The IHME provides extensive malaria data that includes prevalence, incidence, mortality rates, intervention coverage, and the overall burden of disease in 204 countries and territories, with subnational estimates for 21 regions. This comprehensive dataset is a valuable resource for policymakers, researchers, and public health professionals in developing strategies to reduce the global malaria burden and monitor progress toward elimination goals.\n\nAccessing the data\n\nThe GBD Results Tool enables you to download estimates from the study, along with relevant materials such as survey instruments, protocols, and summary information, are accessible on the IHME Data Page through the Global Health Data Exchange (GHDx). You can search for datasets directly or use the GDB Results Tool for more detailed queries. IHME also offers API access to interact with large datasets programmatically.\nSearch terms such as \"IHME malaria deaths estimates\", \"malaria prevalence\", \"malaria incidence\", or \"bednet usage\" can be used to find datasets compiled by IHME related to malaria on the GHDx homepage.\nAlternatively, you can navigate to the Data Tools tab on the homepage. However, you will need to create an account or sign in to access and download data. If you do not have an account, click on sign in at the top of the Results tab. If you already have an account, click sign in and enter your credentials, then select GBD results tool under IHME Data Visualization Tools. In the results tool interface, select the choose the disease metrics and apply filters to narrow the search by location (country/region), year, age group, and sex.\n\n\n\nIHME GBD Results Visualization Tool Page.\n\n\nYou can also visualize data as graphs or tables before downloading. You can right-click on the title of files within the GHDx and download them. Datasets can be downloaded as .csv and .xls files from the GHDx site.\n\nWhat does the data look like?\n\nThe data can be downloaded from the GHDx IHME ITN Data Page as a .xls file. This dataset provides estimates of bed net ownership, ownership among populations at risk, bed net use in children under five in at-risk populations, and trends in the scale-up of LLIN in 44 African countries during the 1999 to 2008 period.\n\n\n\nIHME estimates of insecticide treated bednets distributed.\n\n\nDatasets dowloaded as .csv files from the GDB Results Tool have a standard format which contains mortality, prevalence and incidence in number, percent and rate by location, sex, age, cause of injury, annual value as well as the upper and lower bounds.\n\n\n\nIHME estimates of malaria related deaths, prevalence and incidence.\n\n\n\nKey points to consider\n\nIHME (Institute for Health Metrics and Evaluation) provides detailed data on health metrics, including estimates of disease burden such as incidence, mortality, and risk factors for malaria, which can inform transmission models. When integrating IHME data estimates into malaria transmission models, several key aspects should be considered regarding data collection, storage, and its usage to ensure accurate and effective modeling.\n\nIHME uses statistical models and expert review to produce comprehensive Global Burden of Disease (GBD) estimates of malaria burden by country, age, and sex.\nData is updated annually or periodically depending on the source (e.g., monthly surveillance data or annual surveys).\nThese data might not always have the same resolution as the model. For instance, while a model may require fine-grained data at the village level or daily intervals, IHME may provide data aggregated at the national level or annually.\nIHME estimates often come with uncertainty intervals due to limitations in the data sources. This uncertainty should be accounted for in model simulations, especially for stochastic models or sensitivity analyses.\n\n\n\n\nHow to use this data?\n\nThese datasets can be explored to gain insights into the ownership of ITNs, distribution of LLINs, and assess the impact of malaria in Elimination 8 (E8) countries during the 2000 to 2008 period.\nInspect the data beforehand to understand how it is structured and identify indicators that are relevant to our analysis, we can display our data in a table as follows:\n\n\nShow the code\nlibrary(readxl)\nlibrary(tidyverse)\n\n# Load insecticide treated nets data\nihme_nets &lt;- read_excel(path = \"data/IHME_INSECTICIDE_TREATED_BEDNETS_SUB_SAHARAN_AFRICA_1999_2008.xls\")\n\n# Pull the names of countries\nihme_nets |&gt;  \n  pull(Country) |&gt;  \n  unique()\n\n\n [1] \"Angola\"                   \"Benin\"                   \n [3] \"Botswana\"                 \"Burkina Faso\"            \n [5] \"Burundi\"                  \"Cameroon\"                \n [7] \"Central African Republic\" \"Chad\"                    \n [9] \"Comoros\"                  \"Congo\"                   \n[11] \"Cote d'Ivoire\"            \"Dem. Rep. of Congo\"      \n[13] \"Djibouti\"                 \"Equatorial Guinea\"       \n[15] \"Eritrea\"                  \"Ethiopia\"                \n[17] \"Gabon\"                    \"Ghana\"                   \n[19] \"Guinea\"                   \"Guinea-Bissau\"           \n[21] \"Kenya\"                    \"Liberia\"                 \n[23] \"Madagascar\"               \"Malawi\"                  \n[25] \"Mali\"                     \"Mauritania\"              \n[27] \"Mozambique\"               \"Namibia\"                 \n[29] \"Niger\"                    \"Nigeria\"                 \n[31] \"Rwanda\"                   \"SaoTome & Principe\"      \n[33] \"Senegal\"                  \"Sierra Leone\"            \n[35] \"Somalia\"                  \"South Africa\"            \n[37] \"Sudan\"                    \"Swaziland\"               \n[39] \"Tanzania\"                 \"The Gambia\"              \n[41] \"Togo\"                     \"Uganda\"                  \n[43] \"Zambia\"                   \"Zimbabwe\"                \n\n\nThe E8 countries are Angola, Botswana, Eswatini, Mozambique, Namibia, South Africa, Zambia and Zimbabwe. To filter the data for these countries, you can use the following code to display our data in a table as follows:\n\n\nShow the code\nlibrary(gt)\n\n# define the E8 countries\ne8_countries &lt;- c(\"Angola\", \"Botswana\",\"Eswatini\", \"Mozambique\", \"Namibia\", \"South Africa\", \"Zambia\",  \"Zimbabwe\")\n\nihme_nets |&gt;  \n  mutate(Country = ifelse(Country == \"Swaziland\", \"Eswatini\", Country)) |&gt;  \n  filter(Country %in% e8_countries) |&gt;  \n  head() |&gt;  \n  gt()\n\n\n\n\n\n\n\n\nCountry\nISO\nYear\n% ITN Ownership\n% ITN Ownership Lower Bound\n% ITN Ownership Upper Bound\n% ITN Ownership Pop. At Risk\n% ITN Ownership Pop. At Risk Lower Bound\n% ITN Ownership Pop. At Risk Upper Bound\n% ITN Use U5\n% ITN Use U5 Lower Bound\n%ITN Use U5 Upper Bound\n% ITN Use U5 Pop. At Risk\n% ITN Use U5 Pop. At Risk Lower Bound\n%ITN Use U5 Pop. At Risk Upper Bound\nLLINs Distributed Per Capita\nLLINs Distributed Per Capita Lower Bound\nLLINs Distributed Per Capita Upper Bound\n\n\n\n\nAngola\nAGO\n1999\n4.205\n1.070\n8.260\n4.205\n1.070\n8.260\n1.823343\n0.2811190\n10.45575\n1.823343\n0.2811190\n10.45575\n0.0008978\n0.0006312\n0.0011968\n\n\nAngola\nAGO\n2000\n5.470\n2.615\n8.670\n5.470\n2.615\n8.670\n2.560483\n0.5011920\n11.92120\n2.560483\n0.5011920\n11.92120\n0.0009440\n0.0006260\n0.0012728\n\n\nAngola\nAGO\n2001\n6.960\n4.295\n9.735\n6.960\n4.295\n9.735\n3.370769\n0.7293910\n14.14694\n3.370770\n0.7293910\n14.14694\n0.0009652\n0.0006216\n0.0013144\n\n\nAngola\nAGO\n2002\n6.795\n3.620\n10.220\n6.795\n3.620\n10.220\n3.264936\n0.6668079\n14.27508\n3.264936\n0.6668079\n14.27508\n0.0009839\n0.0006222\n0.0013374\n\n\nAngola\nAGO\n2003\n5.930\n2.405\n10.160\n5.930\n2.405\n10.160\n2.777820\n0.5249189\n13.33062\n2.777820\n0.5249189\n13.33062\n0.0010066\n0.0006548\n0.0013854\n\n\nAngola\nAGO\n2004\n5.670\n2.540\n10.095\n5.670\n2.540\n10.095\n2.642282\n0.5099266\n12.98258\n2.642282\n0.5099266\n12.98258\n0.0078725\n0.0027322\n0.0115660\n\n\n\n\n\n\n\nDeaths, prevalence and incidence estimates\nThis data set contains number/percents/rates of malaria deaths, prevalence and incidence in the following countries:\n\n\nShow the code\nobserved_cases &lt;- read_csv(\"data/IHME-GBD_2021_DATA-05f6b66f-1.csv\", show_col_types = FALSE) \n\nobserved_cases |&gt;  \n  pull(location_name) |&gt;  \n  unique()\n\n\n[1] \"Republic of Angola\"       \"Republic of South Africa\"\n[3] \"Kingdom of Eswatini\"      \"Republic of Zambia\"      \n[5] \"Republic of Zimbabwe\"     \"Republic of Mozambique\"  \n[7] \"Republic of Botswana\"     \"Republic of Namibia\"     \n\n\nWe can look at the data to identify indicators to use for analysis:\n\n\nShow the code\nlibrary(gt)\n\nobserved_cases |&gt;  \n  filter(location_name == \"Republic of South Africa\") |&gt; \n  head() |&gt;  \n  gt()\n\n\n\n\n\n\n\n\nmeasure_id\nmeasure_name\nlocation_id\nlocation_name\nsex_id\nsex_name\nage_id\nage_name\ncause_id\ncause_name\nmetric_id\nmetric_name\nyear\nval\nupper\nlower\n\n\n\n\n1\nDeaths\n196\nRepublic of South Africa\n3\nBoth\n22\nAll ages\n345\nMalaria\n1\nNumber\n2000\n2.147995e+01\n4.741927e+01\n7.290654e+00\n\n\n1\nDeaths\n196\nRepublic of South Africa\n3\nBoth\n22\nAll ages\n345\nMalaria\n2\nPercent\n2000\n4.000841e-05\n8.857476e-05\n1.354524e-05\n\n\n1\nDeaths\n196\nRepublic of South Africa\n3\nBoth\n22\nAll ages\n345\nMalaria\n3\nRate\n2000\n4.731551e-02\n1.044540e-01\n1.605968e-02\n\n\n1\nDeaths\n196\nRepublic of South Africa\n3\nBoth\n22\nAll ages\n345\nMalaria\n1\nNumber\n2001\n3.244936e+02\n7.395696e+02\n1.102811e+02\n\n\n1\nDeaths\n196\nRepublic of South Africa\n3\nBoth\n22\nAll ages\n345\nMalaria\n2\nPercent\n2001\n5.616515e-04\n1.284622e-03\n1.917376e-04\n\n\n1\nDeaths\n196\nRepublic of South Africa\n3\nBoth\n22\nAll ages\n345\nMalaria\n3\nRate\n2001\n7.038036e-01\n1.604074e+00\n2.391920e-01\n\n\n\n\n\n\n\n\nHow to plot this data?\n\nTo access the data used in the next two plots:\n\nNavigate to the ‘Sub-Saharan Africa Insecticide-Treated Bed Nets 1999-2008’ page on the IHME website.\nSelect the tab labelled ‘Files (1)’.\nClick on the link names ‘Insecticide-treated bed nets (Sub-Saharan Africa) 1999-2008’ to download the file.\n\n\n\nShow the code\n# Load insecticide treated nets data\nihme_nets &lt;- read_excel(path = \"data/IHME_INSECTICIDE_TREATED_BEDNETS_SUB_SAHARAN_AFRICA_1999_2008.xls\")\n\n# Pull the names of countries\nihme_nets |&gt; \n  pull(Country) |&gt; \n  unique()\n\n\n [1] \"Angola\"                   \"Benin\"                   \n [3] \"Botswana\"                 \"Burkina Faso\"            \n [5] \"Burundi\"                  \"Cameroon\"                \n [7] \"Central African Republic\" \"Chad\"                    \n [9] \"Comoros\"                  \"Congo\"                   \n[11] \"Cote d'Ivoire\"            \"Dem. Rep. of Congo\"      \n[13] \"Djibouti\"                 \"Equatorial Guinea\"       \n[15] \"Eritrea\"                  \"Ethiopia\"                \n[17] \"Gabon\"                    \"Ghana\"                   \n[19] \"Guinea\"                   \"Guinea-Bissau\"           \n[21] \"Kenya\"                    \"Liberia\"                 \n[23] \"Madagascar\"               \"Malawi\"                  \n[25] \"Mali\"                     \"Mauritania\"              \n[27] \"Mozambique\"               \"Namibia\"                 \n[29] \"Niger\"                    \"Nigeria\"                 \n[31] \"Rwanda\"                   \"SaoTome & Principe\"      \n[33] \"Senegal\"                  \"Sierra Leone\"            \n[35] \"Somalia\"                  \"South Africa\"            \n[37] \"Sudan\"                    \"Swaziland\"               \n[39] \"Tanzania\"                 \"The Gambia\"              \n[41] \"Togo\"                     \"Uganda\"                  \n[43] \"Zambia\"                   \"Zimbabwe\"                \n\n\n\n\nShow the code\nlibrary(gt)\n\n# define the E8 countries\ne8_countries &lt;- c(\"Angola\", \"Botswana\",\"Eswatini\", \"Mozambique\", \"Namibia\", \"South Africa\", \"Zambia\",  \"Zimbabwe\")\n\nihme_nets |&gt; \n  mutate(Country = ifelse(Country == \"Swaziland\", \"Eswatini\", Country)) |&gt; \n  filter(Country %in% e8_countries) |&gt; \n  head() |&gt; \n  gt()\n\n\n\n\n\n\n\n\nCountry\nISO\nYear\n% ITN Ownership\n% ITN Ownership Lower Bound\n% ITN Ownership Upper Bound\n% ITN Ownership Pop. At Risk\n% ITN Ownership Pop. At Risk Lower Bound\n% ITN Ownership Pop. At Risk Upper Bound\n% ITN Use U5\n% ITN Use U5 Lower Bound\n%ITN Use U5 Upper Bound\n% ITN Use U5 Pop. At Risk\n% ITN Use U5 Pop. At Risk Lower Bound\n%ITN Use U5 Pop. At Risk Upper Bound\nLLINs Distributed Per Capita\nLLINs Distributed Per Capita Lower Bound\nLLINs Distributed Per Capita Upper Bound\n\n\n\n\nAngola\nAGO\n1999\n4.205\n1.070\n8.260\n4.205\n1.070\n8.260\n1.823343\n0.2811190\n10.45575\n1.823343\n0.2811190\n10.45575\n0.0008978\n0.0006312\n0.0011968\n\n\nAngola\nAGO\n2000\n5.470\n2.615\n8.670\n5.470\n2.615\n8.670\n2.560483\n0.5011920\n11.92120\n2.560483\n0.5011920\n11.92120\n0.0009440\n0.0006260\n0.0012728\n\n\nAngola\nAGO\n2001\n6.960\n4.295\n9.735\n6.960\n4.295\n9.735\n3.370769\n0.7293910\n14.14694\n3.370770\n0.7293910\n14.14694\n0.0009652\n0.0006216\n0.0013144\n\n\nAngola\nAGO\n2002\n6.795\n3.620\n10.220\n6.795\n3.620\n10.220\n3.264936\n0.6668079\n14.27508\n3.264936\n0.6668079\n14.27508\n0.0009839\n0.0006222\n0.0013374\n\n\nAngola\nAGO\n2003\n5.930\n2.405\n10.160\n5.930\n2.405\n10.160\n2.777820\n0.5249189\n13.33062\n2.777820\n0.5249189\n13.33062\n0.0010066\n0.0006548\n0.0013854\n\n\nAngola\nAGO\n2004\n5.670\n2.540\n10.095\n5.670\n2.540\n10.095\n2.642282\n0.5099266\n12.98258\n2.642282\n0.5099266\n12.98258\n0.0078725\n0.0027322\n0.0115660\n\n\n\n\n\n\n\nAs these data are estimated and lower and upper bounds are provided, a line plot is used to show the change in estimated ITN ownership over time, with ribbons representing the confidence intervals.\n\n\nShow the code\n# Modify the Country names to replace \"Swaziland\" with \"Eswatini\"\nihme_nets |&gt; \n  mutate(Country = ifelse(Country == \"Swaziland\", \"Eswatini\", Country)) |&gt; \n  # Filter the data for Frontline 4 countries\n  filter(Country %in% c(\"Namibia\", \"South Africa\", \"Eswatini\", \"Botswana\")) |&gt; \n  # Create a ggplot object with the filtered data\n  ggplot(aes(x = Year, y = `% ITN Ownership`, color = Country)) +\n  # Add lines to the plot, coloured by Country\n  geom_line(linewidth = 1) +\n  # Add ribbons to the plot to represent the confidence intervals, filled by country\n  geom_ribbon(aes(ymin = `% ITN Ownership Lower Bound`, ymax = `% ITN Ownership Upper Bound`, fill = Country), alpha = 0.2) +\n  # Apply custom colour scale for lines\n  scale_colour_manual_health_radar() +  \n  # Apply custom fill scale for ribbons\n  scale_fill_manual_health_radar() +   \n  # Apply custom theme\n  theme_health_radar() +\n  # Add labels and title to the plot\n  labs(\n    title = \"Estimated ITN ownership in Frontline 4 countries (1999-2008)\",\n    x = \"Year\",\n    y = \"ITN Ownership (%)\",\n    color = \"Country\",\n    fill = \"Country\",  \n    caption = str_wrap(\n      \"The estimated ITN ownership in the Frontline 4 countries from 1999 to 2008. Lines indicate the ownership estimates, while shaded areas represent the confidence bands. The uncertainty in ITN ownership increases over time for all countries. South Africa and Eswatini had the lowest levels of ITN ownership, but after 2004, there is a significant rise in ownership in Botswana and Namibia. Source: Institute for Health Metrics and Evaluation (IHME). Available from: https://doi.org/10.6069/DEE3-E887\", \n      width = 100))\n\n\n\n\n\n\n\n\n\nNo bounds are provided for estimated ITN ownership in at-risk populations, so a simple line graph is used to represent these data.\n\n\nShow the code\n# Modify the Country names to replace \"Swaziland\" with \"Eswatini\"\nihme_nets |&gt; \n  mutate(Country = ifelse(Country == \"Swaziland\", \"Eswatini\", Country)) |&gt; \n  # Filter the data for E8 countries\n  filter(Country %in% e8_countries) |&gt; \n  # Create a ggplot object with the filtered data\n  ggplot(aes(x = Year, y = `% ITN Ownership Pop. At Risk`, color = Country)) +\n  # Add lines to the plot, coloured by Country\n  geom_line(linewidth = 1) +\n  # Apply custom colour scale\n  scale_colour_manual_health_radar() + \n  # Apply custom theme\n  theme_health_radar() +\n  # Add labels and title to the plot\n  labs(\n    title = \"Estimated ITN ownership in at-risk populations (1998-2008)\",\n    x = \"Year\",\n    y = \"ITN Ownership (%)\",\n    colour = \"E8 Country\",\n    caption = str_wrap(\n      \"The estimated ITN ownership among populations at-risk for malaria in Elimination 8 (E8) countries, from 1998 to 2008. The rise in ITN ownership is estimated in all countries, with Zambia, Botswana and Zimbabwe showing the highest percent ownership in 2008, followed by Namibia, Mozambique and Angola. South Africa and Eswatini maintain less than 20% ownership in at-risk populations. Source: Institute for Health Metrics and Evaluation (IHME). Available from: https://doi.org/10.6069/DEE3-E887\", \n      width = 90))\n\n\n\n\n\n\n\n\n\nThe ‘observed_cases’ data can be accessed as follows:\n\nNavigate to the IHME data portal.\nIn the search panel on the left-hand side, make the following selections:\n\nSet GBD Estimate to ‘Cause of death or injury’.\nSelect the measures ‘Prevalence’ , ‘Incidence’ and ‘Deaths’.\nSelect the metrics ‘Number’, ‘Percent’ and ‘Rate’.\nSet Cause to ‘Malaria’.\nFor Location, select the E8 Countries.\nSet Age to ‘All Ages’.\nSet Sex to ‘Both’.\nSelect the years from 2000 to 2021.\n\nPress the download button and follow the prompts to download your file.\n\n\n\nShow the code\nobserved_cases &lt;- read_csv(\"data/IHME-GBD_2021_DATA-05f6b66f-1.csv\", show_col_types = FALSE) |&gt;\n  mutate(location_name = ifelse(location_name == \"Swaziland\", \"Eswatini\", location_name))\n\nobserved_cases |&gt; \n  pull(location_name) |&gt; \n  unique()\n\n\n[1] \"Republic of Angola\"       \"Republic of South Africa\"\n[3] \"Kingdom of Eswatini\"      \"Republic of Zambia\"      \n[5] \"Republic of Zimbabwe\"     \"Republic of Mozambique\"  \n[7] \"Republic of Botswana\"     \"Republic of Namibia\"     \n\n\n\n\nShow the code\nlibrary(gt)\n\nobserved_cases |&gt; \n  filter(location_name == \"South Africa\") |&gt;\n  head() |&gt; \n  gt()\n\n\n\n\n\n\n\n\nmeasure_id\nmeasure_name\nlocation_id\nlocation_name\nsex_id\nsex_name\nage_id\nage_name\ncause_id\ncause_name\nmetric_id\nmetric_name\nyear\nval\nupper\nlower\n\n\n\n\n\n\n\n\n\nA stacked bar plot has been used to show the estimated number of malaria deaths in the E8 countries from 2000 to 2021.\n\n\nShow the code\n# Convert the observed_cases data to a data frame\nobserved_cases |&gt; \n  as.data.frame() |&gt; \n  # Filter the data for deaths and rate metrics\n  filter(measure_name == \"Deaths\", metric_name == \"Rate\") |&gt; \n  # Group the data by location\n  group_by(location_name) |&gt; \n  # Create a ggplot object with the filtered and grouped data\n  ggplot() +\n  # Add stacked bar plots to the chart, filled based on location\n  geom_bar(aes(x = year, y = val, fill = location_name), stat = \"identity\", position = \"stack\") +\n  # Apply custom fill colour scale\n  scale_fill_manual_health_radar() +   \n  # Apply custom theme\n  theme_health_radar() +\n  # Add labels and title to the plot\n  labs(\n    title = \"Estimated malaria death rate (2000-2021)\",\n    x = \"Year\",\n    y = \"Deaths (rate per 100 000)\",\n    fill = \"E8 Country\",\n    caption = str_wrap(\n      \"The Institute of Health Metrics and Evaluation's (IHME) estimates of the malaria death rate in Elimination 8 (E8) countries for the 2000 to 2021 period. The highest death rate is estimated for Mozambique, followed by Angola. Substantially fewer deaths are estimated for Namibia, Botswana, South Africa, and Eswatini during this period, but it should be noted that the populations at risk of malaria in countries such as South Africa, are much lower than those in countries such as Angola and Mozambique. Source: Institute for Health Metrics and Evaluation (IHME). Global Burden of Disease Study 2021 (GBD 2021) Results. Seattle, WA: IHME, University of Washington, 2024. Available from: https://vizhub.healthdata.org/gbd-results/\", \n      width = 100))\n\n\n\n\n\n\n\n\n\nUpper and lower bounds were again available for the estimated malaria incidence rate, so a line plot with ribbons was chosen to visualise these data.\n\n\nShow the code\n# Convert the observed_cases data to a data frame\nobserved_cases |&gt; \n  as.data.frame() |&gt; \n  # Filter the data for incidence and rate metrics\n  filter(measure_name == \"Incidence\", metric_name == \"Rate\") |&gt; \n  # Create a ggplot object with the filtered data\n  ggplot(aes(x = year, y = val, color = location_name)) +\n  # Add lines to the plot, coloured by location name\n  geom_line(linewidth = 1) +\n  # Add ribbons to the plot to represent the confidence intervals, filled based on location\n  geom_ribbon(aes(ymin = lower, ymax = upper, fill = location_name), alpha = 0.2) +\n  # Apply custom colour scale for lines\n  scale_colour_manual_health_radar() +  \n  # Apply custom fill scale for ribbons\n  scale_fill_manual_health_radar() +\n  # Apply custom theme\n  theme_health_radar() +\n  # Add labels and title to the plot\n  labs(\n    title = \"Estimated malaria incidence rate (2000-2021)\",\n    x = \"Year\",\n    y = \"Incidence (rate per 100 000)\",\n    colour = \"E8 Country\",\n    fill = \"E8 Country\",  \n    caption = str_wrap(\n      \"The estimated malaria incidence rate per 100 000 people from 2000 to 2021 in Elimination 8 (E8) countries. The lines show estimated incidence rate and the shaded areas show the uncertainty intervals. Mozambique is estimated to have experienced malaria incidence of 47 452.43 cases per 100 000 people in 2000, which decreased to 32 050.40 cases per 100 000 by 2021. Zimbabwe is estimated to have experienced erratic malaria incidence, with cases fluctuating over the 21 year period depicted. Note that the low incidence rates estimated in countries such as South Africa and Botswana may be related to the low proportion of their total populations living in regions in which malaria is common. Source: Institute for Health Metrics and Evaluation (IHME). Global Burden of Disease Study 2021 (GBD 2021) Results. Seattle, WA: IHME, University of Washington, 2024. Available from: https://vizhub.healthdata.org/gbd-results/\", \n      width = 85))\n\n\n\n\n\n\n\n\n\n\n\n\nHow can this data be used in disease modelling?\n\nThe Global Burden of Disease (GBD) data on historical trends in on various disease metrics can serve to validate the accuracy of predictions made by transmission models. Malaria models frequently require calibration to align with IHME-derived estimates, such as adjusting transmission rates based on observed incidence or prevalence.\n\nPreparing the data\nThe Global Burden of Disease study has produced estimates of prevalence for malaria worldwide. Prevalence is defined as the total number of cases of a given cause in a specified population at a designated time. It is differentiated from incidence, which refers to the number of new cases in the population at a given time. Observations from Plasmodium falciparum parasite rate (PfPR) surveys and national routine surveillance systems of confirmed and unconfirmed diagnoses are augumented into a model of disease burden. More information on this methodology is provided here.\n\n\nShow the code\n# Load data from GBD\nobserved_df &lt;- read_csv(\"data/IHME-GBD_2021_DATA-05f6b66f-1.csv\", show_col_types = FALSE) |&gt;  \n  as.data.frame() |&gt;  \n  filter(measure_name == \"Prevalence\", metric_name == \"Number\", location_name == \"Republic of South Africa\") |&gt;  \n  rename(value = val)\n\nobserved_df |&gt;  \nggplot() +\n  geom_point(aes(x = year, y = value, colour = measure_name)) +\n  geom_line(aes(x = year, y = value, colour = measure_name)) +\n  scale_colour_manual_health_radar() +\n  theme_health_radar() +\n  labs(title = \"Observed malaria point prevalence for South Africa\",\n    x = \"Year\",\n    y = \"Number of Cases\",\n    caption = str_wrap(\"Source: Institute for Health Metrics and Evaluation IHME | Global Burden of Disease Study (GBD) 2021.\")) +\n  guides(colour = \"none\")\n\n\n\n\n\n\n\n\n\n\n\nModeling prevalence\nA good use of prevalence data is to calibrate transmission models. This is particularly useful if incidence data is limited, and in diseases with a significant asymptomatic proportion of the population, such as malaria. Fitting the model to both incidence and prevalence data provides a more complete picture of disease dynamics.\nPoint prevalence data is obtained from cross-sectional surveys. As such, we may fail to capture dynamic trends in transmission and malaria immunity. In addition, capturing the asymptomatic population (as a proportion of total prevalence) depends on the sensitivity of the diagnostic tool used.\nMalaria models set in endemic countries also assume that humans can be exposed to and infected by an infectious mosquito while recovering from an initial infection (secondary infection). It may be difficult to estimate the true proportion of the population that has recovered from an initial infection already, and is now susceptible to a secondary infection.\nModel calibration\nTo calibrate the model, firstly, build a transmission model that reflects the underlying health system dynamics in the country, coverage levels for any control interventions deployed, as well as relevant mosquito, parasite and human behaviours. We then select key parameters to fine-tune, causing the model output to better mimic the observed data.\nWe minimise the difference between the model output and observed data using sum of least squares or maximum likelihood estimation. An example of this function is shown in the code snippet below, and a simulated plot thereafter.\n\n\nShow the code\n#|eval: false\n#|echo: true\n#|warning: false\n\n# Objective or cost function\nobjective_function &lt;- function(initial_parameters, observed_df) {\n  \n  # Parameters to fine tune\n  a &lt;- initial_parameters[1] # human biting rate\n  pa &lt;- initial_parameters[2] # probability of asymptomatic infection\n  irs_eff &lt;- initial_parameters[3] # effectiveness of IRS at reducing transmission\n  delta &lt;- initial_parameters[4] # natural recovery rate\n  r &lt;- initial_parameters[5] # rate of loss of infectiousness\n  \n  # Run the ODE model\n  output_df &lt;- ode(y = initial_state, \n           times = times, \n           func = seacr, \n           parms = initial_parameters,\n           irs_cov = irs_cov)\n    \n  # Calculate the values for prevalence\n  prev_df &lt;- output_df |&gt;  \n  as.data.frame() |&gt;  \n  mutate(Prv = c(0, diff(CPrv))) |&gt; \n  pivot_longer(!time, names_to = \"state\", values_to = \"value\") |&gt;  \n  mutate(year = 1995 + ceiling(time/365)) |&gt;  \n  filter(state %in% \"Prv\") |&gt;  \n  group_by(year) |&gt; \n  slice_tail(n = 1) |&gt;  \n  filter(year &gt;= 2000) # adjust timeframe to match data\n   \n  # Actual GBD data\n  observed_prev &lt;- filter(observed_df, measure_name == \"Prevalence\")$value\n  \n  # Model projections\n  predicted_prev &lt;- prev_df$value\n  \n  # Calculate distance using sum of least squares or Poisson log- likelihood\n  error &lt;- (observed_prev - predicted_prev)^2\n  #error &lt;- dpois(round(observed_prev, 0), predicted_prev, log = TRUE)\n  \n  total &lt;- sum(error)\n \n  return(-total)\n}\n\n# Run optimization to mimimise total\n\noptim_result &lt;- optim(par = initial_parameters, \n                      fn = objective_function, \n                      observed_df = observed_df, \n                      method = \"L-BFGS-B\",\n                      lower = c(a = 0.1, rho = 1/500, pa = 0.01, delta = 1/280, irs_eff = 0.1, r = 1/21),\n                      upper = c(a = 0.9, rho = 1/40, pa = 0.9, delta = 1/90, irs_eff = 0.9, r = 1/3)\n                     )\n\n# Best-fit parameters from calibration\ncal_parameters &lt;- optim_result$par\n\n# Run model with new calibrated parameters \ncalibrated_output &lt;- ode(y = initial_state, \n           times = times, \n           func = seacr, \n           parms = cal_parameters,\n           irs_cov = irs_cov)\n\n# Plot prevalence of new model fit with ggplot\n\n\n\n\nShow the code\nset.seed(123)\n\n# Simulated values\npredicted_prev &lt;- data.frame(\n  year = 2000:2021,\n  value = observed_df$value + rnorm(length(observed_df$value), mean = 3000, sd = 2000)) |&gt;  \n  mutate(\n    key = \"Initial model output\") |&gt; \n  bind_rows(\n      data.frame(\n  year = 2000:2021,\n  value = observed_df$value + rnorm(length(observed_df$value), mean = 700, sd = 500)) |&gt;  \n  mutate(\n    std_error = 800, # for example\n    lower = value - (1.96 * std_error),\n    upper = value + (1.96 * std_error),\n    key = \"Calibrated Projected prevalence\")\n    )\n\nmerged_df &lt;- bind_rows(\n  predicted_prev,\n  mutate(observed_df, key = \"GBD estimates\")\n  ) \n\nggplot() +\n   geom_line(data = filter(merged_df, key == \"GBD estimates\"), aes(x = year, y = value, colour = key)) +\n   geom_pointrange(data = filter(merged_df, key == \"GBD estimates\"), aes(x = year, y = value, ymin = lower, ymax = upper, colour = key)) + \n  geom_line(data = filter(merged_df, key == \"Initial model output\"), aes(x = year, y = value, colour = key)) +\ngeom_line(data = filter(merged_df, key == \"Calibrated Projected prevalence\"), aes(x = year, y = value, colour = key)) +\n  geom_ribbon(data = filter(merged_df, key == \"Calibrated Projected prevalence\"), aes(x = year, y = value, ymin = lower, ymax = upper), fill = \"grey\", alpha = 0.4) +\n  scale_colour_manual_health_radar() +\n  theme_health_radar() +\n  labs(title = \"Malaria point prevalence for South Africa from 2000 to 2021\",\n       subtitle = \"Simulation of projected prevalance from the transmission model alongside prevalence data\",\n    x = \"Year\",\n    y = \"Number of Cases\",\n    Colour = \"Variable\",\n    caption = str_wrap(\"The calibrated model simulations align more closely with the observed prevalence than the initial projections. These results are compared against prevalence data from the Global Burden of Disease (GBD) 2021 study. The gray ribbon represents the uncertainty in the model estimates, and its overlap with the data's confidence intervals suggests a strong fit.\")\n  )\n\n\n\n\n\n\n\n\n\nCalibrating disease models to real-world data can be challenging. Methods like Approximate Bayesian Computation can be better when considering large datasets or complex models, but may be computationally expensive. You can find some examples of calibration in the literature below:\n\nAwine, T., & Silal, S. P. Assessing the effectiveness of malaria interventions at the regional level in Ghana using a mathematical modelling application. PLOS global public health, 2(12), e0000474 (2022). https://doi.org/10.1371/journal.pgph.0000474\n\n\n\nPolicy implications\nIn general, calibration ensures the model accurately reflects local transmission dynamics and the burden of disease. Specifically, calibrating to prevalence data ensures that we are also representing the asymptomatic burden of infection, and correctly accounting for its contribution to ongoing transmission. This allows policymakers to achieve more credible forecasting and simulate the impact of interventions targeted at the asymptomatic population such as mass testing and treating, or mass drug administration.\n\n\n\n\n\n\n\n Back to top"
  },
  {
    "objectID": "datasources/malaria/malaria-threats-map-insecticide-resistance/insecticide_resistance.html",
    "href": "datasources/malaria/malaria-threats-map-insecticide-resistance/insecticide_resistance.html",
    "title": "Vector insecticide resistance",
    "section": "",
    "text": "OverviewVisualisationsModelling\n\n\n\nAbout the data\n\nThe global database on insecticide resistance in malaria vectors was established in 2014 to help track insecticide resistance worldwide. Following a large data consolidation exercise conducted in 2019, which included the integration of separate WHO regional databases and data from other public sources, it has become the largest database on The ability of mosquito populations to survive exposure to insecticides that would normally kill them, often due to genetic mutations or metabolic adaptations.insecticide resistance available at present. It contains data on the status of insecticide susceptibility of Anopheles mosquitoes in more than 88 countries. The contents of the database are provided by Member States, partners (including research and academic institutes) as well as nongovernmental organizations, and are extracted from published and non-published reports on insecticide bioassays.\nThe database for the Malaria Threat Maps is up-loaded on an ad hoc basis. The database provides the most up to date and comprehensive information regarding insecticide resistance on all continents. The data can be presented in a graphical format as maps detailing individual studies and site-level data for all the threat to vector control. Dashboards depicting epidemiological profile, vectors, insecticide resistance status and spread can be developed for all countries reporting malaria. The databases are interactive and data can be added to the database as it becomes available. Insecticide resistance maps and dashboards can be created for all countries, according to specific insecticides, resistance intensity and mechanisms of resistance. The changing insecticide resistance profile can be viewed spatially or temporally and provides a platform for countries to share insecticide resistance data as the data becomes available. Data reporting tools are also provided on the Global Malaria Programme.\nThese datasets provide information on decadal trends in insecticide resistance and enable comparison between countries. The data provided are on an ad hoc basis at a national and site-level scale.\nTo learn more about the data, visit the Malaria Threats Map website.\n\nAccessing the data\n\nThe data can be accessed on the Global Malaria Programme page on the WHO website. The data has a web page which includes useful contextual information as well as additional resources. The data can be viewed in the original report in excel format as it is usually preferable for modelling to have an excel spreadsheet.\nDatabase description\nThe data contained in the database can be explored and downloaded through the interactive data visualization platform Malaria Threats Map. The platform provides thematic maps showing the status and intensity of insecticide resistance, the status of detection of various resistance mechanisms and the level of involvement of metabolic mechanisms.\nThe database is the source of the insecticide resistance status updates published annually in the World malaria report and of the Global report on insecticide resistance in malaria vectors: 2010-2016. It has also been used for the annual bulletin of the WHO Mekong Malaria Elimination programme, the ALMA score cards and APLMA leaders dashboard and in worldwide research exercises aiming to improve understanding the spread and evolution of insecticide resistance.\nData inclusion criteria\nThe database includes results from bioassays conducted following the standard WHO and CDC procedures for insecticide resistance monitoring in malaria vector mosquitoes with validated, or tentatively validated, discriminating concentrations, as well as results from biochemical and molecular assays. Results of bioassays conducted with non-standard discriminating concentrations are excluded.\nData sources\nThe data are provided by WHO Member States, as well as partner institutions (including research institutes and nongovernmental organizations), some of which run partner platforms such as Vector Base or IR Mapper and are regularly extracted from publications in international peer-reviewed scientific journals.\nData quality control\nData reported by WHO Member States are checked for validity and consistency at WHO country, regional and headquarters levels before being included in the database. Data from partner institutions are checked at WHO headquarters level.\n\nWhat does the data look like?\n\nThe data is in excel spreadsheets used to generate maps of insecticide distribution as well as dashboard summaries of the country situation.\nDescription\nThe database contains results from:\n\nInsecticide susceptibility bioassays (i.e. WHO tube test, WHO bottle bioassay and United States Centers for Disease Control and Prevention [CDC] bottle assays)\nIntensity bioassays\nSynergist-insecticide bioassays\nBiochemical and molecular assays to detect the presence of various resistance mechanisms (i.e. mono-oxygenases, esterases, GSTs, kdr L1014S, kdr L1014F, Ace1R).\n\nThe information included typically looks like this. Data are available for each country and annually. Some datasheets contain a few years of data, while others report data for the most recent year. To make a longer time series of data, you can access older databases such as the African Network for Vector Resistance (ANVR) from the WHO. Be careful to ensure that the definitions indicate whether the normal concentrations were tested and whether intensity assays were conducted as well as information on methodology to be sure that data sets can be compared.\n\nKey points to consider\n\n\nThe data include assays conducted with fewer than the minimum recommended number of mosquitoes (i.e. 100 female anopheline mosquitoes tested in A standardized bioassay to assess mosquito mortality after exposure to a diagnostic dose of insecticide, used to monitor resistance.WHO susceptibility tests) as in the absence of other data these results are informative despite the small sample size.\nData from WHO susceptibility tests and CDC bottle bioassays are included. However, these measure different outcomes and results are therefore not directly comparable to those from WHO tests.\nMosquito collection durations may span two calendar years; hence, the year indicated for a test result in the database is the year when collection of mosquitoes began for that test.\nInsecticide resistance status varies spatially and temporally. Annual national data, provided for summary purposes, are not necessarily reflective of local situations. For decision-making purposes, the most recent data and those at the lowest possible geographical level should be used.\nData quality is dependent on the correct implementation of the standard insecticide resistance test procedures. Ambient conditions such as temperature and humidity, as well as the procedures followed to rear and handle the mosquitoes during the test, may cause significant variations in test results that hamper the comparability of results in time and space. Countries and institutions are encouraged to strictly follow the WHO standard operation procedures for resistance monitoring.\n\n\nExamples of data use in literature\n\n\nWHO: Global vector control response 2017-2030. Geneva: World Health Organization; 2017.\nWilson AL, Courtenay O, Kelly-Hope LA, Scott TW, Takken W, Torr SJ, Lindsay SW: The importance of vector control for the control and elimination of vector-borne diseases. PLOS Neglected Tropical Diseases 2020, 14(1):e0007831.\nGolding N, Wilson AL, Moyes CL, Cano J, Pigott DM, Velayudhan R, Brooker SJ, Smith DL, Hay SI, Lindsay SW: Integrating vector control across diseases. BMC medicine 2015, 13(1):249.\nDengela D, Seyoum A, Lucas B, Johns B, George K, Belemvire A, Caranci A, Norris LC, Fornadel CM. Multi-country assessment of residual bio-efficacy of insecticides used for indoor residual spraying in malaria control on different surface types: results from program monitoring in 17 PMI/USAID-supported IRS countries. Parasit Vectors. 2018 Jan 30;11(1):71. doi: 10.1186/s13071-017-2608-4. PMID: 29382388; PMCID: PMC5791726.\nBisanzio D, Ally M, Ali AS, Kitojo C, Serbantez N, Kisinza WN, Magesa S, Reithinger R. Modelling Insecticide Resistance of Malaria Vector Populations in Tanzania. Am J Trop Med Hyg. 2022 Jul 5;107(2):308-314. doi: 10.4269/ajtmh.21-0262. PMID: 35895397; PMCID: PMC9393459.\n\n\n\n\nHow to use this data\n\nHere is an example illustrating how to download the data, unzip it and read in a sheet. Sometimes the data needs to be prepared before it can be plotted.\n\n\n\n\n\n\n\nTable 1. The pyrethroid resistance intensity data for KwaZulu-Natal in South Africa (2016)\n\n\nData has been extracted for KwaZulu-Natal in South Africa looking at pyrethroid resistance in Anopheles arabiensis, the local vector mosquito. Insecticide intensity studies looking at deltamethrin and permethrin showed that there was no significant resistance to Deltamethrin at 5X the discrimination dose and for Permethrin at 10X the discriminating dose. At normal concentration, there is some resistance as indicated by the low levels of mortality. Intensity assays show that this has not translated to operational resistance.\n\nHow to plot this data\n\n\n\n\n\n\n\n\nFigure 1. The distribution of pyrethroid resistance in South Africa.\n\n\nThis is a graphical representation of Table 1. This shows the distribution of pyrethroid resistance in KwaZulu-Natal for 2010-2024. The resistance is to a specific type of pyrethroid, namely, deltamethrin and the vector that was tested was Anopheles arabiensis.\n\n\n\n\n\n\n\nFigure 2. The distribution of pyrethroid resistance on the African continent.\n\n\nResistance to A class of synthetic insecticides widely used in malaria control (e.g., in bed nets and sprays) that target mosquito nervous systems.Pyrethroids has been identified from most countries in Africa but there is a scarcity of data on insecticide resistance intensity. The above figure shows the distribution of the intensity of pyrethroid resistance on the African continent which ranges from low to moderate in the east and south to moderate to high in the west. This map is made up of 1445 bioassays with the majority being in north-western Africa.\n\n\n\nHow can this data be used in disease modelling?\n\nWe use the results of discriminating concentration bioassays in Mozambique to inform the levels of insecticide resistance. These bioassays measure the concentration of insecticide required to differentiate between susceptible and resistant vectors. This is valuable in translating how vector resistance affects transmission potential.\n\nPreparing the data\nWe calculate the proportion of confirmed resistance to calculate the selection pressure, and the mean mortality across all studies done in Mozambique. The data glossary states that the adjusted mosquito mortality is either the result of applying Abbott’s formula to the average observed mosquito mortality accross all replicates (when control mortality is between 5-20%) or the average observed mosquito mortality across all replicates (when control mortality is below 5%).\n\n\nShow the code\n# Load the data from Mozambique\ninsecticide_data &lt;- read_excel(\"MTM_DISCRIMINATING_CONCENTRATION_BIOASSAY_20250330.xlsx\", sheet = 2)\n\n# Calculate selection pressure: Proportion of instances of confirmed resistance\nres = sum(insecticide_data$RESISTANCE_STATUS == \"Confirmed resistance\")/nrow(insecticide_data)\n\n# Calculate mean mortality \ninsecticide_data_summ &lt;- insecticide_data |&gt; \n  mutate(MORTALITY_ADJUSTED = as.numeric(insecticide_data$MORTALITY_ADJUSTED)) |&gt; \n  group_by(YEAR_START, RESISTANCE_STATUS) |&gt; \n  summarise(mean_mortality = mean(MORTALITY_ADJUSTED), .groups = \"drop\") |&gt;\n  complete(YEAR_START = full_seq(YEAR_START, 1), RESISTANCE_STATUS) |&gt;\n  mutate(time = (YEAR_START - min(YEAR_START)) * 365)\n\n# Assign colours from theme health radar\nstatus_colours &lt;- c(\n  \"Susceptible\" = theme_health_radar_colours[5],          \n  \"Possible resistance\" = theme_health_radar_colours[6], \n  \"Confirmed resistance\" = theme_health_radar_colours[13],\n  \"Undetermined\" = theme_health_radar_colours[7]\n)\n\n\ninsecticide_data_summ |&gt; \n  ggplot() +\n  geom_point(aes(x = YEAR_START, y = mean_mortality, colour = as_factor(    \nRESISTANCE_STATUS))) +\n  theme_health_radar() +\n  scale_colour_manual(values = status_colours) +\n  scale_y_continuous(limits = c(0, NA)) +\n  labs(title = \"Trend of mosquito mortality in Mozambique\",\n       subtitle = \"Results from MTM discriminating concentration bioassay\",\n       x = \"Year\",\n       y = \"Adjusted mosquito mortality (%)\",\n       colour = \"Resistance status\",\n       caption = str_wrap(\"We see that more mosquitoes survive in bioassays of confirmed resistance in Mozambique over time, indicating a worsening resistance profile. In 2021, mortality dropped to just 40%, highlighting a significant decline in susceptibility. Possible resistance remains somewhat stable (about 92% mosquito mortality). Source: Malaria Threats Map\"))\n\n\n\n\n\n\n\n\n\nWe incorporate this data into the model in two ways:\n\nSelection Pressure, as the proportion of vectors that start as resistant due to prior selection by insecticide use. From the data we find that in 115 of the 529 bioassays conducted resistance was confirmed, and set the selection pressure \\(res\\) at 21%.\nAdjusting the effectiveness of interventions, \\(effr_{level}\\) to represent the reduced effectiveness of an intervention such as long-lasting insecticidal nets (LLINs) against resistant mosquitoes.\n\nIn a more complex model you may also have different rates of mosquito mortality \\(\\mu_m\\), susceptibility to infection \\(b\\), or biting rates \\(a\\) (due to fitness costs) for insecticide-sensitive and resistant vectors.\nIn this simple model example, we assume the coverage of LLINs to be constant at 75%, further reduced by the usage rate. A more detailed example of the implementation of LLINs (including effectiveness, attrition and insecticidal decay) into a transmission model can be found here. We demonstrate the impact of vector insecticide resistance on the effective coverage of LLINs.\n\n\nShow the code\n# Time points for the simulation\nY = 14 # Years of simulation\ntimes &lt;- seq(0, 365*Y, by = 1)\n\n# Estimates of resistance levels over time\nresdata &lt;- insecticide_data_summ |&gt; \n  filter(RESISTANCE_STATUS == \"Confirmed resistance\") |&gt; \n  mutate(mean_mortality = mean_mortality/100) # convert into decimal\n\n# Make a time dependent variable of resistance levels\neffr_level &lt;- approxfun(resdata$time, resdata$mean_mortality, n = 365*Y, ties = \"ordered\", method = \"constant\", rule = 2)\n\n# SEACR-SEI model\nseacr &lt;- function(times, start, parameters, effr_level) { \n  with(as.list(c(start, parameters)), {\n    P = S + E + A + C + R + G \n    M_s = Sm_s + Em_s + Im_s\n    M_r = Sm_r + Em_r + Im_r\n    M = M_s + M_r\n    m = M / P\n    \n    # Seasonality\n    seas.t &lt;- amp*(1+cos(2*pi*(times/365-phi)))\n   \n    # Nets\n    itn &lt;- itn_cov*itn_use\n    itn_r &lt;- itn*(effr_level(times)) # Adjust effective coverage of ITNs based on resistance level\n    \n    # Force of infection\n    Infectious = C + zeta_a*A # infectious reservoir\n    lambda.v &lt;- seas.t*a*M/P*b*(Im_r*(1-itn_r) + Im_s*(1-itn))/M\n    lambda.h &lt;- seas.t*a*c*Infectious/P*(1-itn)\n    \n    # Differential equations/rate of change\n    \n    # Insecticide-sensitive mosquito compartments\n    dSm_s = (1-res)*mu_m*M - (lambda.h)*Sm_s - mu_m*Sm_s\n    dEm_s = (lambda.h)*Sm_s - (gamma_m + mu_m)*Em_s\n    dIm_s = gamma_m*Em_s - mu_m*Im_s\n    \n    # Insecticide-resistant mosquito compartments\n    dSm_r = res*mu_m*M - (lambda.h)*Sm_r - mu_m*Sm_r\n    dEm_r = (lambda.h)*Sm_r - (gamma_m + mu_m)*Em_r\n    dIm_r = gamma_m*Em_r - mu_m*Im_r\n    \n    # Human compartments\n    dS = mu_h*P - lambda.v*S + rho*R - mu_h*S\n    dE = lambda.v*S - (gamma_h + mu_h)*E\n    dA = pa*gamma_h*E + pa*gamma_h*G - (delta + mu_h)*A\n    dC = (1-pa)*gamma_h*E + (1-pa)*gamma_h*G - (r + mu_h)*C\n    dR = delta*A + r*C - (lambda.v + rho + mu_h)*R\n    dG = lambda.v*R - (gamma_h + mu_h)*G\n    \n    dCInc = lambda.v*(S + R)\n\n    # Output\n    list(c(dSm_s, dEm_s, dIm_s, dSm_r, dEm_r, dIm_r, dS, dE, dA, dC, dR, dG, dCInc), itn=itn, itn_r=itn_r)\n  })\n}\n\n\n# Initial values for compartments\ninitial_state &lt;- c(Sm_s = 5000000, # susceptible insecticide-sensitive mosquitoes\n                   Em_s = 3000000, # exposed and infected insecticide-sensitive mosquitoes\n                   Im_s = 1000000, # infectious insecticide-sensitive mosquitoes\n                   Sm_r = 4000000, # susceptible insecticide-resistant mosquitoes\n                   Em_r = 2000000, # exposed and infected insecticide-resistant mosquitoes\n                   Im_r = 1000000, # infectious insecticide-resistant mosquitoes\n                   S = 3500000, # susceptible humans\n                   E = 350000, # exposed and infected humans\n                   A = 1300000, # asymptomatic and infectious humans\n                   C = 650000, # clinical and symptomatic humans\n                   R = 100000, # recovered and semi-immune humans\n                   G = 100000, # secondary-exposed and infected humans\n                   CInc = 0 # cumulative incidence in humans infected by insecticide resistant mosquitoes\n                  \n)\n\n# Country-specific parameters should be obtained from literature review and expert knowledge\nparameters &lt;- c(a = 0.3, # human biting rate\n                b = 0.4, # probability of transmission from mosquito to human\n                c = 0.4, # probability of transmission from human to mosquito\n                r = 1/7, # rate of loss of infectiousness after treatment\n                rho = 1/160, # rate of loss of immunity after recovery\n                delta = 1/200, # natural recovery rate\n                zeta_a = 0.4, # relative infectiousness of of asymptomatic infections\n                pa = 0.35, # probability of asymptomatic infection\n                mu_m = 1/10, # birth and death rate of mosquitoes\n                mu_h = 1/(62*365), # birth and death rate of humans\n                gamma_m = 1/10, # extrinsic incubation rate of parasite in mosquitoes\n                gamma_h = 1/10, # extrinsic incubation rate of parasite in humans\n                res = 0.2174, # selection pressure, obtained from data\n                amp = 0.5, # amplitude of seasonality\n                phi = 200, # phase angle, start of season\n                itn_use = 0.58, # probability of sleeping under a net\n                itn_cov = 0.75 # coverage of LLINs in the population at risk\n                )\n    \n\n# Run the model\nout &lt;- ode(y = initial_state, \n           times = times, \n           func = seacr, \n           parms = parameters,\n           effr_level = effr_level)\n\n# Post-processing model output into a dataframe\n\ndf &lt;- as_tibble(as.data.frame(out)) |&gt; \n  pivot_longer(cols = -time, names_to = \"variable\", values_to = \"value\") |&gt; \n  mutate(date = ymd(\"2010-01-01\") + time)\n\ndf |&gt;\n    filter(variable %in% c(\"itn\", \"itn_r\"), date &gt; \"2010-01-01\") |&gt;\n    mutate(`Insecticide Status` = case_when(\n    variable == \"itn\" ~ \"Sensitive\",\n    variable == \"itn_r\" ~ \"Resistant\")) |&gt; \n    ggplot(aes(x = date, y = value, colour = `Insecticide Status`)) + \n    geom_line() +\n    scale_y_continuous(labels = scales::percent, limits = c(0, 0.6)) +\n    labs(\n      x = \"Year\", \n      y = \"Effective coverage\", \n      title = \"Effective coverage of LLINs in Mozambique 2010 to 2023\",\n      subtitle = \"Changes due to confirmed resistance\",\n      caption = str_wrap(\"In this example plot, transmission from insecticide-sensitive mosquitoes is consistently protected due to the effective coverage of LLINs. However, when confirmed insecticide resistance increases, and more mosquitoes survive the MTM discriminating bioassays, LLIN effectiveness decreases, as is seen in 2012, 2020 and 2021. Increases in mosquito mortality in 2014 led to an increase in the effective coverage of LLINs. Source: Model output.\")) +\n    theme_health_radar()\n\n\n\n\n\n\n\n\n\n\n\nPolicy implications\nThe direct relationship between insecticidal efficacy and LLIN impact is shown in the example above. Declining effectiveness due to resistance highlights the urgent need for insecticide resistance management to maintain the returns on investment in vector control. This may lead to changes in the active ingredient in the LLINs used, rotations of the insecticide classes in IRS campaigns or subnational adaptations to vector control strategies. Ultimately insecticide resistance compromises the effectiveness of core interventions and threatens progress toward malaria elimination goals.\n\n\n\n\n\n\n\n Back to top"
  },
  {
    "objectID": "datasources/malaria/map/map.html",
    "href": "datasources/malaria/map/map.html",
    "title": "Malaria Atlas Project (MAP)",
    "section": "",
    "text": "OverviewVisualisationsModelling\n\n\n\nAbout the data\n\nThe Malaria Atlas Project (MAP) is a leading global resource that compiles and analyses spatial data on malaria transmission and prevalence. The MAP site houses millions of data elements and provides innovative analytical approaches to making sense of complex malaria data.\nThe analytical approaches available on the site use geospatial analysis, spatiotemporal statistical methods, machine learning, and computational disease models.\nCollaboratively, MAP produces these outputs with a core team based at the Telethon Kids Institute and Curtin University in Perth, Western Australia; and Ifakara Health Institute in Dar es Salaam in Tanzania. MAP also has members across Europe, the United States, Africa and Asia.\n\nAccessing the data\n\nMAP data can be accessed directly from https://data.malariaatlas.org/ in various formats, including by:\n\nGenerating maps and charts on the site, and selecting parameters of interest. The site also allows various variables to be overlaid spatially.\nDownloading CSV and Raster file formats for analysis using other software outside the site. The download process allows users to filter for national and subnational areas of interest.\n\n\nWhat does the data look like?\n\nDescription\nMAP estimated data on malaria covers morbidity, mortality, interventions, and contributing factors, primarily covering the years from 2000 to 2022 (as of 2024). Specifically;\n\nIncidence and prevalence\nMortality\nTreatment\nAccessibility factors\nInsecticide-treated nets (ITNs)\nIndoor residual spraying\nVector occurrence\nHuman population\nHousing quality\nZoonotic malaria\n\nThe data listed above can be found at https://data.malariaatlas.org/\n\n\n\n\n\n\n\nMAP-Data landing page\n\n\n\nKey points to consider\n\n\nEstimates vs. data\nMost information provided by MAP comprises modelled estimates rather than definitive data, which may carry inherent uncertainties. Consequently, it is essential to acknowledge the uncertainties associated with the data when drawing conclusions.\n\n\nPitfalls of annual data\nMAP data are aggregated annually, which may lead to several pitfalls such as;\n\nSeasonal variations: Annual data may not capture the seasonal patterns of malaria transmission, which can be influenced by factors such as rainfall, temperature, and vector abundance. This can lead to an over- or underestimation of the disease burden and the impact of interventions.\nTemporal aggregation: Aggregating data annually may mask important short-term dynamics, such as outbreaks or the immediate impact of interventions.\n\n\n\n\n\nHow to use this data?\n\nThe tabs below have videos that will help you navigate through the MAP data. These guides are also found on MAP’s |&gt; help page.\n\nTrendsMapsCommodities\n\n\nTrends Help Guides\n\n\n\nMap Help Guide\n\n\n\nCase Management Help Guide\n\nInsecticide Treated Nets Help Guide\n\n\n\n\n\nHow to plot this data?\n\nThe data used in the creation of this first plot can be accessed as follows:\n\nNavigate to the MAP Data page\nSelect the dropdown menu labelled ‘Trends’ visible on the top left-hand side of the page. From this dropdown menu, select the ‘Interventions’ option.\nA world map should be visible at the bottom of your screen. Just above this map are the options ‘National’, ‘Subnational’ and ‘Pixel’. Select ‘Subnational’.\nTo the far right of the ‘Subnational’ button, click on the button labelled ‘Download ITN Rate Data’.\nA popup should appear on your screen. Leave all metrics selected, but select just the year 2022 and the regions of Malawi. 6. Click ‘Download selected’.\n\n\n\nShow the code\n# Load packages\nlibrary(tidyverse)\nsource(here::here(\"theme_health_radar.R\"))\n\n\n\n\nShow the code\n# Load the selected data\ndata &lt;- read.csv(\"Subnational_Unit-data.csv\")\n\n# Plot ITN metrics at a subnational level in Malawi\nggplot(data, aes(x = as.factor(Name), y = Value, fill = Metric)) +\n  # Create bar plot with identity statistic and no legend\n  geom_col(position = \"dodge\") + \n  # Use the health radar color scheme\n  scale_fill_manual_health_radar() +\n  # Set y-axis ticks increment to 10\n  scale_y_continuous(breaks = seq(0, max(data$Value, na.rm = TRUE), by = 10)) +  \n  # Add titles and labels\n  labs(\n    title = \"Estimated subnational ITN use, access, and use rate in Malawi (2022)\",\n    x = \"Region\",\n    y = \"ITN Use* (per 100 people)\",\n    caption = str_wrap(\"Estimated subnational ITN use, access, and use rate (ITN use given access) per 100 people in Malawi in the year 2022. We can see that only a slightly higher proportion of the population has access to ITNs than uses them in every region of Malawi, which is reflected in the relatively high use rates, all of which are above 80%. Source: MAP 2024. *Or access or use rate\", width = 100)) + \n  # Apply the health radar theme\n  theme_health_radar() \n\n\n\n\n\n\n\n\n\nTo download raster files from the MAP website,\n\nClick on “Maps”\nSelect the drop down arrow titled “Layer Catalogue”\nSelect the data theme of interest, such as “Accessibility”\nClick the “Download” symbol beside the description of the dataset in which you are interested.\n\nAs the resulting dataset for global walking only travel time to healthcare is very large, the code which follows uses a version of this data which has been filtered to include data for Zambia only.\n\n\nShow the code\nlibrary(tidyverse)\nlibrary(sf)\nlibrary(terra)\nlibrary(patchwork)\n\n# Specific link used to access Shapefile: (https://data.grid3.org/datasets/d27357c640394f11943316e36cebaba3_0/about)\n\n# Load the data and filter by provinces of interest\nshp_zambia &lt;- sf::st_read(\n            \"Zambia_-_Administrative_District_Boundaries_2022/Zambia_-_Administrative_District_Boundaries_2022.shp\", \n  quiet = TRUE) |&gt;  \n  filter(PROVINCE %in% c(\"Eastern\", \"Northern\", \"Southern\", \"Western\")) \n\n\n# Load raster file containing walking only travel time to healthcare\nraster_walk &lt;- rast(\"Global_Walking_Only_Travel_Time_To_Healthcare_ZMB.tiff\")\n\n# Extract mean walking time to health facility in each district \ndf_walk &lt;- terra::extract(raster_walk, shp_zambia, mean, na.rm = T, ID = T) |&gt;  \n  as.data.frame() |&gt;  \n  tibble::rownames_to_column() |&gt; \n  mutate(OBJECTID = as.numeric(rowname)) |&gt;  #OBJECTID is the unique ID in the shapefile\n  left_join(shp_zambia, by = c(\"OBJECTID\"))\n\n\nThe mean walking time to access healthcare by Zambian district can be visualised using a bar plot. The province in which each district is located can be distinguished by colour.\n\n\nShow the code\n# Filter the data to include only rows where PROVINCE is not NA\ndf_walk &lt;- df_walk |&gt;\n  filter(is.na(PROVINCE) == FALSE) |&gt;  # Remove rows with missing PROVINCE values\n  arrange(PROVINCE, DISTRICT)  # Arrange the data by PROVINCE first, and then DISTRICT in ascending order\n\n  # Create a ggplot object with the filtered and sorted data\n  # Adjust the order of the factor variable DISTRICT's levels so that districts in the same province appear together\n  df_walk |&gt; ggplot(aes(x = factor(DISTRICT, levels = df_walk$DISTRICT), \n                        y = `Global_Walking_Only_Travel_Time_To_Healthcare_ZMB`, \n                        fill = PROVINCE)) +\n  # Add bar plots to the chart, with bars filled by PROVINCE\n  geom_bar(stat='identity') +\n  # Apply custom theme\n  theme_health_radar() +\n  # Customize the x-axis text to be angled and adjusted\n  theme(axis.text.x = element_text(angle = 70, hjust = 0.6)) +\n  # Apply custom fill color scale\n  scale_fill_manual_health_radar() + \n  # Add labels and title to the plot\n  labs(\n    title = \"Mean walking time to access healthcare in Zambia, by district\",\n    x = \"District\",\n    y = \"Mean Walking Time (min)\",\n    fill = \"Province\",\n    caption = str_wrap(\n      \"The average walking time in minutes of various districts in selected provinces from their closest healthcare provider. The Northern province has districts with some of the highest walking times to access healthcare, while the Eastern Province district of Chadiza has the lowest. This lowest average walking time to a healthcare facility is still over an hour. Source: MAP\", \n      width = 100))\n\n\n\n\n\n\n\n\n\n\n\n\nHow can this data be used in disease modelling?\n\nThe Malaria Atlas Project provides modelled estimates for various interventions, including indoor residual spraying (IRS). Below, we show how IRS coverage estimates from MAP can be used for disease modeling.\n\nPreparing the data\nThe code below demonstrates how IRS coverage data can be prepared for modeling, using data from Zambia as an illustrative example. In the code, we show that the coverage data are presented on a annual basis, as depicted in the plot.\n\n\nShow the code\n# Read in IRS data.\n\nIRSdata &lt;- read.csv(\"National Unit-data.csv\") |&gt;  \n  mutate(sprayed = (Value/100)*3600000, # estimated number of households sprayed in Zambia\n         time = c(seq(0, 365*9, by = 365))) # time steps for each year for 10 years\n            \n\n# Coverage plot\n\nggplot(data = IRSdata) +\n  geom_col(aes(x = Year, y = Value, fill = theme_health_radar_colours[9])) +\n  expand_limits(y = 0) + # ensure y-axis starts at 0\n  labs(\n    x = \"Year\",\n    y = \"IRS Coverage (%)\",\n    title = \"Countrywide IRS coverage for Zambia\",\n    caption = str_wrap(\"This plot illustrates yearly country-wide IRS coverage from 2013 to 2022. The graph reveals fluctuations in coverage over the years, with a notable low in 2013 and 2018. Source: MAP\")\n  ) +\n  scale_x_continuous(breaks = round(seq(min(IRSdata$Year), max(IRSdata$Year), by = 1))) + # Rounding x-axis values\n  theme_health_radar() +\n  theme(legend.position=\"none\")\n\n\n\n\n\n\n\n\n\nTo incorporate this into a mathematical model, we obtain the absolute number of households sprayed from MAP and calculate the actual number of individuals protected. Using a constant human population of about 17,000,000, we assume a number with 5 individuals per household and a total of 3400000 households.\n\n\nModel assumptions\nIt is crucial to articulate the assumptions underlying the dynamics. In addition to the above, we assume the vector population is at equilibrium, the force of infection is seasonal, and all areas are eligible for IRS.\nThe parameters used to inform the model are described below. These should be replaced with country-specific data on seasonality, IRS implementation and other health system dynamics.\nA more complex model may have further incorporated intervention uptake/refusals, as are known to occur with IRS, as well as the biting and resting behaviours of the dominant vector in the country.\n\n\n\nSource: WHO (2014). From malaria control to malaria elimination: a manual for elimination scenario planning.\n\n\n\n\nImplications for transmission and incidence\nIn this example, we plot daily incidence from 2013 to 2022. As Indoor Residual Spraying (IRS) is intended to repel and kill mosquitoes, we anticipate a reduced human biting rate and therefore lower transmission rates. Plotting incidence for this model may highlight the estimated impact of IRS on cases over time.\n\n\nShow the code\n#| echo: true\n#| code-fold: true\n#| code-summary: \"Show the code\"\n#| warning: false\n\nlibrary(deSolve)\n\n# Time points for the simulation\nY = 10 # Years of simulation\ntimes &lt;- seq(0, 364*Y, 1) # time in days\n\n# Make a time dependent function of annual IRS coverage\nirs_cov &lt;- approxfun(IRSdata$time, IRSdata$sprayed, t, method = \"constant\", rule = 2)\n\n# Define basic dynamic Human-static Vector model ####\nseirs &lt;- function(times, start, parameters, irs_cov)  {\n  with(as.list(c(parameters, start)), {\n    P = S + E + A + C + R + G\n    M = Sm + Em + Im\n    m = M / P\n    \n    # Time dependent IRS coverage\n    IRSc = (irs_cov(times))*pp_h/365/P # daily proportion of the population covered by current spraying cycle \n    IRSe = min(1, IRS)*irs_eff # effective IRS coverage, proportion of population covered by IRS should never be more than 1\n    \n    # Seasonality\n    seas.t &lt;- amp * (1 + cos(2 * pi * (times / 365 - phi)))\n    \n    # Force of infection\n    Infectious &lt;- C + zeta_a*A #infectious reservoir\n    lambda = ((a^2*b*c*m*Infectious/P)/(a*c*Infectious/P+mu_m)*(gamma_m/(gamma_m+mu_m)))*(1-IRSe)*seas.t\n    \n    # Differential equations/rate of change\n    dSm = 0\n    dEm = 0\n    dIm = 0\n    \n    dS = mu_h*P - lambda*S + rho*R - mu_h*S\n    dE = lambda*S - (gamma_h + mu_h)*E\n    dA = pa*gamma_h*E + pa*gamma_h*G - (delta + mu_h)*A\n    dC = (1-pa)*gamma_h*E + (1-pa)*gamma_h*G - (r + mu_h)*C\n    dR = delta*A + r*C - (lambda + rho + mu_h)*R\n    dG = lambda*R - (gamma_h + mu_h)*G\n     \n    dCInc = lambda*(S+R)\n    dIRS = IRSc - decay*IRS\n    \n    output &lt;- c(dSm, dEm, dIm, dS, dE, dA, dC, dR, dG, dCInc, dIRS)\n    list(output)\n  })\n}\n# Input definitions ####\n#Initial values\nstart &lt;- c(Sm = 30000000, # susceptible mosquitoes\n           Em = 20000000, # exposed and infected mosquitoes\n           Im = 800000, # infectious mosquitoes\n           S = 9000000, # susceptible humans\n           E = 1500000, # exposed and infected humans\n           A = 1000000, # asymptomatic and infectious humans\n           C = 2000000, # clinical and symptomatic humans\n           R = 1500000, # recovered and semi-immune humans\n           G = 2000000, # secondary-exposed and infected humans\n           CInc = 0, # cumulative incidence\n           IRS = 0.5 #proportion of the population currently protected by IRS\n           ) \n\n\n# Parameters\nparameters &lt;- c(a = 0.28, # human feeding rate per mosquito\n           b = 0.3, # transmission efficiency M-&gt;H\n           c = 0.3, # transmission efficiency H-&gt;M\n           gamma_m = 1/10, # rate of onset of infectiousness in mosquitoes\n           mu_m = 1/12, # natural birth/death rate in mosquitoes\n           mu_h = 1/(60*365), # natural birth/death rate in humans\n           gamma_h = 1/10, # rate of onset of infectiousness in humans\n           r = 1/7, # rate of loss of infectiousness after treatment\n           rho = 1/365, # rate of loss of immunity after recovery\n           delta = 1/150, # natural recovery rate\n           zeta_a = 0.4, # relative infectiousness of asymptomatic infections\n           pa = 0.1, # probability of asymptomatic infection\n           pp_h = 5, # number people per household in Zambia\n           irs_eff = 0.8, # IRS effectiveness at reducing transmission\n           decay = 1/(4*30), # rate at which IRS wanes in days\n           amp = 0.6, # Amplitude\n           phi = 200 # phase angle; start of season\n)\n\n# Run the model\nout &lt;- ode(y = start, \n           times = times, \n           func = seirs, \n           parms = parameters,\n           irs_cov = irs_cov)\n\nmo &lt;- as_tibble(as.data.frame(out)) |&gt;  \n  mutate(\n    P = S + E + A + C + R + G,\n    Inc = c(0, diff(CInc))) |&gt;  \n  pivot_longer(names_to = \"variable\", cols = !1) |&gt;  \n  mutate(date = ymd(\"2013-07-01\") + time)\n\nmo |&gt;\n    filter(variable == \"Inc\", date &gt; ymd(\"2014-01-01\")) |&gt;\n    ggplot(aes(x = date, y = value)) + \n    geom_line(color = theme_health_radar_colours[19]) +\n    scale_y_continuous(labels = scales::unit_format(unit = \"K\", scale = 1e-3)) +\n    labs(\n      x = \"Year\", \n      y = \"Incidence\", \n      title = \"Daily country-wide incidence in Zambia\",\n      caption = str_wrap(\"This example plot illustrates the daily country-wide incidence of malaria from 2014 to 2022. The graph reveals fluctuations in incidence over the years, with a slight increase in 2019 coinciding with low IRS coverage in 2018. This highlights the potential impact of reduced intervention efforts on malaria transmission. Source: Model output.\")) +\n    theme_health_radar()\n\n\n\n\n\n\n\n\n\n\n\nPolicy implications\nPolicymakers may need to justify the use or scale-up of IRS as part of their integrated vector management strategy. Modelling this intervention allows users to assess the impact of IRS on the force of infection, thereby quantifying its effects. In addition, simulating implementation details such as the residual efficacy of the specific insecticide applied, the frequency of application (annual or bi-annual), or the timing of the campaign are key insights for malaria programming.\n\n\n\n\n\n\n\n Back to top"
  },
  {
    "objectID": "datasources/malaria/unicef-child-statistics/unicef_child_statistics.html",
    "href": "datasources/malaria/unicef-child-statistics/unicef_child_statistics.html",
    "title": "UNICEF DATA - Child Statistics",
    "section": "",
    "text": "OverviewVisualisationsModelling Example\n\n\n\nAbout the data\n\nUNICEF DATA - Child Statistics provides a wealth of information related to child and women’s health globally, with significant coverage of Southern African countries. This includes crucial data for malaria analysis such as: insecticide-treated net (ITN) use among children under five and household members, intermittent preventative treatment for pregnant women (IPTp), and key indicators related to malaria testing and treatment for children in endemic countries. These data are primarily collected through nationally representative household surveys, specifically Multiple Indicator Cluster Surveys (MICS) and Demographic and Health Surveys (DHS). Note that these data can also be accessed from the DHS Program website.\nWhile recorded annually, meaning the dataset may not be appropriate for investigating granular seasonal trends, it offers valuable insights into longer-term patterns. For each indicator and country, values can be obtained nationally, by sex (typically disaggregated by relevant age groups for children), by area (urban or rural), by mother’s education level, or by wealth index quintiles (WIQ). Researchers should note that while these surveys provide robust national and sometimes urban/rural estimates, disaggregation at finer subnational levels are limited. The data are publicly accessible via the UNICEF DATA website, and often mirrored on platforms like the DHS Program’s STATcompiler, providing essential evidence for policy and programmatic decisions aimed at malaria control and elimination in the region.\n\nAccessing the data\n\nThe UNICEF data website serves as a central hub, offering an array of resources such as a frequently updated blog, journal articles, publications, data visualisations, datasets, and other resources related to the data they make available. For those interested in malaria and broader child health indicators, several avenues exist for data access, catering to different levels of detail and user needs.\n\nCurated datasets from UNICEF Topic Pages\n\nUNICEF’s topic-specific pages, such as the Malaria webpage, often present data within a narrative context, accompanied by pre-selected indicator datasets available for direct download. These datasets are typically provided as Excel files, offering a convenient “single pack” of key indicators relevant to the topic.\nTo access the Child Health Coverage dataset, for example, from the UNICEF data website:\nNavigate to the ‘Data by Topic’ tab, and select the ‘Malaria’ option from the ‘Child and Adolescent Health’ subsection to reach UNICEF’s Malaria webpage.\nScroll down until you see the heading ‘Malaria Data’. Select the download button beside the label ‘Child Health Coverage’.\nThe dataset will be downloaded as an Excel file, containing many of the indicators discussed previously, pre-filtered for ease of use.\n\nDirect Access to Survey Data (DHS and MICS Programs)\n\nFor users seeking more granular data, the DHS Program and MICS provide direct access to survey data. These platforms allow users to explore datasets by country, year, and specific indicators. Users can download raw data files for further analysis or use online tools to generate custom tables and visualisations. More information can be found on the DHS Program page.\n\nUNICEF Indicator Data Warehouse (SDMX)\n\nFor users requiring programmatic access or a broader range of demographic and health indicators beyond those curated for specific topics, UNICEF provides data through its “UNICEF Indicator Data Warehouse.” This warehouse utilizes the SDMX (Statistical Data and Metadata eXchange) protocol, a standard for exchanging statistical data and metadata.\nAccessing data via SDMX allows for automated data retrieval, making it suitable for advanced users, developers, or researchers who wish to integrate UNICEF data directly into their own analytical platforms or databases. This method provides access to a vast array of indicators, including fundamental demographic data (e.g., population figures, birth rates, number of pregnancies) which can be crucial for contextualizing and analyzing the malaria situation in a country. Details on how to connect to the SDMX API are available on the UNICEF data website for those with technical expertise. Note that there is an R package rsdmx which can be used to access SDMX data in R.\n\nWhat do the data look like?\n\nFollowing the first datastream above, the downloaded “Child Health Coverage” Excel document has 19 sheets. The first, which will come up when the file is opened, contains a description of each of these sheets, as well as a thorough description of each indicator, how they are calculated, and the primary sources from which they are drawn.\n\n\n\nLayout of the first sheet of the Excel document.\n\n\n\nKey points to consider\n\nWhen utilizing data from UNICEF’s platform, particularly for malaria analysis in Southern Africa, it’s important to be aware of certain characteristics and potential interpretations to ensure robust and accurate insights.\nValue Proposition of UNICEF Data:\nWhile much of the underlying data originates from surveys like DHS and MICS (which can be accessed directly), UNICEF’s portal offers significant value through its:\n\nDescriptive Narrative and Contextualization: UNICEF often frames the data within broader stories and policy contexts, providing a valuable starting point for understanding the public health landscape.\nPre-organized Datasets: The curated Excel files available on topic pages offer a convenient “single pack” of key indicators, saving time on data extraction and compilation compared to building custom queries via tools like STATcompiler.\n\nData Sparsity and Interpretation of Missing Values\nThis dataset can be sparse at times, meaning that a measure recorded in a given year for a specific country may not have comparable data for many other countries. This characteristic makes it most appropriate for:\nExploration of trends within a single country over time for specific indicators.\nUnderstanding the general status of an indicator across a range of countries, rather than direct, year-by-year comparisons across a large set of countries.\nCrucially, when encountering blank cells or “N/A” values in the downloaded Excel files, it is highly probable that these indicate a lack of a reliable estimate for that particular indicator, country, and year combination, rather than a value of zero. Assuming a zero value for missing data can lead to significant misinterpretations and biased conclusions in your analysis. Always consult the accompanying metadata or documentation if available, or cross-reference with the primary survey source (DHS/MICS) for clarification on missing data conventions.\nPitfalls of Annual Data:\nUsing annual data for your analysis can lead to several pitfalls when investigating a disease such as malaria:\n\nSeasonal variations: Annual data may not capture the distinct seasonal patterns of malaria transmission, which are heavily influenced by factors such as rainfall, temperature, and vector abundance. This can lead to an over- or underestimation of the disease burden and the impact of interventions if seasonality is a key driver.\nTemporal aggregation: Aggregating data annually may mask important short-term dynamics, such as outbreaks or the immediate impact of interventions, which often operate on shorter time scales.\n\nNational Level - Ignoring Spatial Heterogeneity:\nModelling malaria transmission solely at a national level can overlook important spatial heterogeneities that are critical for effective policy and intervention planning:\n\nRegional variations: Malaria transmission can vary significantly between different regions within a country due to differences in climate, vector ecology, socioeconomic factors, and access to healthcare.\nLocal hotspots: Even within regions, there can be local hotspots of malaria transmission due to factors such as proximity to breeding sites, population density, and human behavior, and specific environmental conditions.\nPopulation movement: The movement of people between different areas (e.g., for work, trade, or displacement) can introduce or reintroduce malaria parasites, significantly affecting transmission dynamics in origin and/or destination areas.\n\n\nExamples of data use in literature\n\nAround 100 UNICEF journal articles and over 300 publications are made available on the UNICEF data website.\n\n\n\nHow to use the dataset\n\nThis dataset includes information on diarrhoea and pneumonia in addition to the malaria-related data. You can isolate data related to specific variables and countries that are pertinent to your current research. An example of how to do this, in which the Malaria-related variables and E8 countries are selected, is shown in the code chunk below.\nOnce the data are loaded, you can use the filter() function to select specific indicators and countries of interest. The code below demonstrates how to filter for malaria-specific indicators and the Elimination 8 (E8) countries, which are Botswana, Eswatini, Namibia, South Africa, Angola, Mozambique, Zambia, and Zimbabwe.\n\n\nShow the code\n# Setup filters for Malaria specific indicators and Elimination 8 countries:\nmal_indicators &lt;- c(\"IPTP\", \"ITN\", \"ITN2\", \"ITNOWN\", \"ITNPREG\", \"MLRACT\", \"MLRCARE\", \"MLRDIAG\")\ne8_countries &lt;- c(\"Botswana\", \"Eswatini\", \"Namibia\", \"South Africa\",\n                  \"Angola\", \"Mozambique\", \"Zambia\", \"Zimbabwe\")\n# Define stratification levels for the data\nstrat_levels = c(\"National\",\n                 \"Female\", \"Male\",\n                 \"Urban\", \"Rural\",\n                 \"Primary\", \"Sec & Higher\", \"15-19\", \"None\",\n                 \"Poorest\", \"Second\", \"Middle\", \"Fourth\", \"Richest\")\n\n# Read in data\nmal_dat &lt;- readxl::read_xlsx(\n    \"Child-Health-Coverage-Database-December-2023 .xlsx\",\n    sheet = \"Long\",\n    skip = 3,\n    col_types = c(\"skip\", \"text\",\n                  \"skip\", \"skip\", \"skip\", \"skip\", \"numeric\",\n                  \"skip\", \"skip\", \"text\", \"text\", \"text\", \"numeric\",\n                  \"skip\", \"skip\", \"skip\")\n  ) |&gt;\n  filter(\n    Indicator %in% mal_indicators,\n    `Countries and areas` %in% e8_countries\n  ) |&gt;\n  mutate(Level = factor(Level, levels = strat_levels))\n\n\nThe first ten rows of these data can be seen in the following table:\n\n\nShow the code\nmal_dat |&gt; \n  head(n = 10) |&gt;\n  gt::gt(caption=\"First ten rows of the data\")\n\n\n\n\nTable 1: First ten rows of the data\n\n\n\n\n\n\n\nFirst ten rows of the data\n\n\nCountries and areas\nLatest Year\nIndicator\nStratifier\nLevel\nValue\n\n\n\n\nAngola\n2016\nIPTP\nNational\nNational\n19.0\n\n\nAngola\n2016\nIPTP\nArea\nUrban\n24.0\n\n\nAngola\n2016\nIPTP\nArea\nRural\n11.3\n\n\nAngola\n2016\nIPTP\nWIQ\nPoorest\n8.3\n\n\nAngola\n2016\nIPTP\nWIQ\nSecond\n15.4\n\n\nAngola\n2016\nIPTP\nWIQ\nMiddle\n21.9\n\n\nAngola\n2016\nIPTP\nWIQ\nFourth\n23.3\n\n\nAngola\n2016\nIPTP\nWIQ\nRichest\n31.3\n\n\nAngola\n2016\nIPTP\nMother's Education\nNone\n13.1\n\n\nAngola\n2016\nIPTP\nMother's Education\nPrimary\n17.0\n\n\n\n\n\n\n\n\n\n\nAlthough data manipulation in R is often easiest using a dataframe which is in long format, tables may be easier to interpret in wide format, for example, with each column containing data for a given year. The rows representing Zimbabwe tracking MLRDIAG the above data, converted to wide format, are shown below.\n\n\nShow the code\nmal_dat |&gt;\n  dplyr::filter(`Countries and areas`==\"Zimbabwe\",\n                Indicator==\"MLRDIAG\") |&gt; \n  tidyr::pivot_wider(names_from = `Latest Year`,\n                     values_from = Value) |&gt;\n  dplyr::select(Stratifier, Level, `2011`:`2019`) |&gt;\n  gt::gt(groupname_col = \"Stratifier\",\n         row_group_as_column=TRUE,\n         caption=\"Zimbabwe, Malaria diagnostics - percentage of febrile children (under age 5) who had a finger or heel stick for malaria testing\")\n\n\n\n\nTable 2: Zimbabwe, Malaria diagnostics - percentage of febrile children (under age 5) who had a finger or heel stick for malaria testing\n\n\n\n\n\n\n\nZimbabwe, Malaria diagnostics - percentage of febrile children (under age 5) who had a finger or heel stick for malaria testing\n\n\n\nLevel\n2011\n2014\n2015\n2019\n\n\n\n\nNational\nNational\n7\n14.1\n12.7\n12.2\n\n\nArea\nUrban\n5\n6.6\n8.7\n8.2\n\n\nRural\n8\n16.3\n14.7\n13.6\n\n\nSex\nFemale\n7\n14.9\n11.8\n11.1\n\n\nMale\n8\n13.4\n13.7\n13.4\n\n\nWIQ\nPoorest\n5\n14.9\n16.2\n19.0\n\n\nSecond\n14\n17.7\n12.5\n11.5\n\n\nMiddle\n5\n16.5\n12.8\n9.9\n\n\nFourth\n2\n12.9\n9.2\n10.5\n\n\nRichest\n2\n5.1\n12.9\n6.6\n\n\n\n\n\n\n\n\n\n\n\nHow to plot these data?\n\nThe following code chunks demonstrate how to create various plots using the ggplot2 package in R, which is part of the tidyverse. These plots illustrate different aspects of malaria-related indicators from the UNICEF dataset.\nHere we show intermittent preventative treatment (IPT) in Zambia for people living in different socioeconomic conditions, as measured by wealth index quintile (WIQ). This plot shows IPT coverage over time stratified by wealth index quintile.\n\n\nShow the code\n# Produce a line plot coloured by wealth index quintile\nmal_dat|&gt; \n  dplyr::filter(Indicator == \"IPTP\",\n                `Countries and areas` == \"Zambia\",\n                Stratifier == \"WIQ\") |&gt;\n  ggplot2::ggplot(aes(x = `Latest Year`, y = Value, group = Level)) +\n    geom_line(aes(col = Level), lwd = 2) +\n    coord_cartesian(ylim = c(0, 100)) +\n    scale_y_continuous(labels = scales::label_percent(scale = 1, accuracy = 1)) +\n    scale_colour_manual_health_radar() +\n    theme_health_radar() +\n    labs(\n      title = \"IPT by Wealth Index\",\n      subtitle = \"Women Aged 15-49 Receiving IPT(3+) during ANC (Zambia)\",\n      caption = stringr::str_wrap(\"This plot displays the percentage of women in Zambia aged 15 to 49, who received intermittent preventative treatment (IPT) for Malaria at least three times during antenatal clinic visits for their most recent pregnancy, with data recorded between 2007 and 2019, and stratified by wealth index quintile. Source: UNICEF Child Health Coverage Dataset.\", width = 75),\n      x = \"Year\",\n      y = \"Women aged 15-49 who received 3+ IPT during ANC\",\n      colour = \"Wealth Index Quintile\"\n    )\n\n\n\n\n\n\n\n\n\nThis plot shows how many under 5 year olds sleep under an Insecticide Treated Net (ITN) stratified by sex. One can see a small bias towards males.\n\n\nShow the code\n# Produce a paired bar plot coloured by sex\nmal_dat |&gt; \n  dplyr::filter(Indicator == \"ITN\",\n                Stratifier == \"Sex\",\n                `Latest Year` == 2007) |&gt;\n  ggplot(aes(x = `Countries and areas`, y = Value, fill = Level)) +\n  geom_bar(position = position_dodge2(), stat='identity') +\n  scale_y_continuous(labels = scales::label_percent(scale = 1, accuracy = 1)) +\n  scale_fill_manual_health_radar() +\n  coord_cartesian(ylim = c(0, 50)) +  # Set y-axis limits to 0-1 for percentage\n  theme_health_radar() +\n  labs(\n    title = \"Percentage of Children using an ITN\",\n    subtitle = \"Data for Southern African countries\",\n    caption = stringr::str_wrap(\"This plot displays the percentage of children  under 5 years of age, separated by sex, who slept under insecticide-treated mosquito nets (ITNs) the night prior to their partcipation in the survey, in Angola, Eswatini, Namibia and Zambia in the year 2007. Source: UNICEF Child Health Coverage Dataset.\", width = 75),\n    x = \"Country\",\n    y = \"Percent of 0-5 year olds sleeping under an ITN\"\n  ) \n\n\n\n\n\n\n\n\n\nThis last plot shows how many woman of child bearing age (15-49) slept under an ITN the night prior to their participation in the survey, stratified by country. The data are shown for six Southern African countries, and the plot is faceted by country. One can see a setback in 2015 in Zimbabwe, which is further explored in the HealthRADAR modelling example following this.\n\n\nShow the code\n# Produce sparkline type plots with rows and colours indicating country for which these data were recorded\nmal_dat |&gt; \n    dplyr::filter(Indicator == \"ITNPREG\",\n                  Level == \"National\") |&gt;\n    ggplot(aes(x = `Latest Year`, y = Value, colour = `Countries and areas`)) +\n    geom_line() +\n    geom_point() +\n    scale_y_continuous(labels = scales::label_percent(scale = 1, accuracy = 1)) +  # Set y-axis to percentage\n    theme_health_radar() +\n    labs(\n        title = \"Percentage of Pregnant Women using an ITN\",\n        subtitle = \"Data for Southern African countries\",\n        caption = stringr::str_wrap(\"This plot displays the percentage of pregnant Angolan, Estwatinian, Mozambiquan, Namibian, Zambian and Zimbabwean women between 15 and 49 years of age, who used insecticide-treated mosquito nets (ITNs) the night prior to their participation in the survey. Records are displayed for the years in which they were collected. Consequences of the 2015 setback in Zimbabwe are further explored in the HealthRADAR modelling example. Source: UNICEF Child Health Coverage Dataset.\", width = 75),\n        x = \"Time\",\n        y = \"Percent of pregnant women sleeping under an ITN\",\n        colour = \"Country\"\n    ) +\n    facet_wrap(~`Countries and areas`, ncol=1)\n\n\n\n\n\n\n\n\n\n\n\n\nHow can this data be used in disease modelling?\n\nMany malaria control interventions are targeted at vulnerable populations, specifically pregnant women and children under the age of five. Similarly, in some countries, ITNs are distributed through antenatal clinics to increase access and usage of prevention methods in these groups.\nIt is also known that partial immunity to malaria is acquired with age, especially in endemic contexts with repeated exposure. For this reason, young children may be more susceptible to severe disease. In addition, as a vulnerable group, children are more likely to sleep earlier and indoors, limiting their exposure to mosquitoes.\nFor the age-structured malaria model below, we use data on ITN usage amongst children from the UNICEF dataset. For the rest of the population, we simulate ITN coverage.\n\nPreparing the data\nWe filter the data for ITN usage in Zimbabwe. The data also allows stratification by sex, urban/rural, level of mother’s education and Wealth Index Quintile (WIQ). For the purposes of this example, we use national level data over time.\n\n\nShow the code\n# ITN usage amongst children\nZim_ITN_use_c &lt;- mal_dat |&gt; \n  filter(`Countries and areas` == \"Zimbabwe\",\n         Indicator == \"ITN\",\n         Stratifier == \"National\") |&gt; \n  mutate(Population = \"Children &lt; 5\",\n         Value = Value/100,\n         Date = ymd(paste0(`Latest Year`, \"-01-01\")),\n         day_index = as.numeric(Date - min(Date)) + 1\n  ) # add a day_index for interpolation\n\nggplot(Zim_ITN_use_c, aes(x = `Latest Year`, y = Value, colour = Population)) + \n  geom_point(size=2) +\n  geom_line() +\n  scale_y_continuous(labels = scales::label_percent(), limits = c(0, 0.4)) +\n  scale_colour_manual_health_radar() +\n  coord_cartesian(ylim = c(0, 0.4)) +\n  theme_health_radar() +\n  labs(\n    title = str_wrap(\"Children under five years of age sleeping under an ITN in Zimbabwe\"),\n    x = \"Year\",\n    y = \"Percent of children sleeping under ITN\",\n    caption = str_wrap(\"In this plot we note that ITN usage amongst children under five fluctuates between 4% and 30%. Source: UNICEF Child Health Coverage Dataset.\")\n  ) +\n  guides(colour = \"none\")\n\n\n\n\n\n\n\n\n\nWe may consider the proportion of the population effectively covered by ITNs to be those with access to at least one ITN and actively using the net. In addition, the effectiveness of the nets at preventing infectious bites decreases over time as chemical efficacy drops and nets are damaged through wear and tear and considered lost. This loss is also called attrition, \\(attr\\). The median survival time of long lasting insecticidal nets (LLINs) is considered to be three years, represented by \\(eta\\) in the model.\nFor a more detailed description of the incorporation of ITNs, see the DHS page. For this example, we use UNICEF-sourced data to inform an age-structured model in Zimbabwe, depicting two populations: individuals over the age of five, and children under five years old.\n\n\nModel assumptions\nFor the purposes of this model we make the following assumptions:\n\nChildren under the age of five are 20% more susceptible to mosquito transmission \\(b\\) than children over the age of five and adults\nMortality rates \\(mu_h\\) (\\(\\mu_h\\)) in both age groups are the same\nThe duration of partial immunity \\(rho\\) (\\(\\rho\\)) in adults is longer in adults because of previous malaria infections\nNet usage differs in vulnerable populations, specifically children under the age of five. We set usage among adults at 60%.\n\nConsequently, the force of infection \\(lambda-c\\) (\\(\\lambda_c\\)) in children under the age of five years, that is, the rate at which they are exposed to an infectious vector, will be higher than that in adults. This is due to their increased susceptibility to infection and shorter span of partial immunity.\n\n\nShow the code\nlibrary(deSolve)\n# Time points for the simulation\nY = 14 # Years of simulation from 2006 to 2019\ntimes &lt;- seq(0, 365*Y, by = 1)\n\n# Simulate of time-dependent variables of ITN coverage\n\nitncov &lt;- data.frame(time = seq(0, by = 365, length.out = Y),\n                     nets = runif(Y, min = 0, max = 1)\n                     ) \n\n\n## SEACR-SEI model\nseacr &lt;- function(times, start, parameters, itncov, Zim_ITN_use_c) { \n  with(as.list(c(start, parameters)), {\n    \n    P0 = S0 + E0 + A0 + C0 + R0 + G0\n    P1 = S1 + E1 + A1 + C1 + R1 + G1\n    P = P0 + P1\n    M = Sm + Em + Im\n    m = M / P\n    \n    seas =  1+amp*cos(2*pi*(times/365 - phi))\n    \n    itncovfunc &lt;- approxfun(itncov$time, itncov$nets, times, method = \"constant\", rule = 2) # ITN access \n    itn_access &lt;- itncovfunc(times)\n    \n    itnuse_c &lt;- approx(Zim_ITN_use_c$day_index, Zim_ITN_use_c$Value, times, method = \"linear\", rule = 2)$y # ITN usage among children\n    itn_c = min(ITN,1)*itnuse_c*itn_eff\n    itn_a = min(ITN,1)*itnuse_a*itn_eff \n    \n    eta &lt;- -log(1-(1-attr))/(3*365) # ITN loss due to attrition over 3 years\n    \n    # Force of infection\n    Infectious = C0 + C1 + zeta*(A1+A0) #infectious reservoir\n    lambda_a = ((a^2*b_a*c*m*Infectious/P)/(a*c*Infectious/P+mu_m)*(gamma_m/(gamma_m+mu_m)))*seas*(1-itn_a)\n    lambda_c = ((a^2*b_c*c*m*Infectious/P)/(a*c*Infectious/P+mu_m)*(gamma_m/(gamma_m+mu_m)))*seas*(1-itn_c)\n    \n    # Differential equations/rate of change\n    \n    # Mosquitoes assumed to be at equilibrium\n    dSm = 0\n    dEm = 0\n    dIm = 0\n    \n    # Children \n    dS0 = mu*P - lambda_c*S0 + rho_c*R0 - mu_h*S0 - kappa_c*S0\n    dE0 = lambda_c*S0 - (gamma_h + mu_h + kappa_c)*E0\n    dA0 = pa*gamma_h*E0 + pa*gamma_h*G0 - (delta + mu_h + kappa_c)*A0\n    dC0 = (1-pa)*gamma_h*E0 + (1-pa)*gamma_h*G0 - (r + mu_h + kappa_c)*C0\n    dR0 = delta*A0 + r*C0 - (lambda_c + rho_c + mu_h + kappa_c)*R0\n    dG0 = lambda_c*R0 - (gamma_h + mu_h + kappa_c)*G0\n    \n    # Adults \n    dS1 = kappa_c*S0 - lambda_a*S1 + rho_a*R1 - mu_h*S1\n    dE1 = kappa_c*E0 + lambda_a*S1 - (gamma_h + mu_h)*E1\n    dA1 = kappa_c*A0 + pa*gamma_h*E1 + pa*gamma_h*G1 - (delta + mu_h)*A1\n    dC1 = kappa_c*C0 + (1-pa)*gamma_h*E1 + (1-pa)*gamma_h*G1 - (r + mu_h)*C1\n    dR1 = kappa_c*R0 + delta*A1 + r*C1 - (lambda_a + rho_a + mu_h)*R1\n    dG1 = kappa_c*G0 + lambda_a*R1 - (gamma_h + mu_h)*G1\n    \n    dCInc = lambda_c*(S0+R0) + lambda_a*(S1+R1) # total cumulative incidence\n    dITN = itn_access - (eta + itn_death)*ITN \n    \n    dCInc_c = lambda_c*(S0+R0) # cumulative incidence in children\n    dCInc_a = lambda_a*(S1+R1) # cumulative incidence in adults\n    \n    # Output\n    list(c(dSm, dEm, dIm, dS0, dE0, dA0, dC0, dR0, dG0, dS1, dE1, dA1, dC1, dR1, dG1, dCInc, dITN, dCInc_c, dCInc_a))\n  })\n}\n\n\n# Initial values for compartments\ninitial_state &lt;- c(Sm = 10000000, # susceptible mosquitoes\n                   Em = 10000000, # exposed and infected mosquitoes\n                   Im = 10000000, # infectious mosquitoes\n                   S0 = 3000000, # susceptible children\n                   E0 = 1500000, # exposed and infected children\n                   A0 = 800000, # asymptomatic and infectious children\n                   C0 = 500000, # clinical and symptomatic children\n                   R0 = 200000, # recovered and semi-immune children\n                   G0 = 100000, # secondary-exposed and infected children\n                   S1 = 5000000, # susceptible adults\n                   E1 = 2500000, # exposed and infected adults\n                   A1 = 1000000, # asymptomatic and infectious adults\n                   C1 = 700000, # clinical and symptomatic adults\n                   R1 = 300000, # recovered and semi-immune adults\n                   G1 = 100000, # secondary-exposed and infected adults\n                   CInc = 0, # cumulative incidence\n                   ITN = 0.5, # proportion of the population with potential to be protected by nets CURRENTLY IN CIRCULATION\n                   CInc_c = 0, # cumulative incidence in children\n                   CInc_a = 0 # cumulative incidence in adults\n)\n# Country-specific parameters should be obtained from literature review and expert knowledge\nparameters &lt;- c(a = 0.3, # human biting rate\n                b_a = 0.35, # probability of transmission from mosquito to adult human\n                b_c = 0.48, # probability of transmission from mosquito to child human under the age of five (b_a*1.2)\n                c = 0.4, # probability of transmission from human to mosquito\n                r = 1/7, # rate of loss of infectiousness after treatment\n                rho_c = 1/50, # rate of loss of immunity after recovery in children\n                rho_a = 1/160, # rate of loss of immunity after recovery in adults\n                delta = 1/200, # natural recovery rate\n                zeta = 0.4, # relative infectiousness of of asymptomatic infections\n                pa = 0.1, # probability of asymptomatic infection\n                mu_m = 1/10, # birth and death rate of mosquitoes\n                mu_h = 1/(50*365), # death rate of humans\n                mu = (32/1000)/365, # crude birth rate per 1000 humans\n                gamma_m = 1/10, # extrinsic incubation rate of parasite in mosquitoes\n                gamma_h = 1/10, # extrinsic incubation rate of parasite in humans\n                amp = 0.6, #amplitude of seasonality\n                phi = 200, #phase angle; start of season\n                kappa_c = 1/(30.44*59), # aging rate from the first age group (30.44 days * 59 months)\n                attr = 0.55, # nets remaining after 3 years in circulation\n                itnuse_a = 0.6, # net usage among the adult population\n                itn_eff = 0.45, # effectiveness of ITN at preventing ongoing transmission\n                itn_death = 1/(3*365) # median net survival is three years\n)\n\n# Run the model\n\nout &lt;- ode(\n  y = initial_state, \n  times = times, \n  func = seacr, \n  parms = parameters,\n  itncov = itncov,\n  Zim_ITN_use_c = Zim_ITN_use_c\n)\n\n\n# Post-processing model output into a dataframe\n\ndf &lt;- as_tibble(as.data.frame(out)) |&gt; \n  mutate(P0 = S0 + E0 + A0 + C0 + R0 + G0,\n         P1 = S1 + E1 + A1 + C1 + R1 + G1,\n         P = P0 + P1,\n         M = Sm + Em + Im,\n         Total = c(0, diff(CInc)),\n         Adults = c(0, diff(CInc_a)),\n         \"Children &lt; 5\" = c(0, diff(CInc_c))) |&gt; \n  pivot_longer(cols = -time, names_to = \"variable\", values_to = \"value\") |&gt; \n  mutate(date = ymd(\"2006-01-01\") + time)\n\n# Plotting incidence\n\ndf |&gt; \n  filter(variable %in% c(\"Total\", \"Adults\", \"Children &lt; 5\"),\n         time &gt; 50) |&gt; \n  ggplot()+\n  geom_line(aes(x = date, y = value, colour = variable)) +\n  theme_health_radar() +\n  scale_colour_manual_health_radar() +\n  labs(\n    x = \"Year\", \n    y = \"Incidence\", \n    title = \"Daily malaria incidence in Zimbabwe\",\n    colour = \"Population\",\n    caption = str_wrap(\"This plot illustrates how incidence differs between the two age groups. Among children under the age of five years, incidence decreases as they age out of this group and acquire immunity. In addition, we see that children under the age of five are a significant contribution to the burden of infection in Zimbabwe. Source: Model output.\")\n  ) +\n  scale_x_date(\n    date_breaks = \"3 years\",\n    date_labels = \"%Y\"\n  )  # Set x-axis breaks to multiples of 3 years\n\n\n\n\n\n\n\n\n\n\n\nPolicy implications\nBy accounting for age specifically, policymakers can develop scenarios for vector control interventions targeted to certain age groups, such as ITN distribution campaigns in schools. Age-structured models can also allow decision makers to assess the impact of interventions such as intermittent preventive treatment in infants (IPTi) or seasonal malaria chemoprevention (SMC).\n\n\n\n\n\n\n\n Back to top"
  },
  {
    "objectID": "guides/climate/climate.html",
    "href": "guides/climate/climate.html",
    "title": "Climate data guide",
    "section": "",
    "text": "Station data are derived from weather stations that measure rainfall, temperature, wind and humidity or other observation platforms like flow gauges or soil moisture sensors. There are typically more rainfall stations than temperature stations.\nStation data are in situ, point source data and representative of an immediate region, meaning they may not be representative of somewhere even 5km away. For example, in a flat area in the summer rainfall region temperature might be representative of a wide area but the nature of convective rainfall is such that it could be raining 5 km away from the measurement station but not at the station itself.\nStation data may have temporal resolutions of minutes to days. Temperatures are usually reported as minimum, maximum and average daily temperature, rainfall is usually accumulated into daily rainfall and humidity is usually a daily averaged figure. Wind speeds can be reported hourly depending on the data source.\nData from stations are typically in an ascii format and easily imported into spreadsheets.\nAlthough station data are measured and therefore apparently trustworthy, many errors creep into the data as a result of how they are collected, design of the measurement sensors and other factors.\nTherefore station data must be quality controlled before use.\n\n\n\n\nIn a gridded dataset, the grid cells have a particular horizontal grid resolution, i.e. the size of the grid, and the grid resolution may be coarse, e.g. 50 km, or fine, e.g. 1km. In each grid cell a single value for a particular variable, e.g. temperature or rainfall is provided. In course resolution data this means local modification of variables by e.g. topography or vegetation at the sub-grid scale cannot be captured and the value of the variable is presented as representative of the entire area covered by the grid.\nGridded observation datasets are generated in a number of ways. They can be simple interpolations between station data such as the widely used CRU (Climate Research Unit) data set. They may be satellite derived data such as the CMORPH (CPC MORPHing technique): High resolution precipitation (60S-60N) and TRMM: Tropical Rainfall Measuring Mission data set; or a blend of satellite and station data such as the CHIRPS: Climate Hazards InfraRed Precipitation with Station data (version 2) and GPCP (Daily): Global Precipitation Climatology Project data; or satellite, station and reanalysis data e.g. the Global high-resolution precipitation: MSWEP dataset.\nGridded data products do not necessarily have the same spatial and temporal resolutions. These vary between 2.5 x 2.5 degrees at a monthly time scale (GPCP: Monthly) to sub-daily time step at 0.1 degrees (10km) (MSWEP).\n\n\n\n\nClimate reanalysis data refers to a dataset that combines weather observations with modern climate models to recreate past atmospheric conditions. Unlike raw observational data, reanalysis provides a complete and consistent record of the atmosphere, land surface, and oceans over an extended period. This is achieved by assimilating a variety of data sources, including satellite observations, weather station data, and other environmental measurements, into a climate model that then produces data at a global scale typically every three or one hour.\nDifferent climate reanalysis products have different spatial and temporal resolutions and provided data for different periods, e.g. the latest product from the European Centre for Medium-Range Weather Forecasts (ECMWF) is the ERA-5 reanalysis that has data at an hourly time step, at a spatial resolution of 31km from January 1940 to present whereas the original reanalysys, the National Centre for Environmental Prediction (NCEP-NCAR) reanalysis has a 6-hourly timestep, a spatial resolution of 2.5 degrees and is available from January 1948 to December 2022.\nReanalysis data are typically provided globally in a netCDF or GRIB format, which requires processing to extract for a particular location.\n\n\n\n\nAscii\nData in ascii or csv format are text-based data often used in spreadsheets for analysis. Climate data in this format are often from weather stations (see section on Weather Station data).\nBinary format (NetCDF and GRIB)\nMost climate data from global and regional climate models, including reanalysis data, is not in ascii format but in a binary format. The two most common of these are NetCDF and GRIB formats. These formats facilitate storage of the large volumes of data that climate models produce.\nOn some data download sites, e.g. the Copernicus Climate Data Store (CDS), it is possible to specify and extract a region or grid cell using latitude-longitude coordinates. Although the data have to be downloaded in NetCDF or GRIB formats there is software that can convert these data to ascii format including CDO (climate data operators), python (read in and convert the netcdf file to a dataframe then write the dataframe to ascii using df.to_csv), R (by converting the netcdf file to raster and then to ascii). Or submit the file to ChatGPT which will convert to ascii.\n\n\n\n\nA seasonal forecast predicts the climate conditions over a period of one to six months and provides an overview of the likely climate conditions for the upcoming season. They are typically presented as how different conditions are predicted to be compared to a long-term mean ( the “normal”) and structured probabilistically, e.g.” There is a 60% chance that rainfall will be below normal in the next season, a 30 % chance it will be normal and a 10% change it will be above normal. There is a 90% chance temperatures will be above normal and a 10% chance they will be normal.”\nSeasonal forecasts are produced by global climate models and in one seasonal forecast between 10 and up to 50 simulations are run for the season, this is termed a “10 (or 50)-member ensemble”. Each ensemble member is started a few hours later than the previous ensemble member; in a small ensemble (e.g. 10 members) this lag may be a day.\nRunning multiple member ensembles allows the forecast to span a wide probability space as\nwhich provide many variables however temperature and precipitation anomalies are most often presented in forecasts.\n\nSeasonal forecast data can be downloaded from several sources including the Copernicus Climate Data Store (https://climate.copernicus.eu/seasonal-forecasts). See Case study 2 below.\n\n\n\nBeyond the seasonal scale are multi-year to decadal predictions. Decadal forecasts provide information about the next 5-10 years and are dependent on predictions of the state of the ocean and how the oceanic circulation will evolve over the next few years and its subsequent impact on the atmosphere.\nDecadal forecasts provide information about natural variability in the climate system and how it might evolve in the next few years in the context of a globally warming world. Decadal forecasting has, potentially, an important role to play here in assessing the probability of extremes in the next few years, and can be used for long-term planning and potentially facilitate the adaptation of different sectors to climate variability and change.\nThe World Meteorological Organization (WMO) releases a Global Annual to Decadal Climate Update each year (https://library.wmo.int/records/item/68910-wmo-global-annual-to-decadal-climate-update) and the forecasts are available from https://decadal.bsc.es/forecast.\n\n\n\nClimate change data is primarily sourced from the World Climate Research Programme’s Coupled Model Intercomparison Project (CMIP), which provides a comprehensive framework for climate modeling and analysis. CMIP brings together climate models from research institutions worldwide, allowing for standardized comparisons and assessments of future climate projections. These climate models simulate the Earth’s climate system by incorporating various physical, chemical, and biological processes, generating data on temperature trends, precipitation patterns, sea level changes, and more. The models run simulations based on different greenhouse gas emission scenarios, known as Shared Socioeconomic Pathways (SSPs) or Representative Concentration Pathways (RCPs), which reflect varying levels of future human activity and policy decisions. By comparing these scenarios, scientists can assess a range of potential climate outcomes, from aggressive mitigation efforts to high-emission trajectories, helping to inform strategies for climate adaptation and mitigation."
  },
  {
    "objectID": "guides/climate/climate.html#a.-types-of-climate-data",
    "href": "guides/climate/climate.html#a.-types-of-climate-data",
    "title": "Climate data guide",
    "section": "",
    "text": "Station data are derived from weather stations that measure rainfall, temperature, wind and humidity or other observation platforms like flow gauges or soil moisture sensors. There are typically more rainfall stations than temperature stations.\nStation data are in situ, point source data and representative of an immediate region, meaning they may not be representative of somewhere even 5km away. For example, in a flat area in the summer rainfall region temperature might be representative of a wide area but the nature of convective rainfall is such that it could be raining 5 km away from the measurement station but not at the station itself.\nStation data may have temporal resolutions of minutes to days. Temperatures are usually reported as minimum, maximum and average daily temperature, rainfall is usually accumulated into daily rainfall and humidity is usually a daily averaged figure. Wind speeds can be reported hourly depending on the data source.\nData from stations are typically in an ascii format and easily imported into spreadsheets.\nAlthough station data are measured and therefore apparently trustworthy, many errors creep into the data as a result of how they are collected, design of the measurement sensors and other factors.\nTherefore station data must be quality controlled before use.\n\n\n\n\nIn a gridded dataset, the grid cells have a particular horizontal grid resolution, i.e. the size of the grid, and the grid resolution may be coarse, e.g. 50 km, or fine, e.g. 1km. In each grid cell a single value for a particular variable, e.g. temperature or rainfall is provided. In course resolution data this means local modification of variables by e.g. topography or vegetation at the sub-grid scale cannot be captured and the value of the variable is presented as representative of the entire area covered by the grid.\nGridded observation datasets are generated in a number of ways. They can be simple interpolations between station data such as the widely used CRU (Climate Research Unit) data set. They may be satellite derived data such as the CMORPH (CPC MORPHing technique): High resolution precipitation (60S-60N) and TRMM: Tropical Rainfall Measuring Mission data set; or a blend of satellite and station data such as the CHIRPS: Climate Hazards InfraRed Precipitation with Station data (version 2) and GPCP (Daily): Global Precipitation Climatology Project data; or satellite, station and reanalysis data e.g. the Global high-resolution precipitation: MSWEP dataset.\nGridded data products do not necessarily have the same spatial and temporal resolutions. These vary between 2.5 x 2.5 degrees at a monthly time scale (GPCP: Monthly) to sub-daily time step at 0.1 degrees (10km) (MSWEP).\n\n\n\n\nClimate reanalysis data refers to a dataset that combines weather observations with modern climate models to recreate past atmospheric conditions. Unlike raw observational data, reanalysis provides a complete and consistent record of the atmosphere, land surface, and oceans over an extended period. This is achieved by assimilating a variety of data sources, including satellite observations, weather station data, and other environmental measurements, into a climate model that then produces data at a global scale typically every three or one hour.\nDifferent climate reanalysis products have different spatial and temporal resolutions and provided data for different periods, e.g. the latest product from the European Centre for Medium-Range Weather Forecasts (ECMWF) is the ERA-5 reanalysis that has data at an hourly time step, at a spatial resolution of 31km from January 1940 to present whereas the original reanalysys, the National Centre for Environmental Prediction (NCEP-NCAR) reanalysis has a 6-hourly timestep, a spatial resolution of 2.5 degrees and is available from January 1948 to December 2022.\nReanalysis data are typically provided globally in a netCDF or GRIB format, which requires processing to extract for a particular location.\n\n\n\n\nAscii\nData in ascii or csv format are text-based data often used in spreadsheets for analysis. Climate data in this format are often from weather stations (see section on Weather Station data).\nBinary format (NetCDF and GRIB)\nMost climate data from global and regional climate models, including reanalysis data, is not in ascii format but in a binary format. The two most common of these are NetCDF and GRIB formats. These formats facilitate storage of the large volumes of data that climate models produce.\nOn some data download sites, e.g. the Copernicus Climate Data Store (CDS), it is possible to specify and extract a region or grid cell using latitude-longitude coordinates. Although the data have to be downloaded in NetCDF or GRIB formats there is software that can convert these data to ascii format including CDO (climate data operators), python (read in and convert the netcdf file to a dataframe then write the dataframe to ascii using df.to_csv), R (by converting the netcdf file to raster and then to ascii). Or submit the file to ChatGPT which will convert to ascii.\n\n\n\n\nA seasonal forecast predicts the climate conditions over a period of one to six months and provides an overview of the likely climate conditions for the upcoming season. They are typically presented as how different conditions are predicted to be compared to a long-term mean ( the “normal”) and structured probabilistically, e.g.” There is a 60% chance that rainfall will be below normal in the next season, a 30 % chance it will be normal and a 10% change it will be above normal. There is a 90% chance temperatures will be above normal and a 10% chance they will be normal.”\nSeasonal forecasts are produced by global climate models and in one seasonal forecast between 10 and up to 50 simulations are run for the season, this is termed a “10 (or 50)-member ensemble”. Each ensemble member is started a few hours later than the previous ensemble member; in a small ensemble (e.g. 10 members) this lag may be a day.\nRunning multiple member ensembles allows the forecast to span a wide probability space as\nwhich provide many variables however temperature and precipitation anomalies are most often presented in forecasts.\n\nSeasonal forecast data can be downloaded from several sources including the Copernicus Climate Data Store (https://climate.copernicus.eu/seasonal-forecasts). See Case study 2 below.\n\n\n\nBeyond the seasonal scale are multi-year to decadal predictions. Decadal forecasts provide information about the next 5-10 years and are dependent on predictions of the state of the ocean and how the oceanic circulation will evolve over the next few years and its subsequent impact on the atmosphere.\nDecadal forecasts provide information about natural variability in the climate system and how it might evolve in the next few years in the context of a globally warming world. Decadal forecasting has, potentially, an important role to play here in assessing the probability of extremes in the next few years, and can be used for long-term planning and potentially facilitate the adaptation of different sectors to climate variability and change.\nThe World Meteorological Organization (WMO) releases a Global Annual to Decadal Climate Update each year (https://library.wmo.int/records/item/68910-wmo-global-annual-to-decadal-climate-update) and the forecasts are available from https://decadal.bsc.es/forecast.\n\n\n\nClimate change data is primarily sourced from the World Climate Research Programme’s Coupled Model Intercomparison Project (CMIP), which provides a comprehensive framework for climate modeling and analysis. CMIP brings together climate models from research institutions worldwide, allowing for standardized comparisons and assessments of future climate projections. These climate models simulate the Earth’s climate system by incorporating various physical, chemical, and biological processes, generating data on temperature trends, precipitation patterns, sea level changes, and more. The models run simulations based on different greenhouse gas emission scenarios, known as Shared Socioeconomic Pathways (SSPs) or Representative Concentration Pathways (RCPs), which reflect varying levels of future human activity and policy decisions. By comparing these scenarios, scientists can assess a range of potential climate outcomes, from aggressive mitigation efforts to high-emission trajectories, helping to inform strategies for climate adaptation and mitigation."
  },
  {
    "objectID": "guides/climate/climate.html#b.-climate-models",
    "href": "guides/climate/climate.html#b.-climate-models",
    "title": "Climate data guide",
    "section": "B. Climate Models",
    "text": "B. Climate Models\nClimate models are complex computer simulations that try to replicate the Earth’s climate system by representing the interactions between the atmosphere, oceans, land surface, and ice. They are based on fundamental physical principles, such as the laws of thermodynamics and fluid dynamics, and use mathematical equations to describe processes like radiation, convection, and cloud formation. To accurately simulate climate conditions, these models are “forced” at their boundaries with external inputs, such as observed or projected sea surface temperatures, greenhouse gas concentrations, volcanic activity, and solar radiation. Sea surface temperatures influence atmospheric circulation patterns and moisture availability, while greenhouse gases affect the planet’s energy balance by trapping heat in the atmosphere. By adjusting these boundary conditions, climate models can simulate both historical climate trends and predict future changes under different environmental scenarios.\n\nClimate models divide the Earth into a three-dimensional grid, with each grid cell representing a specific area of the atmosphere or ocean; the size of these cells determines the model’s spatial resolution. The average spatial resolution of CMIP6 global climate models typically ranges from 100 to 250 kilometers for atmospheric variables, meaning one value for e.g. rainfall is provided for a large spatial area and is not representative of the local scale. Impact models including malaria models usually require fine scale, high spatial resolution data, so using low resolution climate model data is likely to produce questionable results.\nHigher-resolution models can capture finer-scale climate features, such as regional weather patterns and extreme events, but require significantly more computational power. Coarse resolution data can also be downscaled to finer resolutions by regional climate models (numerical downscaling) or through statistical methods. These data are more appropriate for use in impact models, however, the data should be bias corrected before being used for reasons described below."
  },
  {
    "objectID": "guides/climate/climate.html#c.-bias-correction",
    "href": "guides/climate/climate.html#c.-bias-correction",
    "title": "Climate data guide",
    "section": "C. Bias Correction",
    "text": "C. Bias Correction\nBias correction of climate data involves adjusting climate model outputs to better match observed data, reducing systematic discrepancies between the model’s predictions and actual measurements. This process is crucial for improving the accuracy and reliability of climate model data that will be used by downstream impact models including malaria models.\nClimate data used by impact models must be biased corrected before the impact model is run.\nMany bias correction methods exist but most follow a procedure that adjusts the mean and variability of the climate model data towards the observed.\n\nSee Bias correction presentation"
  },
  {
    "objectID": "guides/climate/climate.html#d.-climate-data-resources",
    "href": "guides/climate/climate.html#d.-climate-data-resources",
    "title": "Climate data guide",
    "section": "D. Climate Data Resources",
    "text": "D. Climate Data Resources\nClimate data is sourced from a variety of institutions and programs that provide comprehensive datasets for research and policy analysis. An excellent resource in understanding the different available data is the Climate Data Guide. This site gives an overview of almost all available climate data sources and provides download links.\nOne of the primary sources of climate model data is the World Climate Research Programme’s Coupled Model Intercomparison Project (CMIP), which offers climate model outputs from global research centers (CMIP6 Data). Observational climate data is provided by organizations like the National Oceanic and Atmospheric Administration (NOAA), which offers extensive historical records on temperature, precipitation, and atmospheric conditions NOAA Climate Data. The Copernicus Climate Data Store provides reanalysis datasets like ERA5, which combine historical observations with model data to create detailed global climate records ECMWF ERA5. Additionally, the Intergovernmental Panel on Climate Change (IPCC) hosts a data distribution center that provides access to climate scenarios, observational data, and model outputs used in their assessment reports IPCC Data Distribution Centre. One further resource is the Climate Information Portal, developed by the Swedish Meteorological and Hydrological Institute on behalf of the World Meteorological Organization (WMO) and World Climate Research Programme (WCRP). These resources are essential for understanding past, present, and future climate conditions."
  },
  {
    "objectID": "guides/climate/climate.html#e.-case-studies",
    "href": "guides/climate/climate.html#e.-case-studies",
    "title": "Climate data guide",
    "section": "E. Case Studies",
    "text": "E. Case Studies\n1. Download the ERA5 climate reanalysis data for a study malaria in southern Africa\nData required\n\n\nReanalysis data to use in a malaria modeling study, variables required are daily rainfall accumulated rainfall and daily mean temperature.\n\n\n\nOptional: Observation data if required to verify the reanalysis data if appropriate\n\n\nWhere to get the data\n\n\nThe Copernicus Climate Change Service (CCS) data store ERA5 Reanalysis single level page\n\n\nNavigate to the ERA5 reanalysis data page of the Copernicus Climate Data Store website.\n\nRegister on the CDS if not yet registered\n\nRead the Overview Tab to understand the data and if more information if desired read documents on the Documentation Tab.\n\nOn the Download page select the following:\n\nProduct - Select Reanalysis\n\nVariables - we suggest selecting and downloading 1 variable at a time to avoid delays in the download time. Large download requests are computationally costly and receive a lower priority. It’s advised to create smaller requests instead. The CDS can execute multiple download requests at a time so several smaller requests are better than single large requests.\n\nTime period - years, months or seasons and days can be selected depending on the study.\n\nSet the sub-region of interest - the default is to download the global dataset but it is possible to extract a sub-region (or single grid point). This sub-regions is set on the data portal.\n\nSubmit the request - once submitted it is possible to monitor progress of your request\n\nDownload the data when it becomes available and name the file appropriately.\n\nThe data are in NetCDF format and need to be post processed in order to be used in the malaria model. Reanalysis data may be bias corrected if enough observation data is available but most often is used as is in the impact model.\n2. Download climate data to assess the next malaria season\nData required\n\nDaily rainfall, temperature and wind data for the coming season are available from several data sources.\n\nData are also available from previous seasons and may be evaluated for skill against observations.\n\nWhere to get the data\n\nWe suggest the Copernicus Climate Change Service Climate Data Store (CDS) as it is relatively easy to use. To get to the seasonal forecast data either search for “Seasonal forecast daily and subdaily data on single levels” or go to this link:\n\nhttps://cds.climate.copernicus.eu/datasets/seasonal-original-single-levels?tab=overview\nAt least 5 lead time hours should be selected to span the range of probability, we suggest 1 every 24 hours i.e. 0, 24, 48, 72, 120, 144. A domain or single grid cell can be selected using latitude-longitude coordinates."
  },
  {
    "objectID": "guides/contribution/modelling.html",
    "href": "guides/contribution/modelling.html",
    "title": "Modelling guide",
    "section": "",
    "text": "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis sagittis posuere ligula sit amet lacinia. Duis dignissim pellentesque magna, rhoncus congue sapien finibus mollis. Ut eu sem laoreet, vehicula ipsum in, convallis erat. Vestibulum magna sem, blandit pulvinar augue sit amet, auctor malesuada sapien. Nullam faucibus leo eget eros hendrerit, non laoreet ipsum lacinia. Curabitur cursus diam elit, non tempus ante volutpat a. Quisque hendrerit blandit purus non fringilla. Integer sit amet elit viverra ante dapibus semper. Vestibulum viverra rutrum enim, at luctus enim posuere eu. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\nNunc ac dignissim magna. Vestibulum vitae egestas elit. Proin feugiat leo quis ante condimentum, eu ornare mauris feugiat. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Mauris cursus laoreet ex, dignissim bibendum est posuere iaculis. Suspendisse et maximus elit. In fringilla gravida ornare. Aenean id lectus pulvinar, sagittis felis nec, rutrum risus. Nam vel neque eu arcu blandit fringilla et in quam. Aliquam luctus est sit amet vestibulum eleifend. Phasellus elementum sagittis molestie. Proin tempor lorem arcu, at condimentum purus volutpat eu. Fusce et pellentesque ligula. Pellentesque id tellus at erat luctus fringilla. Suspendisse potenti.\nEtiam maximus accumsan gravida. Maecenas at nunc dignissim, euismod enim ac, bibendum ipsum. Maecenas vehicula velit in nisl aliquet ultricies. Nam eget massa interdum, maximus arcu vel, pretium erat. Maecenas sit amet tempor purus, vitae aliquet nunc. Vivamus cursus urna velit, eleifend dictum magna laoreet ut. Duis eu erat mollis, blandit magna id, tincidunt ipsum. Integer massa nibh, commodo eu ex vel, venenatis efficitur ligula. Integer convallis lacus elit, maximus eleifend lacus ornare ac. Vestibulum scelerisque viverra urna id lacinia. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Aenean eget enim at diam bibendum tincidunt eu non purus. Nullam id magna ultrices, sodales metus viverra, tempus turpis.\nDuis ornare ex ac iaculis pretium. Maecenas sagittis odio id erat pharetra, sit amet consectetur quam sollicitudin. Vivamus pharetra quam purus, nec sagittis risus pretium at. Nullam feugiat, turpis ac accumsan interdum, sem tellus blandit neque, id vulputate diam quam semper nisl. Donec sit amet enim at neque porttitor aliquet. Phasellus facilisis nulla eget placerat eleifend. Vestibulum non egestas eros, eget lobortis ipsum. Nulla rutrum massa eget enim aliquam, id porttitor erat luctus. Nunc sagittis quis eros eu sagittis. Pellentesque dictum, erat at pellentesque sollicitudin, justo augue pulvinar metus, quis rutrum est mi nec felis. Vestibulum efficitur mi lorem, at elementum purus tincidunt a. Aliquam finibus enim magna, vitae pellentesque erat faucibus at. Nulla mauris tellus, imperdiet id lobortis et, dignissim condimentum ipsum. Morbi nulla orci, varius at aliquet sed, facilisis id tortor. Donec ut urna nisi.\nAenean placerat luctus tortor vitae molestie. Nulla at aliquet nulla. Sed efficitur tellus orci, sed fringilla lectus laoreet eget. Vivamus maximus quam sit amet arcu dignissim, sed accumsan massa ullamcorper. Sed iaculis tincidunt feugiat. Nulla in est at nunc ultricies dictum ut vitae nunc. Aenean convallis vel diam at malesuada. Suspendisse arcu libero, vehicula tempus ultrices a, placerat sit amet tortor. Sed dictum id nulla commodo mattis. Aliquam mollis, nunc eu tristique faucibus, purus lacus tincidunt nulla, ac pretium lorem nunc ut enim. Curabitur eget mattis nisl, vitae sodales augue. Nam felis massa, bibendum sit amet nulla vel, vulputate rutrum lacus. Aenean convallis odio pharetra nulla mattis consequat."
  },
  {
    "objectID": "guides/contribution/modelling.html#a-guide-to-malaria-modelling",
    "href": "guides/contribution/modelling.html#a-guide-to-malaria-modelling",
    "title": "Modelling guide",
    "section": "",
    "text": "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis sagittis posuere ligula sit amet lacinia. Duis dignissim pellentesque magna, rhoncus congue sapien finibus mollis. Ut eu sem laoreet, vehicula ipsum in, convallis erat. Vestibulum magna sem, blandit pulvinar augue sit amet, auctor malesuada sapien. Nullam faucibus leo eget eros hendrerit, non laoreet ipsum lacinia. Curabitur cursus diam elit, non tempus ante volutpat a. Quisque hendrerit blandit purus non fringilla. Integer sit amet elit viverra ante dapibus semper. Vestibulum viverra rutrum enim, at luctus enim posuere eu. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.\nNunc ac dignissim magna. Vestibulum vitae egestas elit. Proin feugiat leo quis ante condimentum, eu ornare mauris feugiat. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Mauris cursus laoreet ex, dignissim bibendum est posuere iaculis. Suspendisse et maximus elit. In fringilla gravida ornare. Aenean id lectus pulvinar, sagittis felis nec, rutrum risus. Nam vel neque eu arcu blandit fringilla et in quam. Aliquam luctus est sit amet vestibulum eleifend. Phasellus elementum sagittis molestie. Proin tempor lorem arcu, at condimentum purus volutpat eu. Fusce et pellentesque ligula. Pellentesque id tellus at erat luctus fringilla. Suspendisse potenti.\nEtiam maximus accumsan gravida. Maecenas at nunc dignissim, euismod enim ac, bibendum ipsum. Maecenas vehicula velit in nisl aliquet ultricies. Nam eget massa interdum, maximus arcu vel, pretium erat. Maecenas sit amet tempor purus, vitae aliquet nunc. Vivamus cursus urna velit, eleifend dictum magna laoreet ut. Duis eu erat mollis, blandit magna id, tincidunt ipsum. Integer massa nibh, commodo eu ex vel, venenatis efficitur ligula. Integer convallis lacus elit, maximus eleifend lacus ornare ac. Vestibulum scelerisque viverra urna id lacinia. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Aenean eget enim at diam bibendum tincidunt eu non purus. Nullam id magna ultrices, sodales metus viverra, tempus turpis.\nDuis ornare ex ac iaculis pretium. Maecenas sagittis odio id erat pharetra, sit amet consectetur quam sollicitudin. Vivamus pharetra quam purus, nec sagittis risus pretium at. Nullam feugiat, turpis ac accumsan interdum, sem tellus blandit neque, id vulputate diam quam semper nisl. Donec sit amet enim at neque porttitor aliquet. Phasellus facilisis nulla eget placerat eleifend. Vestibulum non egestas eros, eget lobortis ipsum. Nulla rutrum massa eget enim aliquam, id porttitor erat luctus. Nunc sagittis quis eros eu sagittis. Pellentesque dictum, erat at pellentesque sollicitudin, justo augue pulvinar metus, quis rutrum est mi nec felis. Vestibulum efficitur mi lorem, at elementum purus tincidunt a. Aliquam finibus enim magna, vitae pellentesque erat faucibus at. Nulla mauris tellus, imperdiet id lobortis et, dignissim condimentum ipsum. Morbi nulla orci, varius at aliquet sed, facilisis id tortor. Donec ut urna nisi.\nAenean placerat luctus tortor vitae molestie. Nulla at aliquet nulla. Sed efficitur tellus orci, sed fringilla lectus laoreet eget. Vivamus maximus quam sit amet arcu dignissim, sed accumsan massa ullamcorper. Sed iaculis tincidunt feugiat. Nulla in est at nunc ultricies dictum ut vitae nunc. Aenean convallis vel diam at malesuada. Suspendisse arcu libero, vehicula tempus ultrices a, placerat sit amet tortor. Sed dictum id nulla commodo mattis. Aliquam mollis, nunc eu tristique faucibus, purus lacus tincidunt nulla, ac pretium lorem nunc ut enim. Curabitur eget mattis nisl, vitae sodales augue. Nam felis massa, bibendum sit amet nulla vel, vulputate rutrum lacus. Aenean convallis odio pharetra nulla mattis consequat."
  },
  {
    "objectID": "issues.html",
    "href": "issues.html",
    "title": "",
    "section": "",
    "text": "Loading…"
  },
  {
    "objectID": "updates/pilot_launch.html",
    "href": "updates/pilot_launch.html",
    "title": "Health RADAR pilot launch",
    "section": "",
    "text": "We’re excited to announce the upcoming pilot of Health Radar—a new initiative designed to make data on climate-sensitive infectious diseases more accessible and actionable. The pilot is a critical first step as we test the platform’s features, gather feedback from users, and shape its evolution. Here’s what you can expect over the next few weeks.\n\n\nOur team has been hard at work preparing for a smooth pilot launch:\n\nWeek of April 21: We carried out final readiness checks to ensure the platform is functional and intuitive. This included setting up a tagging system for content, finalising key pages, and integrating Google Analytics to help us understand how the site is being used.\nWeek of April 28: Communications were sent out to selected participants who will be joining us on this journey. These early users will play a big role in helping us refine Health Radar.\nWeeks of May 5 & 12: We’re developing and finalising content for a series of pilot webinars and preparing a feedback questionnaire. These tools will help us learn from your experience using Health Radar and identify opportunities to improve.\n\n\n\n\nThroughout the pilot, we’ll be hosting a series of interactive webinars to walk participants through the platform and its capabilities:\n\nMay 19: Webinar 1 – Introduction to RADAR & Pilot Task\nAn overview of Health Radar, our partners, and the task for pilot participants.\nMay 26: Webinar 2 – Exploring Pilot Access\nA hands-on session demonstrating how to navigate and access pilot features.\nJune 2: Webinar 3 – Visualisation\nHighlighting the visual tools available to explore and make sense of the data.\nJune 9: Webinar 4 – Integration & Contextualisation\nBringing it all together—how to connect data points and contextualise insights.\nJune 16: Webinar 5 – Conclusion & Synthesis\nWe’ll wrap up with key findings, insights from participants, and—if applicable—presentations from standout contributors. We’ll also share what’s next for Health Radar, including the official launch timeline.\n\n\n\n\nThe pilot phase is all about learning, refining, and building a platform that truly meets the needs of decision-makers and practitioners working at the intersection of climate and health. We’re incredibly grateful to our early users and look forward to sharing the results of this pilot with the broader community soon.\nStay tuned—and thank you for being part of the journey!"
  },
  {
    "objectID": "updates/pilot_launch.html#introducing-the-health-radar-pilot-launch",
    "href": "updates/pilot_launch.html#introducing-the-health-radar-pilot-launch",
    "title": "Health RADAR pilot launch",
    "section": "",
    "text": "We’re excited to announce the upcoming pilot of Health Radar—a new initiative designed to make data on climate-sensitive infectious diseases more accessible and actionable. The pilot is a critical first step as we test the platform’s features, gather feedback from users, and shape its evolution. Here’s what you can expect over the next few weeks.\n\n\nOur team has been hard at work preparing for a smooth pilot launch:\n\nWeek of April 21: We carried out final readiness checks to ensure the platform is functional and intuitive. This included setting up a tagging system for content, finalising key pages, and integrating Google Analytics to help us understand how the site is being used.\nWeek of April 28: Communications were sent out to selected participants who will be joining us on this journey. These early users will play a big role in helping us refine Health Radar.\nWeeks of May 5 & 12: We’re developing and finalising content for a series of pilot webinars and preparing a feedback questionnaire. These tools will help us learn from your experience using Health Radar and identify opportunities to improve.\n\n\n\n\nThroughout the pilot, we’ll be hosting a series of interactive webinars to walk participants through the platform and its capabilities:\n\nMay 19: Webinar 1 – Introduction to RADAR & Pilot Task\nAn overview of Health Radar, our partners, and the task for pilot participants.\nMay 26: Webinar 2 – Exploring Pilot Access\nA hands-on session demonstrating how to navigate and access pilot features.\nJune 2: Webinar 3 – Visualisation\nHighlighting the visual tools available to explore and make sense of the data.\nJune 9: Webinar 4 – Integration & Contextualisation\nBringing it all together—how to connect data points and contextualise insights.\nJune 16: Webinar 5 – Conclusion & Synthesis\nWe’ll wrap up with key findings, insights from participants, and—if applicable—presentations from standout contributors. We’ll also share what’s next for Health Radar, including the official launch timeline.\n\n\n\n\nThe pilot phase is all about learning, refining, and building a platform that truly meets the needs of decision-makers and practitioners working at the intersection of climate and health. We’re incredibly grateful to our early users and look forward to sharing the results of this pilot with the broader community soon.\nStay tuned—and thank you for being part of the journey!"
  }
]