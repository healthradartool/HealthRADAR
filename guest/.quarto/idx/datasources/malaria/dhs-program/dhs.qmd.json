{"title":"The Demographic and Health Surveys Program","markdown":{"yaml":{"title":"The Demographic and Health Surveys Program","description":"The Demographic and Health Surveys (DHS) Program has collected population survey data from over 90 countries for over 30 years.","date":"07/04/2024","image":"images/dhs.png","execute":{"message":false,"warning":false},"language":{"title-block-published":"Last updated"},"page-layout":"full","title-block-banner":"#EDF3F9","title-block-banner-color":"#212529","categories":["malaria","epidemiology","country-level","annual"]},"headingText":"About the data","containsRefs":false,"markdown":"\n\n\nThe DHS (Demographic and Health Surveys) Program provides data on population, health, and nutrition through more than 400 surveys in over 90 countries. Data covers the following areas; *Population and Demographics, Fertility and Family Planning, Maternal and Child Health, Nutrition, HIV/AIDS and Other Infections, Malaria, & Gender and Domestic Violence*.\n\nThe DHS data are widely used by governments, NGOs, researchers, and policymakers to design and monitor health programs and policies. The surveys are conducted through face-to-face interviews with representative samples of households, and they use standardized questionnaires to ensure comparability across countries and over time.\n\nDemographic health surveys are also unique for modelling as you can correlate across various datasets variables for example linking Malaria data on prevention and treatment to other factors in the population and demographics data to other health system indicators\n\n## Accessing the data\n\nThere are several options for accessing the data, each thoroughly explained in other resources.\n\n::: {.panel-tabset}\n\n## DHS Website\n\n[The DHS Program Access Instructions:](https://www.dhsprogram.com/data/Access-Instructions.cfm) This requires signing up for a free user account.\n\n{{< video https://www.youtube.com/embed/videoseries?amp;list=PLagqLv-gqpTNBR0KcyrajAqKrFdsdIqqe >}}\n\n\n## STATcompiler\n\n[STATcompiler](https://www.statcompiler.com/en/), a graphical user interface tool for accessing and downloading the data in CSV format.\n\n{{< video https://youtu.be/eXdPi6a_pQ0?list=PLagqLv-gqpTNRdiY391wMY0lzM_MuYpAL >}}\n\n#### Accessing the data using STATcompiler\n\n-   **Prevalence and Treatment**: Users can access data on malaria prevalence and treatment practices directly from the [STATcompiler](https://www.STATcompiler%20.com/en/). It allows for the creation of tables, charts, and maps that display malaria prevalence rates, treatment practices, and trends over time.\n\n-   **Preventive Measures**: STATcompiler provides data on the ownership and use of ITNs, IRS coverage, and IPTp usage. Users can visualize how these preventive measures vary across different regions and demographic groups.\n\n\n-   **Country and Regional Comparisons**: STATcompiler enables users to compare malaria data across different countries and regions. This comparative analysis helps in identifying best practices and areas that require more attention.\n\n-   **Temporal Trends**: Users can analyze trends over time to see how malaria prevention and treatment efforts have evolved and their impact on malaria prevalence and morbidity\n\n-   **Tailored Data Retrieval**: STATcompiler allows users to create custom tables based on specific indicators related to malaria. Users can filter data by variables such as age, sex, urban/rural residence, and wealth quintile.\n\n-   **Indicator Selection**: Users can select specific indicators related to malaria, such as ITN usage, malaria prevalence among children under five, and access to malaria treatment. This customization helps in focusing on particular aspects of malaria control and prevention.\n\n-   **Holistic Health Analysis**: STATcompiler can integrate malaria data with other health indicators, such as child mortality rates, nutrition status, and maternal health. This integration provides a comprehensive view of health challenges and the interconnections between different health issues.\n\n-   **Multi-Indicator Analysis**: Users can analyse how malaria prevention and treatment efforts correlate with other health outcomes, facilitating a broader understanding of health dynamics.\n\n-   **Interactive Tools**: STATcompiler offers an interactive and user-friendly interface, making it easy for users to navigate and extract relevant malaria data.\n\n-   **Data Export**: Users can export data in various formats (e.g., Excel, CSV) for further analysis or reporting purposes.\n\n#### Practical Applications using STATcompiler to access DHS program data\n\n-   **Policy Making and Program Design**: Policymakers and program designers can access up-to-date malaria data, helping them create evidence-based strategies and allocate resources effectively.\n\n-   **Research and Academic Studies**: Researchers can utilize STATcompiler to obtain detailed malaria data for their studies, facilitating in-depth analysis and publication of findings.\n\n-   **Monitoring and Evaluation**: Health organizations can monitor the progress of malaria interventions by analysing trends and identifying gaps in coverage .\n\nBy leveraging the capabilities of STATcompiler, users can efficiently analyse and visualise malaria data collected by the DHS Program, leading to more informed decisions and effective interventions in malaria control and prevention.\n\n## R package\n\nThe Demographic and Health Surveys (DHS) Program has developed an open-source R package [`rdhs`](https://docs.ropensci.org/rdhs/) for management and analysis of Demographic and Health Survey data. This includes functionality to:\n\n1.  Access standard indicator data (i.e. [DHS STATcompiler](https://www.statcompiler.com/)) in R via the [DHS API](https://api.dhsprogram.com/).\n\n2.  Identify surveys and datasets relevant to a particular analysis.\n\n3.  Download survey datasets from the [DHS website](https://dhsprogram.com/data/available-datasets.cfm).\n\n4.  Load datasets and associated metadata into R.\n\n5.  Extract variables and combining datasets for pooled multi-survey analyses.\n\n\n:::\n\n## What does the data look like?\n\n**Description**\n\nDHS data on malaria covers the following area for malaria\n\n-   Prevalence and Treatment\n-   Preventive Measures\n-   Awareness and Behaviour\n-   Health System and Access to Care\n-   Impact of Malaria Interventions\n\nThe indicator dataset guide can found at [The DHS Program - Malaria](https://www.dhsprogram.com/topics/malaria/index.cfm)\n\n![Malaria Data in DHS Surveys](images/malaria%20data%20in%20dhs%20survey.png)\n\n::: {.callout-note collapse=\"true\"}\n## How to plot this data?\n\n```{r}\n#| include: false\n#| message: false\n#| warning: false\n\nlibrary(\"knitr\")\nlibrary(tidyverse)\nlibrary(viridis)\nlibrary(sf)\nlibrary(RColorBrewer)\nlibrary(rdhs)\n\nknitr::opts_chunk$set(echo = T, cache = T, warning = F, message = F, fig.pos = 'H', cache = T)\noptions(digits=4, scipen = 9)\n```\n\n```{r}\n#| message: false\n#| warning: false\n\nindicators <- dhs_indicators()\n\n# Display the first 5 indicators\n#indicators[order(indicators$IndicatorId),][1:5,c(\"IndicatorId\", \"Definition\")]\n\n# Find all indicators starting with ML\nall_malaria_indicators = indicators[grepl(\"^ML\", indicators$IndicatorId), c(\"IndicatorId\", \"Definition\")]\n#all_malaria_indicators\n\n# Find the definition for indicator ML_FEVT_C_AML\n#indicators[indicators$IndicatorId == \"ML_FEVT_C_AML\", \"Definition\"]\n\n\n# Find the definition for indicator ML_NETP_H_MOS\n#indicators[indicators$IndicatorId == \"ML_NETP_H_MOS\", \"Definition\"]\n\ntags <- dhs_tags()\n\n# Get the tags related to malaria\n#tags[grepl(\"Malaria\", tags$TagName), ]\n```\n\n```{r}\n#| message: false\n#| warning: false\n\n# Get the country codes of the frontline 4 of the elimination 8 countries\nall_countries = dhs_countries(returnFields=c(\"CountryName\",\"DHS_CountryCode\"))\n\n# Get the country codes of the frontline 4 of the elimination 8 countries\nfrontline4 = c(\"Botswana\", \"Namibia\", \"South Africa\", \"Eswatini\")\nelim8 = c(\"Botswana\", \"Namibia\", \"South Africa\", \"Eswatini\", \"Zambia\", \"Zimbabwe\", \"Mozambique\", \"Malawi\")\n\n# Get the country codes of the frontline 4 of the elimination 8 countries\nf4_codes = all_countries[all_countries$CountryName %in% frontline4, \"DHS_CountryCode\"]\ne8_codes = all_countries[all_countries$CountryName %in% elim8, \"DHS_CountryCode\"]\n\n```\n\n```{r}\n\n# Retrieve DHS data for the specified indicator, countries, and survey years\ndata1 <- dhs_data(indicatorIds = \"ML_NETP_H_MOS\",\n                 countryIds = f4_codes,\n                 surveyYearStart = 2000,\n                 breakdown = \"subnational\")\n\n# Remove rows with CharacteristicLabel starting with \"..\" to avoid double counting regions\nfilt_data = data1[!grepl(\"^\\\\..*\", data1$CharacteristicLabel),]\n\n# Filter the data for Namibia only\nfilt_data = filt_data[filt_data$CountryName == \"Namibia\",]\n\n# Define a single color for the bars\nsingle_color <- \"#1b9e77\"\n\n# Plot the data as a bar plot\nggplot(filt_data, aes(x = as.factor(SurveyYear), y = Value, fill = single_color, color = \"black\")) +\n  # Create bar plot with identity statistic and no legend\n  geom_bar(stat = \"identity\", position = \"dodge\", show.legend = FALSE) + \n  # Use the defined color for fill and set border color to black\n  scale_fill_identity() +\n  scale_color_identity() +  \n  # Set y-axis ticks increment to 10\n  scale_y_continuous(breaks = seq(0, max(filt_data$Value, na.rm = TRUE), by = 10)) +  \n  # Add titles and labels\n  labs(\n    title = \"Households with at least one mosquito net in Namibia\",\n    subtitle = \"Based on subnational DHS survey data\",\n    x = \"Survey Year\",\n    y = \"Percentage of Households\",\n    caption = \"Source: DHS Data API - Malaria Indicator ML_NETP_H_MOS\"\n  ) +\n  # Facet the plot by CharacteristicLabel, with 6 columns\n  facet_wrap(~ CharacteristicLabel, ncol = 6) +\n  # Apply a minimal theme with customisations\n  theme_minimal() +\n  theme(\n    # Center and style the plot title and subtitle\n    plot.title = element_text(hjust = 0.5, size = 16, face = \"bold\"),\n    plot.subtitle = element_text(hjust = 0.5, size = 14),\n    # Style the axis titles and text\n    axis.title = element_text(size = 14, face = \"bold\"),\n    axis.text = element_text(size = 12),\n    axis.text.x = element_text(angle = 45, hjust = 1),\n    # Style the plot caption\n    plot.caption = element_text(hjust = 0, size = 10, face = \"italic\"),\n    # Adjust the plot margins\n    plot.margin = margin(t = 20, r = 20, b = 40, l = 20),\n    # Style the facet strip text\n    strip.text = element_text(size = 12, face = \"bold\"),\n    # Remove the legend\n    legend.position = \"none\",  \n    # Add light background to each facet panel\n    panel.background = element_rect(fill = \"#F0F0F0\", color = NA),  \n    # Add spacing between panels\n    panel.spacing = unit(0.5, \"lines\")  \n  )\n\n```\n\n```{r}\n\n# Retrieve DHS data for the specified indicator, countries, and survey years\ndata2 <- dhs_data(indicatorIds = \"ML_NETP_H_MNM\",\n                 countryIds = e8_codes,\n                 surveyYearStart = 2000,\n                 breakdown = \"subnational\")\n\n# Keep only the rows where the level rank is 1 (national level data)\nfilt_data = data2[data2$LevelRank == 1,]\n\n# Remove rows with CharacteristicLabel starting with \"..\" to avoid double counting regions\nfilt_data = filt_data[!grepl(\"^\\\\..*\", filt_data$CharacteristicLabel),]\n\n# Plot the data using ggplot2\nggplot(filt_data, aes(x = SurveyYear, y = Value, colour = CountryName)) +\n  # Add points to the plot\n  geom_point(size = 2) +\n  # Add a smooth line using a generalised linear model, with confidence interval shading\n  geom_smooth(method = \"glm\", se = TRUE, alpha = 0.3) +\n  # Facet the plot by CountryName, with 3 columns and free y-axis scales\n  facet_wrap(~ CountryName, ncol = 3, scales = \"free_y\") +\n  # Add titles and labels\n  labs(\n    title = \"Trend of mean number of mosquito nets by E8 country\",\n    subtitle = \"Based on subnational survey data from various years\",\n    x = \"Survey Year\",\n    y = \"Mean Nets Per Household\",\n    colour = \"Country\",\n    caption = \"Source: DHS Data API - Malaria Indicator ML_NETP_H_MNM\"\n  ) +\n  # Apply a minimal theme with customizations\n  theme_minimal() +\n  theme(\n    # Center and style the plot title and subtitle\n    plot.title = element_text(hjust = 0.5, size = 16, face = \"bold\"),\n    plot.subtitle = element_text(hjust = 0.5, size = 14),\n    # Style the axis titles and text\n    axis.title = element_text(size = 14, face = \"bold\"),\n    axis.text = element_text(size = 12),\n    # Rotate x-axis text for better readability\n    axis.text.x = element_text(angle = 90, vjust = 0.5),\n    # Style the legend title and text\n    legend.title = element_text(size = 14, face = \"bold\"),\n    legend.text = element_text(size = 12),\n    # Style the plot caption\n    plot.caption = element_text(hjust = 0, size = 10, face = \"italic\"),\n    # Adjust the plot margins\n    plot.margin = margin(t = 20, r = 20, b = 40, l = 20)\n  ) +\n  # Center the legend title\n  guides(colour = guide_legend(title.position = \"top\", title.hjust = 0.5))\n\n```\n\nSubnational data - mean number of mosquito nets by E8 country Each point represents the mean number of nets in a specific subregion of the country. The line represents the trend over time for each country. The shaded area represents the 95% confidence interval for the trend line. Add brief descriptions for each one.\n\n```{r}\n\n# Filter the data for Zambia for the year 2018\nd = data2[(data2$CountryName == \"Zambia\" & data2$SurveyYear == 2018),]\n\n# Download the related spatial data frame object for Zambia\nsp <- download_boundaries(surveyId = d$SurveyId[1], method = \"sf\")\n\n# Match our values to the regions in the spatial data\nm <- d$Value[match(sp$sdr_subnational_boundaries$REG_ID, d$RegionId)]\nsp$sdr_subnational_boundaries$Value <- m\n\n# Plot the spatial data using ggplot2\nggplot(sp$sdr_subnational_boundaries) + \n  # Add a filled polygon layer for each region\n  geom_sf(aes(fill = Value), color = \"lightgrey\", size = 0.3) + \n  # Use the viridis color scale for the fill, with specific options and NA value color\n  scale_fill_viridis_c(option = \"plasma\", na.value = \"grey50\", name = \"Value\") +\n  # Add titles and labels\n  labs(\n    title = \"Mean number of mosquito nets in Zambia\",\n    subtitle = \"Based on subnational DHS survey data from 2018\",\n    caption = \"Source: DHS Data API - Malaria Indicator ML_NETP_H_MNM\",\n    x = \"Longitude\",\n    y = \"Latitude\"\n  ) +\n  # Apply a minimal theme with customizations\n  theme_minimal() +\n  theme(\n    # Center and style the plot title and subtitle\n    plot.title = element_text(hjust = 0.5, size = 16, face = \"bold\"),\n    plot.subtitle = element_text(hjust = 0.5, size = 14),\n    # Style the axis titles and text\n    axis.title = element_text(size = 14, face = \"bold\"),\n    axis.text = element_text(size = 12),\n    # Style the legend title and text\n    legend.title = element_text(size = 14, face = \"bold\"),\n    legend.text = element_text(size = 12),\n    # Style the plot caption\n    plot.caption = element_text(hjust = 0, size = 10, face = \"italic\"),\n    # Adjust the plot margins\n    plot.margin = margin(t = 20, r = 20, b = 40, l = 20)\n  ) +\n  # Center the legend title\n  guides(fill = guide_colorbar(title.position = \"top\", title.hjust = 0.5))\n\n```\n\n```{r}\nlibrary(leaflet)\n\n# Make a request to DHS data API for Malawi, for the specified indicator, and survey years\nd2 <- dhs_data(countryIds = \"MW\",\n              indicatorIds = \"ML_FEVT_C_AML\",\n              breakdown = \"subnational\",\n              surveyYearStart = 2016,\n              returnGeometry = TRUE,\n              f = \"geojson\")\n\n# Convert the retrieved data to JSON format\nm <- geojsonio::as.json(d2)\n\n# Convert the JSON data to a spatial object\nnc2 <- geojsonio::geojson_sp(m) \n\n# Define the color palette using the \"viridis\" color scale without log scale\npal <- leaflet::colorNumeric(\"viridis\", domain = nc2$Value, na.color = \"grey50\")\n\n# Plot the data using leaflet\nleaflet(nc2[nc2$IndicatorId == \"ML_FEVT_C_AML\", ]) %>%\n  # Add base map tiles\n  addTiles() %>%\n  # Add polygons to represent the regions\n  addPolygons(\n    stroke = TRUE,  # Add stroke to polygons\n    color = \"lightgrey\",  # Set the border color to light grey\n    weight = 0.5,  # Set the border weight\n    smoothFactor = 0.3,  # Set the smooth factor for better rendering\n    fillOpacity = 0.8,  # Set fill opacity\n    fillColor = ~pal(Value),  # Fill polygons based on Value using the defined palette\n    # Add labels to the polygons with characteristic label and value\n    label = ~paste0(CharacteristicLabel, \": \", formatC(Value, big.mark = \",\")),\n    labelOptions = leaflet::labelOptions(\n      style = list(\"font-weight\" = \"bold\", \"color\" = \"black\"),  # Style the label text\n      textsize = \"13px\",\n      direction = \"auto\"\n    )\n  ) %>%\n  # Add a legend to the map\n  addLegend(\n    pal = pal,  # Use the defined palette\n    values = ~Value,  # Set the values for the legend\n    opacity = 1.0,  # Set the opacity of the legend\n    title = \"Malawi: children with fever who took antimalarial drugs (%)\",  # Set the title of the legend\n    position = \"bottomright\",  # Position the legend at the bottom right\n    labFormat = labelFormat()  # Format the labels\n  ) %>%\n  # Set the initial view of the map to focus on Malawi\n  setView(lng = 37, lat = -13, zoom = 5.5)\n\n```\n:::\n\n::: {.callout-note collapse=\"true\"}\n## How to model this data?\n\n```{r}\n#| include: false\n#| message: false\n#| warning: false\n\nlibrary(\"knitr\")\nlibrary(tidyverse)\nlibrary(rdhs)\n\nknitr::opts_chunk$set(echo = T, cache = T, warning = F, message = F, fig.pos = 'H', cache = T)\noptions(digits=4, scipen = 9)\n```\n\nIncluding DHS data in modelling could be using known values to estimate their impact on transmission. For instance, a user could obtain the relevant DHS data (e.g. ITN access and usage rates) from the survey indicators, and estimate the effective coverage in a particular country.\n\nTo do this we make a few assumptions and state them explicitly. We assume:\n\n-   Survey year correlates with net distribution, and access to mosquito nets in any given household is a result of distribution in a given year.\n\n-   Net usage remains consistent until a new survey is conducted.\n\n-   Net functionality and effectiveness wanes annually, and they are considered lost/expired after three years.\n\n-   Operational effectiveness accounts for factors such as the peak biting hours of a particular vector versus the time actually spent under the net. In some communities people spend their evenings at cuca shops or other informal outdoor settings, leaving them vulnerable to outdoor biting from exophagic vectors.\n\n```{r}\n#| message: false\n#| warning: false\n\n# ITN example\n\n#source(\"theme_health_radar.R\")\nlibrary(tidyverse)\nlibrary(rdhs)\n\n# Get the country codes of the elimination 8 countries\nall_countries = dhs_countries(returnFields=c(\"CountryName\",\"DHS_CountryCode\"))\nelim8 = c(\"Botswana\", \"Namibia\", \"South Africa\", \"Eswatini\", \"Zambia\", \"Zimbabwe\", \"Mozambique\", \"Malawi\")\n\n# Get the country codes of the elimination 8 countries\ne8_codes = all_countries[all_countries$CountryName %in% elim8, \"DHS_CountryCode\"]\n\n## Source ITN coverage and usage data\n\nindicators <- dhs_indicators()\nall_malaria_indicators <- indicators |> \n  filter(Level1 == \"Malaria\") |> \n  select(c(\"IndicatorId\", \"Definition\"))\n\n# Select indicators\n\n# ML_NETP_H_IT2: Percentage of households with at least one insecticide-treated mosquito net (ITN) for every two persons who stayed in the household the previous night\n# ML_ITNU_N_ITN: Percentage of existing insecticide treated nets used the night before the survey\n\naccess_data <- dhs_data(indicatorIds = \"ML_NETP_H_IT2\",\n                  countryIds = e8_codes,\n                  surveyYearStart = 2000)\n\nusage_data <- dhs_data(indicatorIds = \"ML_ITNU_N_ITN\",\n                          countryIds = e8_codes,\n                          surveyYearStart = 2000)\n\n# Filter the data for Mozambique \n\nyears <- access_data |> \n  filter(CountryName == \"Mozambique\") |>\n  pull(SurveyYear) \n\nitn_access <- access_data |>\n  filter(CountryName == \"Mozambique\", SurveyYear %in% years) |>\n  arrange(SurveyYear) |>\n  select(SurveyYear, Value) |> \n  complete(SurveyYear = full_seq(SurveyYear, 1), fill = list(Value = 0)) |> # assume other years to be zero\n  pull(Value)\n\nitn_use <- usage_data |>\n  filter(CountryName == \"Mozambique\", SurveyYear %in% years) |>\n  arrange(SurveyYear) |>\n  select(SurveyYear, Value) |> \n  complete(SurveyYear = full_seq(SurveyYear, 1)) |> # usage remains consistent\n  fill(Value, .direction = \"down\") |> \n  pull(Value)\n  \n# Assumptions\nitn_eff <- c(0.95, 0.90, 0.85) # Annual ITN attrition/loss in physical and chemical effectiveness\nopp_eff <- 0.5 # Operational effectiveness of ITN at reducing transmission\n\n```\n\nTo demonstrate a loss in net functionality and effectiveness as they degrade and undergo attrition, the user can use the concept of convolution to represent a reduction in net access in the population. The initial series of values (net access) is reduced by another series of values (net effectiveness) at each time step by \"filtering\" the initial series through the reducing series. For example,\n\n-   one year of net access and usage results in 5% loss,\n\n-   two years result in 10% loss, and\n\n-   three years result in 15% loss.\n\nNinety five percent (95%) of nets received in year one will remain at the end of the year. At the end of year two, we have 95% of nets received in year two, as well as 90% of the nets previously received in year one. In year three, 95% of any new nets will remain, 90% of the nets received in year two, and 85% of the nets previously received in year one. After four years, 0% of the nets received in year one remain, as well as 90% and 85% of nets received in years two and three, respectively.\n\n```{r}\n# Calculate coverage as loss in access by reductions in ITN effectiveness\nitn_cov <- convolve(itn_access/100, rev(itn_eff), type = \"open\")\nitn_cov <- itn_cov[1:length(itn_access)]  # Match the length of the distribution data\nitn_cov_rounded <- round(itn_cov, 3)\n```\n\nCoverage is considered effective if it means the minimum access of one net per two persons, the net is used the night prior to the survey, and is operationally effective at preventing bites from an infectious mosquito. This represents the proportion of people who are protected from ongoing transmission.\n\n```{r}\n\n# Number of people with access effectively covered by available ITNs\neff_cov <- itn_cov_rounded * (itn_use/100) * opp_eff\n\n# Create a data frame for the plot\nitn_data <- data.frame(\n  Year = full_seq(years, 1),\n  Effective_Coverage = eff_cov \n)\n\n# Create the ITN coverage plot\nggplot(itn_data, aes(x = Year, y = Effective_Coverage)) +\n  geom_line() +\n  labs(\n    title = \"Effective ITN Coverage in Mozambique\",\n    subtitle = \"Malaria prevention through distribution and use of ITNs\",\n    x = \"Survey Year\",\n    y = \"People Protected (%)\",\n    caption = \"Source: DHS Data API - Malaria Indicators ML_NETP_H_IT2 & ML_ITNU_N_ITN\"\n  ) +\n  #theme_health_radar() +\n  theme_minimal() +\n  theme(axis.text.y = element_text(size = 10)) +\n  scale_x_continuous(breaks = years) +\n  scale_y_continuous(limits = c(0, 1), labels = scales::percent)\n\n\n```\n\nIn epidemiology, the measure of intensity of disease transmission is also known as the force of infection. Simply put, this is the rate at which susceptible individuals become infected per unit time. Three main factors determine this: the proportion of the mosquito population that is infectious, the contact rate between infectious mosquitoes and susceptible humans, and the probability that a bite from an infectious mosquito transmits disease to a susceptible human. The same applies with respect to infectious humans and susceptible mosquitoes. Mosquito nets are intended to prevent transmission by reducing the contact rate between humans and mosquitoes, and we assume that the population that is effectively covered by a mosquito net is no longer vulnerable to disease. As such, the force of infection, typically denoted by lambda ($λ$), now excludes those protected by the mosquito nets.\n\n```{r}\n#| eval: false\n\n## To reduce transmission in disease model\n\nlambda <- 0.7 # Force of infection\nnew_lambda <- lambda * (1-eff_cov)\n```\n:::\n\n","srcMarkdownNoYaml":"\n\n## About the data\n\nThe DHS (Demographic and Health Surveys) Program provides data on population, health, and nutrition through more than 400 surveys in over 90 countries. Data covers the following areas; *Population and Demographics, Fertility and Family Planning, Maternal and Child Health, Nutrition, HIV/AIDS and Other Infections, Malaria, & Gender and Domestic Violence*.\n\nThe DHS data are widely used by governments, NGOs, researchers, and policymakers to design and monitor health programs and policies. The surveys are conducted through face-to-face interviews with representative samples of households, and they use standardized questionnaires to ensure comparability across countries and over time.\n\nDemographic health surveys are also unique for modelling as you can correlate across various datasets variables for example linking Malaria data on prevention and treatment to other factors in the population and demographics data to other health system indicators\n\n## Accessing the data\n\nThere are several options for accessing the data, each thoroughly explained in other resources.\n\n::: {.panel-tabset}\n\n## DHS Website\n\n[The DHS Program Access Instructions:](https://www.dhsprogram.com/data/Access-Instructions.cfm) This requires signing up for a free user account.\n\n{{< video https://www.youtube.com/embed/videoseries?amp;list=PLagqLv-gqpTNBR0KcyrajAqKrFdsdIqqe >}}\n\n\n## STATcompiler\n\n[STATcompiler](https://www.statcompiler.com/en/), a graphical user interface tool for accessing and downloading the data in CSV format.\n\n{{< video https://youtu.be/eXdPi6a_pQ0?list=PLagqLv-gqpTNRdiY391wMY0lzM_MuYpAL >}}\n\n#### Accessing the data using STATcompiler\n\n-   **Prevalence and Treatment**: Users can access data on malaria prevalence and treatment practices directly from the [STATcompiler](https://www.STATcompiler%20.com/en/). It allows for the creation of tables, charts, and maps that display malaria prevalence rates, treatment practices, and trends over time.\n\n-   **Preventive Measures**: STATcompiler provides data on the ownership and use of ITNs, IRS coverage, and IPTp usage. Users can visualize how these preventive measures vary across different regions and demographic groups.\n\n\n-   **Country and Regional Comparisons**: STATcompiler enables users to compare malaria data across different countries and regions. This comparative analysis helps in identifying best practices and areas that require more attention.\n\n-   **Temporal Trends**: Users can analyze trends over time to see how malaria prevention and treatment efforts have evolved and their impact on malaria prevalence and morbidity\n\n-   **Tailored Data Retrieval**: STATcompiler allows users to create custom tables based on specific indicators related to malaria. Users can filter data by variables such as age, sex, urban/rural residence, and wealth quintile.\n\n-   **Indicator Selection**: Users can select specific indicators related to malaria, such as ITN usage, malaria prevalence among children under five, and access to malaria treatment. This customization helps in focusing on particular aspects of malaria control and prevention.\n\n-   **Holistic Health Analysis**: STATcompiler can integrate malaria data with other health indicators, such as child mortality rates, nutrition status, and maternal health. This integration provides a comprehensive view of health challenges and the interconnections between different health issues.\n\n-   **Multi-Indicator Analysis**: Users can analyse how malaria prevention and treatment efforts correlate with other health outcomes, facilitating a broader understanding of health dynamics.\n\n-   **Interactive Tools**: STATcompiler offers an interactive and user-friendly interface, making it easy for users to navigate and extract relevant malaria data.\n\n-   **Data Export**: Users can export data in various formats (e.g., Excel, CSV) for further analysis or reporting purposes.\n\n#### Practical Applications using STATcompiler to access DHS program data\n\n-   **Policy Making and Program Design**: Policymakers and program designers can access up-to-date malaria data, helping them create evidence-based strategies and allocate resources effectively.\n\n-   **Research and Academic Studies**: Researchers can utilize STATcompiler to obtain detailed malaria data for their studies, facilitating in-depth analysis and publication of findings.\n\n-   **Monitoring and Evaluation**: Health organizations can monitor the progress of malaria interventions by analysing trends and identifying gaps in coverage .\n\nBy leveraging the capabilities of STATcompiler, users can efficiently analyse and visualise malaria data collected by the DHS Program, leading to more informed decisions and effective interventions in malaria control and prevention.\n\n## R package\n\nThe Demographic and Health Surveys (DHS) Program has developed an open-source R package [`rdhs`](https://docs.ropensci.org/rdhs/) for management and analysis of Demographic and Health Survey data. This includes functionality to:\n\n1.  Access standard indicator data (i.e. [DHS STATcompiler](https://www.statcompiler.com/)) in R via the [DHS API](https://api.dhsprogram.com/).\n\n2.  Identify surveys and datasets relevant to a particular analysis.\n\n3.  Download survey datasets from the [DHS website](https://dhsprogram.com/data/available-datasets.cfm).\n\n4.  Load datasets and associated metadata into R.\n\n5.  Extract variables and combining datasets for pooled multi-survey analyses.\n\n\n:::\n\n## What does the data look like?\n\n**Description**\n\nDHS data on malaria covers the following area for malaria\n\n-   Prevalence and Treatment\n-   Preventive Measures\n-   Awareness and Behaviour\n-   Health System and Access to Care\n-   Impact of Malaria Interventions\n\nThe indicator dataset guide can found at [The DHS Program - Malaria](https://www.dhsprogram.com/topics/malaria/index.cfm)\n\n![Malaria Data in DHS Surveys](images/malaria%20data%20in%20dhs%20survey.png)\n\n::: {.callout-note collapse=\"true\"}\n## How to plot this data?\n\n```{r}\n#| include: false\n#| message: false\n#| warning: false\n\nlibrary(\"knitr\")\nlibrary(tidyverse)\nlibrary(viridis)\nlibrary(sf)\nlibrary(RColorBrewer)\nlibrary(rdhs)\n\nknitr::opts_chunk$set(echo = T, cache = T, warning = F, message = F, fig.pos = 'H', cache = T)\noptions(digits=4, scipen = 9)\n```\n\n```{r}\n#| message: false\n#| warning: false\n\nindicators <- dhs_indicators()\n\n# Display the first 5 indicators\n#indicators[order(indicators$IndicatorId),][1:5,c(\"IndicatorId\", \"Definition\")]\n\n# Find all indicators starting with ML\nall_malaria_indicators = indicators[grepl(\"^ML\", indicators$IndicatorId), c(\"IndicatorId\", \"Definition\")]\n#all_malaria_indicators\n\n# Find the definition for indicator ML_FEVT_C_AML\n#indicators[indicators$IndicatorId == \"ML_FEVT_C_AML\", \"Definition\"]\n\n\n# Find the definition for indicator ML_NETP_H_MOS\n#indicators[indicators$IndicatorId == \"ML_NETP_H_MOS\", \"Definition\"]\n\ntags <- dhs_tags()\n\n# Get the tags related to malaria\n#tags[grepl(\"Malaria\", tags$TagName), ]\n```\n\n```{r}\n#| message: false\n#| warning: false\n\n# Get the country codes of the frontline 4 of the elimination 8 countries\nall_countries = dhs_countries(returnFields=c(\"CountryName\",\"DHS_CountryCode\"))\n\n# Get the country codes of the frontline 4 of the elimination 8 countries\nfrontline4 = c(\"Botswana\", \"Namibia\", \"South Africa\", \"Eswatini\")\nelim8 = c(\"Botswana\", \"Namibia\", \"South Africa\", \"Eswatini\", \"Zambia\", \"Zimbabwe\", \"Mozambique\", \"Malawi\")\n\n# Get the country codes of the frontline 4 of the elimination 8 countries\nf4_codes = all_countries[all_countries$CountryName %in% frontline4, \"DHS_CountryCode\"]\ne8_codes = all_countries[all_countries$CountryName %in% elim8, \"DHS_CountryCode\"]\n\n```\n\n```{r}\n\n# Retrieve DHS data for the specified indicator, countries, and survey years\ndata1 <- dhs_data(indicatorIds = \"ML_NETP_H_MOS\",\n                 countryIds = f4_codes,\n                 surveyYearStart = 2000,\n                 breakdown = \"subnational\")\n\n# Remove rows with CharacteristicLabel starting with \"..\" to avoid double counting regions\nfilt_data = data1[!grepl(\"^\\\\..*\", data1$CharacteristicLabel),]\n\n# Filter the data for Namibia only\nfilt_data = filt_data[filt_data$CountryName == \"Namibia\",]\n\n# Define a single color for the bars\nsingle_color <- \"#1b9e77\"\n\n# Plot the data as a bar plot\nggplot(filt_data, aes(x = as.factor(SurveyYear), y = Value, fill = single_color, color = \"black\")) +\n  # Create bar plot with identity statistic and no legend\n  geom_bar(stat = \"identity\", position = \"dodge\", show.legend = FALSE) + \n  # Use the defined color for fill and set border color to black\n  scale_fill_identity() +\n  scale_color_identity() +  \n  # Set y-axis ticks increment to 10\n  scale_y_continuous(breaks = seq(0, max(filt_data$Value, na.rm = TRUE), by = 10)) +  \n  # Add titles and labels\n  labs(\n    title = \"Households with at least one mosquito net in Namibia\",\n    subtitle = \"Based on subnational DHS survey data\",\n    x = \"Survey Year\",\n    y = \"Percentage of Households\",\n    caption = \"Source: DHS Data API - Malaria Indicator ML_NETP_H_MOS\"\n  ) +\n  # Facet the plot by CharacteristicLabel, with 6 columns\n  facet_wrap(~ CharacteristicLabel, ncol = 6) +\n  # Apply a minimal theme with customisations\n  theme_minimal() +\n  theme(\n    # Center and style the plot title and subtitle\n    plot.title = element_text(hjust = 0.5, size = 16, face = \"bold\"),\n    plot.subtitle = element_text(hjust = 0.5, size = 14),\n    # Style the axis titles and text\n    axis.title = element_text(size = 14, face = \"bold\"),\n    axis.text = element_text(size = 12),\n    axis.text.x = element_text(angle = 45, hjust = 1),\n    # Style the plot caption\n    plot.caption = element_text(hjust = 0, size = 10, face = \"italic\"),\n    # Adjust the plot margins\n    plot.margin = margin(t = 20, r = 20, b = 40, l = 20),\n    # Style the facet strip text\n    strip.text = element_text(size = 12, face = \"bold\"),\n    # Remove the legend\n    legend.position = \"none\",  \n    # Add light background to each facet panel\n    panel.background = element_rect(fill = \"#F0F0F0\", color = NA),  \n    # Add spacing between panels\n    panel.spacing = unit(0.5, \"lines\")  \n  )\n\n```\n\n```{r}\n\n# Retrieve DHS data for the specified indicator, countries, and survey years\ndata2 <- dhs_data(indicatorIds = \"ML_NETP_H_MNM\",\n                 countryIds = e8_codes,\n                 surveyYearStart = 2000,\n                 breakdown = \"subnational\")\n\n# Keep only the rows where the level rank is 1 (national level data)\nfilt_data = data2[data2$LevelRank == 1,]\n\n# Remove rows with CharacteristicLabel starting with \"..\" to avoid double counting regions\nfilt_data = filt_data[!grepl(\"^\\\\..*\", filt_data$CharacteristicLabel),]\n\n# Plot the data using ggplot2\nggplot(filt_data, aes(x = SurveyYear, y = Value, colour = CountryName)) +\n  # Add points to the plot\n  geom_point(size = 2) +\n  # Add a smooth line using a generalised linear model, with confidence interval shading\n  geom_smooth(method = \"glm\", se = TRUE, alpha = 0.3) +\n  # Facet the plot by CountryName, with 3 columns and free y-axis scales\n  facet_wrap(~ CountryName, ncol = 3, scales = \"free_y\") +\n  # Add titles and labels\n  labs(\n    title = \"Trend of mean number of mosquito nets by E8 country\",\n    subtitle = \"Based on subnational survey data from various years\",\n    x = \"Survey Year\",\n    y = \"Mean Nets Per Household\",\n    colour = \"Country\",\n    caption = \"Source: DHS Data API - Malaria Indicator ML_NETP_H_MNM\"\n  ) +\n  # Apply a minimal theme with customizations\n  theme_minimal() +\n  theme(\n    # Center and style the plot title and subtitle\n    plot.title = element_text(hjust = 0.5, size = 16, face = \"bold\"),\n    plot.subtitle = element_text(hjust = 0.5, size = 14),\n    # Style the axis titles and text\n    axis.title = element_text(size = 14, face = \"bold\"),\n    axis.text = element_text(size = 12),\n    # Rotate x-axis text for better readability\n    axis.text.x = element_text(angle = 90, vjust = 0.5),\n    # Style the legend title and text\n    legend.title = element_text(size = 14, face = \"bold\"),\n    legend.text = element_text(size = 12),\n    # Style the plot caption\n    plot.caption = element_text(hjust = 0, size = 10, face = \"italic\"),\n    # Adjust the plot margins\n    plot.margin = margin(t = 20, r = 20, b = 40, l = 20)\n  ) +\n  # Center the legend title\n  guides(colour = guide_legend(title.position = \"top\", title.hjust = 0.5))\n\n```\n\nSubnational data - mean number of mosquito nets by E8 country Each point represents the mean number of nets in a specific subregion of the country. The line represents the trend over time for each country. The shaded area represents the 95% confidence interval for the trend line. Add brief descriptions for each one.\n\n```{r}\n\n# Filter the data for Zambia for the year 2018\nd = data2[(data2$CountryName == \"Zambia\" & data2$SurveyYear == 2018),]\n\n# Download the related spatial data frame object for Zambia\nsp <- download_boundaries(surveyId = d$SurveyId[1], method = \"sf\")\n\n# Match our values to the regions in the spatial data\nm <- d$Value[match(sp$sdr_subnational_boundaries$REG_ID, d$RegionId)]\nsp$sdr_subnational_boundaries$Value <- m\n\n# Plot the spatial data using ggplot2\nggplot(sp$sdr_subnational_boundaries) + \n  # Add a filled polygon layer for each region\n  geom_sf(aes(fill = Value), color = \"lightgrey\", size = 0.3) + \n  # Use the viridis color scale for the fill, with specific options and NA value color\n  scale_fill_viridis_c(option = \"plasma\", na.value = \"grey50\", name = \"Value\") +\n  # Add titles and labels\n  labs(\n    title = \"Mean number of mosquito nets in Zambia\",\n    subtitle = \"Based on subnational DHS survey data from 2018\",\n    caption = \"Source: DHS Data API - Malaria Indicator ML_NETP_H_MNM\",\n    x = \"Longitude\",\n    y = \"Latitude\"\n  ) +\n  # Apply a minimal theme with customizations\n  theme_minimal() +\n  theme(\n    # Center and style the plot title and subtitle\n    plot.title = element_text(hjust = 0.5, size = 16, face = \"bold\"),\n    plot.subtitle = element_text(hjust = 0.5, size = 14),\n    # Style the axis titles and text\n    axis.title = element_text(size = 14, face = \"bold\"),\n    axis.text = element_text(size = 12),\n    # Style the legend title and text\n    legend.title = element_text(size = 14, face = \"bold\"),\n    legend.text = element_text(size = 12),\n    # Style the plot caption\n    plot.caption = element_text(hjust = 0, size = 10, face = \"italic\"),\n    # Adjust the plot margins\n    plot.margin = margin(t = 20, r = 20, b = 40, l = 20)\n  ) +\n  # Center the legend title\n  guides(fill = guide_colorbar(title.position = \"top\", title.hjust = 0.5))\n\n```\n\n```{r}\nlibrary(leaflet)\n\n# Make a request to DHS data API for Malawi, for the specified indicator, and survey years\nd2 <- dhs_data(countryIds = \"MW\",\n              indicatorIds = \"ML_FEVT_C_AML\",\n              breakdown = \"subnational\",\n              surveyYearStart = 2016,\n              returnGeometry = TRUE,\n              f = \"geojson\")\n\n# Convert the retrieved data to JSON format\nm <- geojsonio::as.json(d2)\n\n# Convert the JSON data to a spatial object\nnc2 <- geojsonio::geojson_sp(m) \n\n# Define the color palette using the \"viridis\" color scale without log scale\npal <- leaflet::colorNumeric(\"viridis\", domain = nc2$Value, na.color = \"grey50\")\n\n# Plot the data using leaflet\nleaflet(nc2[nc2$IndicatorId == \"ML_FEVT_C_AML\", ]) %>%\n  # Add base map tiles\n  addTiles() %>%\n  # Add polygons to represent the regions\n  addPolygons(\n    stroke = TRUE,  # Add stroke to polygons\n    color = \"lightgrey\",  # Set the border color to light grey\n    weight = 0.5,  # Set the border weight\n    smoothFactor = 0.3,  # Set the smooth factor for better rendering\n    fillOpacity = 0.8,  # Set fill opacity\n    fillColor = ~pal(Value),  # Fill polygons based on Value using the defined palette\n    # Add labels to the polygons with characteristic label and value\n    label = ~paste0(CharacteristicLabel, \": \", formatC(Value, big.mark = \",\")),\n    labelOptions = leaflet::labelOptions(\n      style = list(\"font-weight\" = \"bold\", \"color\" = \"black\"),  # Style the label text\n      textsize = \"13px\",\n      direction = \"auto\"\n    )\n  ) %>%\n  # Add a legend to the map\n  addLegend(\n    pal = pal,  # Use the defined palette\n    values = ~Value,  # Set the values for the legend\n    opacity = 1.0,  # Set the opacity of the legend\n    title = \"Malawi: children with fever who took antimalarial drugs (%)\",  # Set the title of the legend\n    position = \"bottomright\",  # Position the legend at the bottom right\n    labFormat = labelFormat()  # Format the labels\n  ) %>%\n  # Set the initial view of the map to focus on Malawi\n  setView(lng = 37, lat = -13, zoom = 5.5)\n\n```\n:::\n\n::: {.callout-note collapse=\"true\"}\n## How to model this data?\n\n```{r}\n#| include: false\n#| message: false\n#| warning: false\n\nlibrary(\"knitr\")\nlibrary(tidyverse)\nlibrary(rdhs)\n\nknitr::opts_chunk$set(echo = T, cache = T, warning = F, message = F, fig.pos = 'H', cache = T)\noptions(digits=4, scipen = 9)\n```\n\nIncluding DHS data in modelling could be using known values to estimate their impact on transmission. For instance, a user could obtain the relevant DHS data (e.g. ITN access and usage rates) from the survey indicators, and estimate the effective coverage in a particular country.\n\nTo do this we make a few assumptions and state them explicitly. We assume:\n\n-   Survey year correlates with net distribution, and access to mosquito nets in any given household is a result of distribution in a given year.\n\n-   Net usage remains consistent until a new survey is conducted.\n\n-   Net functionality and effectiveness wanes annually, and they are considered lost/expired after three years.\n\n-   Operational effectiveness accounts for factors such as the peak biting hours of a particular vector versus the time actually spent under the net. In some communities people spend their evenings at cuca shops or other informal outdoor settings, leaving them vulnerable to outdoor biting from exophagic vectors.\n\n```{r}\n#| message: false\n#| warning: false\n\n# ITN example\n\n#source(\"theme_health_radar.R\")\nlibrary(tidyverse)\nlibrary(rdhs)\n\n# Get the country codes of the elimination 8 countries\nall_countries = dhs_countries(returnFields=c(\"CountryName\",\"DHS_CountryCode\"))\nelim8 = c(\"Botswana\", \"Namibia\", \"South Africa\", \"Eswatini\", \"Zambia\", \"Zimbabwe\", \"Mozambique\", \"Malawi\")\n\n# Get the country codes of the elimination 8 countries\ne8_codes = all_countries[all_countries$CountryName %in% elim8, \"DHS_CountryCode\"]\n\n## Source ITN coverage and usage data\n\nindicators <- dhs_indicators()\nall_malaria_indicators <- indicators |> \n  filter(Level1 == \"Malaria\") |> \n  select(c(\"IndicatorId\", \"Definition\"))\n\n# Select indicators\n\n# ML_NETP_H_IT2: Percentage of households with at least one insecticide-treated mosquito net (ITN) for every two persons who stayed in the household the previous night\n# ML_ITNU_N_ITN: Percentage of existing insecticide treated nets used the night before the survey\n\naccess_data <- dhs_data(indicatorIds = \"ML_NETP_H_IT2\",\n                  countryIds = e8_codes,\n                  surveyYearStart = 2000)\n\nusage_data <- dhs_data(indicatorIds = \"ML_ITNU_N_ITN\",\n                          countryIds = e8_codes,\n                          surveyYearStart = 2000)\n\n# Filter the data for Mozambique \n\nyears <- access_data |> \n  filter(CountryName == \"Mozambique\") |>\n  pull(SurveyYear) \n\nitn_access <- access_data |>\n  filter(CountryName == \"Mozambique\", SurveyYear %in% years) |>\n  arrange(SurveyYear) |>\n  select(SurveyYear, Value) |> \n  complete(SurveyYear = full_seq(SurveyYear, 1), fill = list(Value = 0)) |> # assume other years to be zero\n  pull(Value)\n\nitn_use <- usage_data |>\n  filter(CountryName == \"Mozambique\", SurveyYear %in% years) |>\n  arrange(SurveyYear) |>\n  select(SurveyYear, Value) |> \n  complete(SurveyYear = full_seq(SurveyYear, 1)) |> # usage remains consistent\n  fill(Value, .direction = \"down\") |> \n  pull(Value)\n  \n# Assumptions\nitn_eff <- c(0.95, 0.90, 0.85) # Annual ITN attrition/loss in physical and chemical effectiveness\nopp_eff <- 0.5 # Operational effectiveness of ITN at reducing transmission\n\n```\n\nTo demonstrate a loss in net functionality and effectiveness as they degrade and undergo attrition, the user can use the concept of convolution to represent a reduction in net access in the population. The initial series of values (net access) is reduced by another series of values (net effectiveness) at each time step by \"filtering\" the initial series through the reducing series. For example,\n\n-   one year of net access and usage results in 5% loss,\n\n-   two years result in 10% loss, and\n\n-   three years result in 15% loss.\n\nNinety five percent (95%) of nets received in year one will remain at the end of the year. At the end of year two, we have 95% of nets received in year two, as well as 90% of the nets previously received in year one. In year three, 95% of any new nets will remain, 90% of the nets received in year two, and 85% of the nets previously received in year one. After four years, 0% of the nets received in year one remain, as well as 90% and 85% of nets received in years two and three, respectively.\n\n```{r}\n# Calculate coverage as loss in access by reductions in ITN effectiveness\nitn_cov <- convolve(itn_access/100, rev(itn_eff), type = \"open\")\nitn_cov <- itn_cov[1:length(itn_access)]  # Match the length of the distribution data\nitn_cov_rounded <- round(itn_cov, 3)\n```\n\nCoverage is considered effective if it means the minimum access of one net per two persons, the net is used the night prior to the survey, and is operationally effective at preventing bites from an infectious mosquito. This represents the proportion of people who are protected from ongoing transmission.\n\n```{r}\n\n# Number of people with access effectively covered by available ITNs\neff_cov <- itn_cov_rounded * (itn_use/100) * opp_eff\n\n# Create a data frame for the plot\nitn_data <- data.frame(\n  Year = full_seq(years, 1),\n  Effective_Coverage = eff_cov \n)\n\n# Create the ITN coverage plot\nggplot(itn_data, aes(x = Year, y = Effective_Coverage)) +\n  geom_line() +\n  labs(\n    title = \"Effective ITN Coverage in Mozambique\",\n    subtitle = \"Malaria prevention through distribution and use of ITNs\",\n    x = \"Survey Year\",\n    y = \"People Protected (%)\",\n    caption = \"Source: DHS Data API - Malaria Indicators ML_NETP_H_IT2 & ML_ITNU_N_ITN\"\n  ) +\n  #theme_health_radar() +\n  theme_minimal() +\n  theme(axis.text.y = element_text(size = 10)) +\n  scale_x_continuous(breaks = years) +\n  scale_y_continuous(limits = c(0, 1), labels = scales::percent)\n\n\n```\n\nIn epidemiology, the measure of intensity of disease transmission is also known as the force of infection. Simply put, this is the rate at which susceptible individuals become infected per unit time. Three main factors determine this: the proportion of the mosquito population that is infectious, the contact rate between infectious mosquitoes and susceptible humans, and the probability that a bite from an infectious mosquito transmits disease to a susceptible human. The same applies with respect to infectious humans and susceptible mosquitoes. Mosquito nets are intended to prevent transmission by reducing the contact rate between humans and mosquitoes, and we assume that the population that is effectively covered by a mosquito net is no longer vulnerable to disease. As such, the force of infection, typically denoted by lambda ($λ$), now excludes those protected by the mosquito nets.\n\n```{r}\n#| eval: false\n\n## To reduce transmission in disease model\n\nlambda <- 0.7 # Force of infection\nnew_lambda <- lambda * (1-eff_cov)\n```\n:::\n\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":"auto","echo":true,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"message":false,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":true,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","toc":true,"output-file":"dhs.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Last updated","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"Search","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.5.56","theme":{"light":["flatly","../../../style-light.scss","../../../style-base.scss"]},"mainfont":"Schibsted Grotesk","code-summary":"Show the code","title":"The Demographic and Health Surveys Program","description":"The Demographic and Health Surveys (DHS) Program has collected population survey data from over 90 countries for over 30 years.","date":"07/04/2024","image":"images/dhs.png","page-layout":"full","title-block-banner":"#EDF3F9","title-block-banner-color":"#212529","categories":["malaria","epidemiology","country-level","annual"]},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}